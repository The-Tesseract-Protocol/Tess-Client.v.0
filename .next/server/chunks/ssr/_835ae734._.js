module.exports=[21756,(a,b,c)=>{!function(b){"use strict";var c,d=function(a){var b,c=new Float64Array(16);if(a)for(b=0;b<a.length;b++)c[b]=a[b];return c},e=function(){throw Error("no PRNG")},f=new Uint8Array(16),g=new Uint8Array(32);g[0]=9;var h=d(),i=d([1]),j=d([56129,1]),k=d([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=d([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),m=d([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),n=d([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),o=d([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(a,b,c,d){a[b]=c>>24&255,a[b+1]=c>>16&255,a[b+2]=c>>8&255,a[b+3]=255&c,a[b+4]=d>>24&255,a[b+5]=d>>16&255,a[b+6]=d>>8&255,a[b+7]=255&d}function q(a,b,c,d,e){var f,g=0;for(f=0;f<e;f++)g|=a[b+f]^c[d+f];return(1&g-1>>>8)-1}function r(a,b,c,d){return q(a,b,c,d,16)}function s(a,b,c,d){return q(a,b,c,d,32)}function t(a,b,c,d){!function(a,b,c,d){for(var e,f=255&d[0]|(255&d[1])<<8|(255&d[2])<<16|(255&d[3])<<24,g=255&c[0]|(255&c[1])<<8|(255&c[2])<<16|(255&c[3])<<24,h=255&c[4]|(255&c[5])<<8|(255&c[6])<<16|(255&c[7])<<24,i=255&c[8]|(255&c[9])<<8|(255&c[10])<<16|(255&c[11])<<24,j=255&c[12]|(255&c[13])<<8|(255&c[14])<<16|(255&c[15])<<24,k=255&d[4]|(255&d[5])<<8|(255&d[6])<<16|(255&d[7])<<24,l=255&b[0]|(255&b[1])<<8|(255&b[2])<<16|(255&b[3])<<24,m=255&b[4]|(255&b[5])<<8|(255&b[6])<<16|(255&b[7])<<24,n=255&b[8]|(255&b[9])<<8|(255&b[10])<<16|(255&b[11])<<24,o=255&b[12]|(255&b[13])<<8|(255&b[14])<<16|(255&b[15])<<24,p=255&d[8]|(255&d[9])<<8|(255&d[10])<<16|(255&d[11])<<24,q=255&c[16]|(255&c[17])<<8|(255&c[18])<<16|(255&c[19])<<24,r=255&c[20]|(255&c[21])<<8|(255&c[22])<<16|(255&c[23])<<24,s=255&c[24]|(255&c[25])<<8|(255&c[26])<<16|(255&c[27])<<24,t=255&c[28]|(255&c[29])<<8|(255&c[30])<<16|(255&c[31])<<24,u=255&d[12]|(255&d[13])<<8|(255&d[14])<<16|(255&d[15])<<24,v=f,w=g,x=h,y=i,z=j,A=k,B=l,C=m,D=n,E=o,F=p,G=q,H=r,I=s,J=t,K=u,L=0;L<20;L+=2)z^=(e=v+H|0)<<7|e>>>25,D^=(e=z+v|0)<<9|e>>>23,H^=(e=D+z|0)<<13|e>>>19,v^=(e=H+D|0)<<18|e>>>14,E^=(e=A+w|0)<<7|e>>>25,I^=(e=E+A|0)<<9|e>>>23,w^=(e=I+E|0)<<13|e>>>19,A^=(e=w+I|0)<<18|e>>>14,J^=(e=F+B|0)<<7|e>>>25,x^=(e=J+F|0)<<9|e>>>23,B^=(e=x+J|0)<<13|e>>>19,F^=(e=B+x|0)<<18|e>>>14,y^=(e=K+G|0)<<7|e>>>25,C^=(e=y+K|0)<<9|e>>>23,G^=(e=C+y|0)<<13|e>>>19,K^=(e=G+C|0)<<18|e>>>14,w^=(e=v+y|0)<<7|e>>>25,x^=(e=w+v|0)<<9|e>>>23,y^=(e=x+w|0)<<13|e>>>19,v^=(e=y+x|0)<<18|e>>>14,B^=(e=A+z|0)<<7|e>>>25,C^=(e=B+A|0)<<9|e>>>23,z^=(e=C+B|0)<<13|e>>>19,A^=(e=z+C|0)<<18|e>>>14,G^=(e=F+E|0)<<7|e>>>25,D^=(e=G+F|0)<<9|e>>>23,E^=(e=D+G|0)<<13|e>>>19,F^=(e=E+D|0)<<18|e>>>14,H^=(e=K+J|0)<<7|e>>>25,I^=(e=H+K|0)<<9|e>>>23,J^=(e=I+H|0)<<13|e>>>19,K^=(e=J+I|0)<<18|e>>>14;v=v+f|0,w=w+g|0,x=x+h|0,y=y+i|0,z=z+j|0,A=A+k|0,B=B+l|0,C=C+m|0,D=D+n|0,E=E+o|0,F=F+p|0,G=G+q|0,H=H+r|0,I=I+s|0,J=J+t|0,K=K+u|0,a[0]=v>>>0&255,a[1]=v>>>8&255,a[2]=v>>>16&255,a[3]=v>>>24&255,a[4]=w>>>0&255,a[5]=w>>>8&255,a[6]=w>>>16&255,a[7]=w>>>24&255,a[8]=x>>>0&255,a[9]=x>>>8&255,a[10]=x>>>16&255,a[11]=x>>>24&255,a[12]=y>>>0&255,a[13]=y>>>8&255,a[14]=y>>>16&255,a[15]=y>>>24&255,a[16]=z>>>0&255,a[17]=z>>>8&255,a[18]=z>>>16&255,a[19]=z>>>24&255,a[20]=A>>>0&255,a[21]=A>>>8&255,a[22]=A>>>16&255,a[23]=A>>>24&255,a[24]=B>>>0&255,a[25]=B>>>8&255,a[26]=B>>>16&255,a[27]=B>>>24&255,a[28]=C>>>0&255,a[29]=C>>>8&255,a[30]=C>>>16&255,a[31]=C>>>24&255,a[32]=D>>>0&255,a[33]=D>>>8&255,a[34]=D>>>16&255,a[35]=D>>>24&255,a[36]=E>>>0&255,a[37]=E>>>8&255,a[38]=E>>>16&255,a[39]=E>>>24&255,a[40]=F>>>0&255,a[41]=F>>>8&255,a[42]=F>>>16&255,a[43]=F>>>24&255,a[44]=G>>>0&255,a[45]=G>>>8&255,a[46]=G>>>16&255,a[47]=G>>>24&255,a[48]=H>>>0&255,a[49]=H>>>8&255,a[50]=H>>>16&255,a[51]=H>>>24&255,a[52]=I>>>0&255,a[53]=I>>>8&255,a[54]=I>>>16&255,a[55]=I>>>24&255,a[56]=J>>>0&255,a[57]=J>>>8&255,a[58]=J>>>16&255,a[59]=J>>>24&255,a[60]=K>>>0&255,a[61]=K>>>8&255,a[62]=K>>>16&255,a[63]=K>>>24&255}(a,b,c,d)}function u(a,b,c,d){!function(a,b,c,d){for(var e,f=255&d[0]|(255&d[1])<<8|(255&d[2])<<16|(255&d[3])<<24,g=255&c[0]|(255&c[1])<<8|(255&c[2])<<16|(255&c[3])<<24,h=255&c[4]|(255&c[5])<<8|(255&c[6])<<16|(255&c[7])<<24,i=255&c[8]|(255&c[9])<<8|(255&c[10])<<16|(255&c[11])<<24,j=255&c[12]|(255&c[13])<<8|(255&c[14])<<16|(255&c[15])<<24,k=255&d[4]|(255&d[5])<<8|(255&d[6])<<16|(255&d[7])<<24,l=255&b[0]|(255&b[1])<<8|(255&b[2])<<16|(255&b[3])<<24,m=255&b[4]|(255&b[5])<<8|(255&b[6])<<16|(255&b[7])<<24,n=255&b[8]|(255&b[9])<<8|(255&b[10])<<16|(255&b[11])<<24,o=255&b[12]|(255&b[13])<<8|(255&b[14])<<16|(255&b[15])<<24,p=255&d[8]|(255&d[9])<<8|(255&d[10])<<16|(255&d[11])<<24,q=255&c[16]|(255&c[17])<<8|(255&c[18])<<16|(255&c[19])<<24,r=255&c[20]|(255&c[21])<<8|(255&c[22])<<16|(255&c[23])<<24,s=255&c[24]|(255&c[25])<<8|(255&c[26])<<16|(255&c[27])<<24,t=255&c[28]|(255&c[29])<<8|(255&c[30])<<16|(255&c[31])<<24,u=255&d[12]|(255&d[13])<<8|(255&d[14])<<16|(255&d[15])<<24,v=f,w=g,x=h,y=i,z=j,A=k,B=l,C=m,D=n,E=o,F=p,G=q,H=r,I=s,J=t,K=u,L=0;L<20;L+=2)z^=(e=v+H|0)<<7|e>>>25,D^=(e=z+v|0)<<9|e>>>23,H^=(e=D+z|0)<<13|e>>>19,v^=(e=H+D|0)<<18|e>>>14,E^=(e=A+w|0)<<7|e>>>25,I^=(e=E+A|0)<<9|e>>>23,w^=(e=I+E|0)<<13|e>>>19,A^=(e=w+I|0)<<18|e>>>14,J^=(e=F+B|0)<<7|e>>>25,x^=(e=J+F|0)<<9|e>>>23,B^=(e=x+J|0)<<13|e>>>19,F^=(e=B+x|0)<<18|e>>>14,y^=(e=K+G|0)<<7|e>>>25,C^=(e=y+K|0)<<9|e>>>23,G^=(e=C+y|0)<<13|e>>>19,K^=(e=G+C|0)<<18|e>>>14,w^=(e=v+y|0)<<7|e>>>25,x^=(e=w+v|0)<<9|e>>>23,y^=(e=x+w|0)<<13|e>>>19,v^=(e=y+x|0)<<18|e>>>14,B^=(e=A+z|0)<<7|e>>>25,C^=(e=B+A|0)<<9|e>>>23,z^=(e=C+B|0)<<13|e>>>19,A^=(e=z+C|0)<<18|e>>>14,G^=(e=F+E|0)<<7|e>>>25,D^=(e=G+F|0)<<9|e>>>23,E^=(e=D+G|0)<<13|e>>>19,F^=(e=E+D|0)<<18|e>>>14,H^=(e=K+J|0)<<7|e>>>25,I^=(e=H+K|0)<<9|e>>>23,J^=(e=I+H|0)<<13|e>>>19,K^=(e=J+I|0)<<18|e>>>14;a[0]=v>>>0&255,a[1]=v>>>8&255,a[2]=v>>>16&255,a[3]=v>>>24&255,a[4]=A>>>0&255,a[5]=A>>>8&255,a[6]=A>>>16&255,a[7]=A>>>24&255,a[8]=F>>>0&255,a[9]=F>>>8&255,a[10]=F>>>16&255,a[11]=F>>>24&255,a[12]=K>>>0&255,a[13]=K>>>8&255,a[14]=K>>>16&255,a[15]=K>>>24&255,a[16]=B>>>0&255,a[17]=B>>>8&255,a[18]=B>>>16&255,a[19]=B>>>24&255,a[20]=C>>>0&255,a[21]=C>>>8&255,a[22]=C>>>16&255,a[23]=C>>>24&255,a[24]=D>>>0&255,a[25]=D>>>8&255,a[26]=D>>>16&255,a[27]=D>>>24&255,a[28]=E>>>0&255,a[29]=E>>>8&255,a[30]=E>>>16&255,a[31]=E>>>24&255}(a,b,c,d)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(a,b,c,d,e,f,g){var h,i,j=new Uint8Array(16),k=new Uint8Array(64);for(i=0;i<16;i++)j[i]=0;for(i=0;i<8;i++)j[i]=f[i];for(;e>=64;){for(t(k,j,g,v),i=0;i<64;i++)a[b+i]=c[d+i]^k[i];for(i=8,h=1;i<16;i++)h=h+(255&j[i])|0,j[i]=255&h,h>>>=8;e-=64,b+=64,d+=64}if(e>0)for(t(k,j,g,v),i=0;i<e;i++)a[b+i]=c[d+i]^k[i];return 0}function x(a,b,c,d,e){var f,g,h=new Uint8Array(16),i=new Uint8Array(64);for(g=0;g<16;g++)h[g]=0;for(g=0;g<8;g++)h[g]=d[g];for(;c>=64;){for(t(i,h,e,v),g=0;g<64;g++)a[b+g]=i[g];for(g=8,f=1;g<16;g++)f=f+(255&h[g])|0,h[g]=255&f,f>>>=8;c-=64,b+=64}if(c>0)for(t(i,h,e,v),g=0;g<c;g++)a[b+g]=i[g];return 0}function y(a,b,c,d,e){var f=new Uint8Array(32);u(f,d,e,v);for(var g=new Uint8Array(8),h=0;h<8;h++)g[h]=d[h+16];return x(a,b,c,g,f)}function z(a,b,c,d,e,f,g){var h=new Uint8Array(32);u(h,f,g,v);for(var i=new Uint8Array(8),j=0;j<8;j++)i[j]=f[j+16];return w(a,b,c,d,e,i,h)}var A=function(a){var b,c,d,e,f,g,h,i;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,b=255&a[0]|(255&a[1])<<8,this.r[0]=8191&b,c=255&a[2]|(255&a[3])<<8,this.r[1]=(b>>>13|c<<3)&8191,d=255&a[4]|(255&a[5])<<8,this.r[2]=(c>>>10|d<<6)&7939,e=255&a[6]|(255&a[7])<<8,this.r[3]=(d>>>7|e<<9)&8191,f=255&a[8]|(255&a[9])<<8,this.r[4]=(e>>>4|f<<12)&255,this.r[5]=f>>>1&8190,g=255&a[10]|(255&a[11])<<8,this.r[6]=(f>>>14|g<<2)&8191,h=255&a[12]|(255&a[13])<<8,this.r[7]=(g>>>11|h<<5)&8065,i=255&a[14]|(255&a[15])<<8,this.r[8]=(h>>>8|i<<8)&8191,this.r[9]=i>>>5&127,this.pad[0]=255&a[16]|(255&a[17])<<8,this.pad[1]=255&a[18]|(255&a[19])<<8,this.pad[2]=255&a[20]|(255&a[21])<<8,this.pad[3]=255&a[22]|(255&a[23])<<8,this.pad[4]=255&a[24]|(255&a[25])<<8,this.pad[5]=255&a[26]|(255&a[27])<<8,this.pad[6]=255&a[28]|(255&a[29])<<8,this.pad[7]=255&a[30]|(255&a[31])<<8};function B(a,b,c,d,e,f){var g=new A(f);return g.update(c,d,e),g.finish(a,b),0}function C(a,b,c,d,e,f){var g=new Uint8Array(16);return B(g,0,c,d,e,f),r(a,b,g,0)}function D(a,b,c,d,e){var f;if(c<32)return -1;for(z(a,0,b,0,c,d,e),B(a,16,a,32,c-32,a),f=0;f<16;f++)a[f]=0;return 0}function E(a,b,c,d,e){var f,g=new Uint8Array(32);if(c<32||(y(g,0,32,d,e),0!==C(b,16,b,32,c-32,g)))return -1;for(z(a,0,b,0,c,d,e),f=0;f<32;f++)a[f]=0;return 0}function F(a,b){var c;for(c=0;c<16;c++)a[c]=0|b[c]}function G(a){var b,c,d=1;for(b=0;b<16;b++)d=Math.floor((c=a[b]+d+65535)/65536),a[b]=c-65536*d;a[0]+=d-1+37*(d-1)}function H(a,b,c){for(var d,e=~(c-1),f=0;f<16;f++)d=e&(a[f]^b[f]),a[f]^=d,b[f]^=d}function I(a,b){var c,e,f,g=d(),h=d();for(c=0;c<16;c++)h[c]=b[c];for(G(h),G(h),G(h),e=0;e<2;e++){for(c=1,g[0]=h[0]-65517;c<15;c++)g[c]=h[c]-65535-(g[c-1]>>16&1),g[c-1]&=65535;g[15]=h[15]-32767-(g[14]>>16&1),f=g[15]>>16&1,g[14]&=65535,H(h,g,1-f)}for(c=0;c<16;c++)a[2*c]=255&h[c],a[2*c+1]=h[c]>>8}function J(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);return I(c,a),I(d,b),s(c,0,d,0)}function K(a){var b=new Uint8Array(32);return I(b,a),1&b[0]}function L(a,b){var c;for(c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}function M(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]+c[d]}function N(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]-c[d]}function O(a,b,c){var d,e,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=c[0],L=c[1],M=c[2],N=c[3],O=c[4],P=c[5],Q=c[6],R=c[7],S=c[8],T=c[9],U=c[10],V=c[11],W=c[12],X=c[13],Y=c[14],Z=c[15];f+=(d=b[0])*K,g+=d*L,h+=d*M,i+=d*N,j+=d*O,k+=d*P,l+=d*Q,m+=d*R,n+=d*S,o+=d*T,p+=d*U,q+=d*V,r+=d*W,s+=d*X,t+=d*Y,u+=d*Z,g+=(d=b[1])*K,h+=d*L,i+=d*M,j+=d*N,k+=d*O,l+=d*P,m+=d*Q,n+=d*R,o+=d*S,p+=d*T,q+=d*U,r+=d*V,s+=d*W,t+=d*X,u+=d*Y,v+=d*Z,h+=(d=b[2])*K,i+=d*L,j+=d*M,k+=d*N,l+=d*O,m+=d*P,n+=d*Q,o+=d*R,p+=d*S,q+=d*T,r+=d*U,s+=d*V,t+=d*W,u+=d*X,v+=d*Y,w+=d*Z,i+=(d=b[3])*K,j+=d*L,k+=d*M,l+=d*N,m+=d*O,n+=d*P,o+=d*Q,p+=d*R,q+=d*S,r+=d*T,s+=d*U,t+=d*V,u+=d*W,v+=d*X,w+=d*Y,x+=d*Z,j+=(d=b[4])*K,k+=d*L,l+=d*M,m+=d*N,n+=d*O,o+=d*P,p+=d*Q,q+=d*R,r+=d*S,s+=d*T,t+=d*U,u+=d*V,v+=d*W,w+=d*X,x+=d*Y,y+=d*Z,k+=(d=b[5])*K,l+=d*L,m+=d*M,n+=d*N,o+=d*O,p+=d*P,q+=d*Q,r+=d*R,s+=d*S,t+=d*T,u+=d*U,v+=d*V,w+=d*W,x+=d*X,y+=d*Y,z+=d*Z,l+=(d=b[6])*K,m+=d*L,n+=d*M,o+=d*N,p+=d*O,q+=d*P,r+=d*Q,s+=d*R,t+=d*S,u+=d*T,v+=d*U,w+=d*V,x+=d*W,y+=d*X,z+=d*Y,A+=d*Z,m+=(d=b[7])*K,n+=d*L,o+=d*M,p+=d*N,q+=d*O,r+=d*P,s+=d*Q,t+=d*R,u+=d*S,v+=d*T,w+=d*U,x+=d*V,y+=d*W,z+=d*X,A+=d*Y,B+=d*Z,n+=(d=b[8])*K,o+=d*L,p+=d*M,q+=d*N,r+=d*O,s+=d*P,t+=d*Q,u+=d*R,v+=d*S,w+=d*T,x+=d*U,y+=d*V,z+=d*W,A+=d*X,B+=d*Y,C+=d*Z,o+=(d=b[9])*K,p+=d*L,q+=d*M,r+=d*N,s+=d*O,t+=d*P,u+=d*Q,v+=d*R,w+=d*S,x+=d*T,y+=d*U,z+=d*V,A+=d*W,B+=d*X,C+=d*Y,D+=d*Z,p+=(d=b[10])*K,q+=d*L,r+=d*M,s+=d*N,t+=d*O,u+=d*P,v+=d*Q,w+=d*R,x+=d*S,y+=d*T,z+=d*U,A+=d*V,B+=d*W,C+=d*X,D+=d*Y,E+=d*Z,q+=(d=b[11])*K,r+=d*L,s+=d*M,t+=d*N,u+=d*O,v+=d*P,w+=d*Q,x+=d*R,y+=d*S,z+=d*T,A+=d*U,B+=d*V,C+=d*W,D+=d*X,E+=d*Y,F+=d*Z,r+=(d=b[12])*K,s+=d*L,t+=d*M,u+=d*N,v+=d*O,w+=d*P,x+=d*Q,y+=d*R,z+=d*S,A+=d*T,B+=d*U,C+=d*V,D+=d*W,E+=d*X,F+=d*Y,G+=d*Z,s+=(d=b[13])*K,t+=d*L,u+=d*M,v+=d*N,w+=d*O,x+=d*P,y+=d*Q,z+=d*R,A+=d*S,B+=d*T,C+=d*U,D+=d*V,E+=d*W,F+=d*X,G+=d*Y,H+=d*Z,t+=(d=b[14])*K,u+=d*L,v+=d*M,w+=d*N,x+=d*O,y+=d*P,z+=d*Q,A+=d*R,B+=d*S,C+=d*T,D+=d*U,E+=d*V,F+=d*W,G+=d*X,H+=d*Y,I+=d*Z,u+=(d=b[15])*K,v+=d*L,w+=d*M,x+=d*N,y+=d*O,z+=d*P,A+=d*Q,B+=d*R,C+=d*S,D+=d*T,E+=d*U,F+=d*V,G+=d*W,H+=d*X,I+=d*Y,J+=d*Z,f+=38*v,g+=38*w,h+=38*x,i+=38*y,j+=38*z,k+=38*A,l+=38*B,m+=38*C,n+=38*D,o+=38*E,p+=38*F,q+=38*G,r+=38*H,s+=38*I,t+=38*J,e=Math.floor((d=f+(e=1)+65535)/65536),f=d-65536*e,e=Math.floor((d=g+e+65535)/65536),g=d-65536*e,e=Math.floor((d=h+e+65535)/65536),h=d-65536*e,e=Math.floor((d=i+e+65535)/65536),i=d-65536*e,e=Math.floor((d=j+e+65535)/65536),j=d-65536*e,e=Math.floor((d=k+e+65535)/65536),k=d-65536*e,e=Math.floor((d=l+e+65535)/65536),l=d-65536*e,e=Math.floor((d=m+e+65535)/65536),m=d-65536*e,e=Math.floor((d=n+e+65535)/65536),n=d-65536*e,e=Math.floor((d=o+e+65535)/65536),o=d-65536*e,e=Math.floor((d=p+e+65535)/65536),p=d-65536*e,e=Math.floor((d=q+e+65535)/65536),q=d-65536*e,e=Math.floor((d=r+e+65535)/65536),r=d-65536*e,e=Math.floor((d=s+e+65535)/65536),s=d-65536*e,e=Math.floor((d=t+e+65535)/65536),t=d-65536*e,e=Math.floor((d=u+e+65535)/65536),u=d-65536*e,f+=e-1+37*(e-1),e=Math.floor((d=f+(e=1)+65535)/65536),f=d-65536*e,e=Math.floor((d=g+e+65535)/65536),g=d-65536*e,e=Math.floor((d=h+e+65535)/65536),h=d-65536*e,e=Math.floor((d=i+e+65535)/65536),i=d-65536*e,e=Math.floor((d=j+e+65535)/65536),j=d-65536*e,e=Math.floor((d=k+e+65535)/65536),k=d-65536*e,e=Math.floor((d=l+e+65535)/65536),l=d-65536*e,e=Math.floor((d=m+e+65535)/65536),m=d-65536*e,e=Math.floor((d=n+e+65535)/65536),n=d-65536*e,e=Math.floor((d=o+e+65535)/65536),o=d-65536*e,e=Math.floor((d=p+e+65535)/65536),p=d-65536*e,e=Math.floor((d=q+e+65535)/65536),q=d-65536*e,e=Math.floor((d=r+e+65535)/65536),r=d-65536*e,e=Math.floor((d=s+e+65535)/65536),s=d-65536*e,e=Math.floor((d=t+e+65535)/65536),t=d-65536*e,e=Math.floor((d=u+e+65535)/65536),u=d-65536*e,f+=e-1+37*(e-1),a[0]=f,a[1]=g,a[2]=h,a[3]=i,a[4]=j,a[5]=k,a[6]=l,a[7]=m,a[8]=n,a[9]=o,a[10]=p,a[11]=q,a[12]=r,a[13]=s,a[14]=t,a[15]=u}function P(a,b){O(a,b,b)}function Q(a,b){var c,e=d();for(c=0;c<16;c++)e[c]=b[c];for(c=253;c>=0;c--)P(e,e),2!==c&&4!==c&&O(e,e,b);for(c=0;c<16;c++)a[c]=e[c]}function R(a,b){var c,e=d();for(c=0;c<16;c++)e[c]=b[c];for(c=250;c>=0;c--)P(e,e),1!==c&&O(e,e,b);for(c=0;c<16;c++)a[c]=e[c]}function S(a,b,c){var e,f,g=new Uint8Array(32),h=new Float64Array(80),i=d(),k=d(),l=d(),m=d(),n=d(),o=d();for(f=0;f<31;f++)g[f]=b[f];for(g[31]=127&b[31]|64,g[0]&=248,L(h,c),f=0;f<16;f++)k[f]=h[f],m[f]=i[f]=l[f]=0;for(f=254,i[0]=m[0]=1;f>=0;--f)H(i,k,e=g[f>>>3]>>>(7&f)&1),H(l,m,e),M(n,i,l),N(i,i,l),M(l,k,m),N(k,k,m),P(m,n),P(o,i),O(i,l,i),O(l,k,n),M(n,i,l),N(i,i,l),P(k,i),N(l,m,o),O(i,l,j),M(i,i,m),O(l,l,i),O(i,m,o),O(m,k,h),P(k,n),H(i,k,e),H(l,m,e);for(f=0;f<16;f++)h[f+16]=i[f],h[f+32]=l[f],h[f+48]=k[f],h[f+64]=m[f];var p=h.subarray(32),q=h.subarray(16);return Q(p,p),O(q,q,p),I(a,q),0}function T(a,b){return S(a,b,g)}function U(a,b){return e(b,32),T(a,b)}function V(a,b,c){var d=new Uint8Array(32);return S(d,c,b),u(a,f,d,v)}A.prototype.blocks=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=2048*!this.fin,x=this.h[0],y=this.h[1],z=this.h[2],A=this.h[3],B=this.h[4],C=this.h[5],D=this.h[6],E=this.h[7],F=this.h[8],G=this.h[9],H=this.r[0],I=this.r[1],J=this.r[2],K=this.r[3],L=this.r[4],M=this.r[5],N=this.r[6],O=this.r[7],P=this.r[8],Q=this.r[9];c>=16;)x+=8191&(d=255&a[b+0]|(255&a[b+1])<<8),y+=(d>>>13|(e=255&a[b+2]|(255&a[b+3])<<8)<<3)&8191,z+=(e>>>10|(f=255&a[b+4]|(255&a[b+5])<<8)<<6)&8191,A+=(f>>>7|(g=255&a[b+6]|(255&a[b+7])<<8)<<9)&8191,B+=(g>>>4|(h=255&a[b+8]|(255&a[b+9])<<8)<<12)&8191,C+=h>>>1&8191,D+=(h>>>14|(i=255&a[b+10]|(255&a[b+11])<<8)<<2)&8191,E+=(i>>>11|(j=255&a[b+12]|(255&a[b+13])<<8)<<5)&8191,F+=(j>>>8|(k=255&a[b+14]|(255&a[b+15])<<8)<<8)&8191,G+=k>>>5|w,l=(m=(l=0)+x*H+5*Q*y+5*P*z+5*O*A+5*N*B)>>>13,m&=8191,m+=5*M*C,m+=5*L*D,m+=5*K*E,m+=5*J*F,m+=5*I*G,l+=m>>>13,m&=8191,l=(n=l+x*I+y*H+5*Q*z+5*P*A+5*O*B)>>>13,n&=8191,n+=5*N*C,n+=5*M*D,n+=5*L*E,n+=5*K*F,n+=5*J*G,l+=n>>>13,n&=8191,l=(o=l+x*J+y*I+z*H+5*Q*A+5*P*B)>>>13,o&=8191,o+=5*O*C,o+=5*N*D,o+=5*M*E,o+=5*L*F,o+=5*K*G,l+=o>>>13,o&=8191,l=(p=l+x*K+y*J+z*I+A*H+5*Q*B)>>>13,p&=8191,p+=5*P*C,p+=5*O*D,p+=5*N*E,p+=5*M*F,p+=5*L*G,l+=p>>>13,p&=8191,l=(q=l+x*L+y*K+z*J+A*I+B*H)>>>13,q&=8191,q+=5*Q*C,q+=5*P*D,q+=5*O*E,q+=5*N*F,q+=5*M*G,l+=q>>>13,q&=8191,l=(r=l+x*M+y*L+z*K+A*J+B*I)>>>13,r&=8191,r+=C*H,r+=5*Q*D,r+=5*P*E,r+=5*O*F,r+=5*N*G,l+=r>>>13,r&=8191,l=(s=l+x*N+y*M+z*L+A*K+B*J)>>>13,s&=8191,s+=C*I,s+=D*H,s+=5*Q*E,s+=5*P*F,s+=5*O*G,l+=s>>>13,s&=8191,l=(t=l+x*O+y*N+z*M+A*L+B*K)>>>13,t&=8191,t+=C*J,t+=D*I,t+=E*H,t+=5*Q*F,t+=5*P*G,l+=t>>>13,t&=8191,l=(u=l+x*P+y*O+z*N+A*M+B*L)>>>13,u&=8191,u+=C*K,u+=D*J,u+=E*I,u+=F*H,u+=5*Q*G,l+=u>>>13,u&=8191,l=(v=l+x*Q+y*P+z*O+A*N+B*M)>>>13,v&=8191,v+=C*L,v+=D*K,v+=E*J,v+=F*I,v+=G*H,l+=v>>>13,v&=8191,m=8191&(l=(l=(l<<2)+l|0)+m|0),l>>>=13,n+=l,x=m,y=n,z=o,A=p,B=q,C=r,D=s,E=t,F=u,G=v,b+=16,c-=16;this.h[0]=x,this.h[1]=y,this.h[2]=z,this.h[3]=A,this.h[4]=B,this.h[5]=C,this.h[6]=D,this.h[7]=E,this.h[8]=F,this.h[9]=G},A.prototype.finish=function(a,b){var c,d,e,f,g=new Uint16Array(10);if(this.leftover){for(f=this.leftover,this.buffer[f++]=1;f<16;f++)this.buffer[f]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(c=this.h[1]>>>13,this.h[1]&=8191,f=2;f<10;f++)this.h[f]+=c,c=this.h[f]>>>13,this.h[f]&=8191;for(this.h[0]+=5*c,c=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=c,c=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=c,g[0]=this.h[0]+5,c=g[0]>>>13,g[0]&=8191,f=1;f<10;f++)g[f]=this.h[f]+c,c=g[f]>>>13,g[f]&=8191;for(g[9]-=8192,d=(1^c)-1,f=0;f<10;f++)g[f]&=d;for(f=0,d=~d;f<10;f++)this.h[f]=this.h[f]&d|g[f];for(f=1,this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,e=this.h[0]+this.pad[0],this.h[0]=65535&e;f<8;f++)e=(this.h[f]+this.pad[f]|0)+(e>>>16)|0,this.h[f]=65535&e;a[b+0]=this.h[0]>>>0&255,a[b+1]=this.h[0]>>>8&255,a[b+2]=this.h[1]>>>0&255,a[b+3]=this.h[1]>>>8&255,a[b+4]=this.h[2]>>>0&255,a[b+5]=this.h[2]>>>8&255,a[b+6]=this.h[3]>>>0&255,a[b+7]=this.h[3]>>>8&255,a[b+8]=this.h[4]>>>0&255,a[b+9]=this.h[4]>>>8&255,a[b+10]=this.h[5]>>>0&255,a[b+11]=this.h[5]>>>8&255,a[b+12]=this.h[6]>>>0&255,a[b+13]=this.h[6]>>>8&255,a[b+14]=this.h[7]>>>0&255,a[b+15]=this.h[7]>>>8&255},A.prototype.update=function(a,b,c){var d,e;if(this.leftover){for((e=16-this.leftover)>c&&(e=c),d=0;d<e;d++)this.buffer[this.leftover+d]=a[b+d];if(c-=e,b+=e,this.leftover+=e,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(c>=16&&(e=c-c%16,this.blocks(a,b,e),b+=e,c-=e),c){for(d=0;d<c;d++)this.buffer[this.leftover+d]=a[b+d];this.leftover+=c}};var W=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function X(a,b,c,d){for(var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E=new Int32Array(16),F=new Int32Array(16),G=a[0],H=a[1],I=a[2],J=a[3],K=a[4],L=a[5],M=a[6],N=a[7],O=b[0],P=b[1],Q=b[2],R=b[3],S=b[4],T=b[5],U=b[6],V=b[7],X=0;d>=128;){for(w=0;w<16;w++)x=8*w+X,E[w]=c[x+0]<<24|c[x+1]<<16|c[x+2]<<8|c[x+3],F[w]=c[x+4]<<24|c[x+5]<<16|c[x+6]<<8|c[x+7];for(w=0;w<80;w++)if(e=G,f=H,g=I,h=J,i=K,j=L,k=M,l=N,m=O,n=P,o=Q,p=R,q=S,r=T,s=U,t=V,y=N,A=65535&(z=V),B=z>>>16,C=65535&y,D=y>>>16,y=(K>>>14|S<<18)^(K>>>18|S<<14)^(S>>>9|K<<23),A+=65535&(z=(S>>>14|K<<18)^(S>>>18|K<<14)^(K>>>9|S<<23)),B+=z>>>16,C+=65535&y,D+=y>>>16,y=K&L^~K&M,A+=65535&(z=S&T^~S&U),B+=z>>>16,C+=65535&y,D+=y>>>16,y=W[2*w],A+=65535&(z=W[2*w+1]),B+=z>>>16,C+=65535&y,D+=y>>>16,y=E[w%16],A+=65535&(z=F[w%16]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,u=65535&C|D<<16,v=65535&A|B<<16,y=u,A=65535&(z=v),B=z>>>16,C=65535&y,D=y>>>16,y=(G>>>28|O<<4)^(O>>>2|G<<30)^(O>>>7|G<<25),A+=65535&(z=(O>>>28|G<<4)^(G>>>2|O<<30)^(G>>>7|O<<25)),B+=z>>>16,C+=65535&y,D+=y>>>16,y=G&H^G&I^H&I,A+=65535&(z=O&P^O&Q^P&Q),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,l=65535&C|D<<16,t=65535&A|B<<16,y=h,A=65535&(z=p),B=z>>>16,C=65535&y,D=y>>>16,y=u,A+=65535&(z=v),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,h=65535&C|D<<16,p=65535&A|B<<16,H=e,I=f,J=g,K=h,L=i,M=j,N=k,G=l,P=m,Q=n,R=o,S=p,T=q,U=r,V=s,O=t,w%16==15)for(x=0;x<16;x++)y=E[x],A=65535&(z=F[x]),B=z>>>16,C=65535&y,D=y>>>16,y=E[(x+9)%16],A+=65535&(z=F[(x+9)%16]),B+=z>>>16,C+=65535&y,D+=y>>>16,y=((u=E[(x+1)%16])>>>1|(v=F[(x+1)%16])<<31)^(u>>>8|v<<24)^u>>>7,A+=65535&(z=(v>>>1|u<<31)^(v>>>8|u<<24)^(v>>>7|u<<25)),B+=z>>>16,C+=65535&y,D+=y>>>16,y=((u=E[(x+14)%16])>>>19|(v=F[(x+14)%16])<<13)^(v>>>29|u<<3)^u>>>6,A+=65535&(z=(v>>>19|u<<13)^(u>>>29|v<<3)^(v>>>6|u<<26)),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,E[x]=65535&C|D<<16,F[x]=65535&A|B<<16;y=G,A=65535&(z=O),B=z>>>16,C=65535&y,D=y>>>16,y=a[0],A+=65535&(z=b[0]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[0]=G=65535&C|D<<16,b[0]=O=65535&A|B<<16,y=H,A=65535&(z=P),B=z>>>16,C=65535&y,D=y>>>16,y=a[1],A+=65535&(z=b[1]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[1]=H=65535&C|D<<16,b[1]=P=65535&A|B<<16,y=I,A=65535&(z=Q),B=z>>>16,C=65535&y,D=y>>>16,y=a[2],A+=65535&(z=b[2]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[2]=I=65535&C|D<<16,b[2]=Q=65535&A|B<<16,y=J,A=65535&(z=R),B=z>>>16,C=65535&y,D=y>>>16,y=a[3],A+=65535&(z=b[3]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[3]=J=65535&C|D<<16,b[3]=R=65535&A|B<<16,y=K,A=65535&(z=S),B=z>>>16,C=65535&y,D=y>>>16,y=a[4],A+=65535&(z=b[4]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[4]=K=65535&C|D<<16,b[4]=S=65535&A|B<<16,y=L,A=65535&(z=T),B=z>>>16,C=65535&y,D=y>>>16,y=a[5],A+=65535&(z=b[5]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[5]=L=65535&C|D<<16,b[5]=T=65535&A|B<<16,y=M,A=65535&(z=U),B=z>>>16,C=65535&y,D=y>>>16,y=a[6],A+=65535&(z=b[6]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[6]=M=65535&C|D<<16,b[6]=U=65535&A|B<<16,y=N,A=65535&(z=V),B=z>>>16,C=65535&y,D=y>>>16,y=a[7],A+=65535&(z=b[7]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[7]=N=65535&C|D<<16,b[7]=V=65535&A|B<<16,X+=128,d-=128}return d}function Y(a,b,c){var d,e=new Int32Array(8),f=new Int32Array(8),g=new Uint8Array(256),h=c;for(e[0]=0x6a09e667,e[1]=0xbb67ae85,e[2]=0x3c6ef372,e[3]=0xa54ff53a,e[4]=0x510e527f,e[5]=0x9b05688c,e[6]=0x1f83d9ab,e[7]=0x5be0cd19,f[0]=0xf3bcc908,f[1]=0x84caa73b,f[2]=0xfe94f82b,f[3]=0x5f1d36f1,f[4]=0xade682d1,f[5]=0x2b3e6c1f,f[6]=0xfb41bd6b,f[7]=0x137e2179,X(e,f,b,c),c%=128,d=0;d<c;d++)g[d]=b[h-c+d];for(g[c]=128,g[(c=256-(c<112)*128)-9]=0,p(g,c-8,h/0x20000000|0,h<<3),X(e,f,g,c),d=0;d<8;d++)p(a,8*d,e[d],f[d]);return 0}function Z(a,b){var c=d(),e=d(),f=d(),g=d(),h=d(),i=d(),j=d(),k=d(),m=d();N(c,a[1],a[0]),N(m,b[1],b[0]),O(c,c,m),M(e,a[0],a[1]),M(m,b[0],b[1]),O(e,e,m),O(f,a[3],b[3]),O(f,f,l),O(g,a[2],b[2]),M(g,g,g),N(h,e,c),N(i,g,f),M(j,g,f),M(k,e,c),O(a[0],h,i),O(a[1],k,j),O(a[2],j,i),O(a[3],h,k)}function $(a,b,c){var d;for(d=0;d<4;d++)H(a[d],b[d],c)}function _(a,b){var c=d(),e=d(),f=d();Q(f,b[2]),O(c,b[0],f),O(e,b[1],f),I(a,e),a[31]^=K(c)<<7}function aa(a,b,c){var d,e;for(F(a[0],h),F(a[1],i),F(a[2],i),F(a[3],h),e=255;e>=0;--e)$(a,b,d=c[e/8|0]>>(7&e)&1),Z(b,a),Z(a,a),$(a,b,d)}function ab(a,b){var c=[d(),d(),d(),d()];F(c[0],m),F(c[1],n),F(c[2],i),O(c[3],m,n),aa(a,c,b)}function ac(a,b,c){var f,g=new Uint8Array(64),h=[d(),d(),d(),d()];for(c||e(b,32),Y(g,b,32),g[0]&=248,g[31]&=127,g[31]|=64,ab(h,g),_(a,h),f=0;f<32;f++)b[f+32]=a[f];return 0}var ad=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ae(a,b){var c,d,e,f;for(d=63;d>=32;--d){for(c=0,e=d-32,f=d-12;e<f;++e)b[e]+=c-16*b[d]*ad[e-(d-32)],c=Math.floor((b[e]+128)/256),b[e]-=256*c;b[e]+=c,b[d]=0}for(e=0,c=0;e<32;e++)b[e]+=c-(b[31]>>4)*ad[e],c=b[e]>>8,b[e]&=255;for(e=0;e<32;e++)b[e]-=c*ad[e];for(d=0;d<32;d++)b[d+1]+=b[d]>>8,a[d]=255&b[d]}function af(a){var b,c=new Float64Array(64);for(b=0;b<64;b++)c[b]=a[b];for(b=0;b<64;b++)a[b]=0;ae(a,c)}function ag(a,b,c,e){var f,g,h=new Uint8Array(64),i=new Uint8Array(64),j=new Uint8Array(64),k=new Float64Array(64),l=[d(),d(),d(),d()];for(Y(h,e,32),h[0]&=248,h[31]&=127,h[31]|=64,f=0;f<c;f++)a[64+f]=b[f];for(f=0;f<32;f++)a[32+f]=h[32+f];for(Y(j,a.subarray(32),c+32),af(j),ab(l,j),_(a,l),f=32;f<64;f++)a[f]=e[f];for(Y(i,a,c+64),af(i),f=0;f<64;f++)k[f]=0;for(f=0;f<32;f++)k[f]=j[f];for(f=0;f<32;f++)for(g=0;g<32;g++)k[f+g]+=i[f]*h[g];return ae(a.subarray(32),k),c+64}function ah(a,b,c,e){var f,g,j,l,m,n,p,q,r=new Uint8Array(32),t=new Uint8Array(64),u=[d(),d(),d(),d()],v=[d(),d(),d(),d()];if(c<64||(f=d(),g=d(),j=d(),l=d(),m=d(),n=d(),p=d(),(F(v[2],i),L(v[1],e),P(j,v[1]),O(l,j,k),N(j,j,v[2]),M(l,v[2],l),P(m,l),P(n,m),O(p,n,m),O(f,p,j),O(f,f,l),R(f,f),O(f,f,j),O(f,f,l),O(f,f,l),O(v[0],f,l),P(g,v[0]),O(g,g,l),J(g,j)&&O(v[0],v[0],o),P(g,v[0]),O(g,g,l),J(g,j))?-1:(K(v[0])===e[31]>>7&&N(v[0],h,v[0]),O(v[3],v[0],v[1]),0)))return -1;for(q=0;q<c;q++)a[q]=b[q];for(q=0;q<32;q++)a[q+32]=e[q];if(Y(t,a,c),af(t),aa(u,v,t),ab(v,b.subarray(32)),Z(u,v),_(r,u),c-=64,s(b,0,r,0)){for(q=0;q<c;q++)a[q]=0;return -1}for(q=0;q<c;q++)a[q]=b[q+64];return c}function ai(a,b){if(32!==a.length)throw Error("bad key size");if(24!==b.length)throw Error("bad nonce size")}function aj(){for(var a=0;a<arguments.length;a++)if(!(arguments[a]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function ak(a){for(var b=0;b<a.length;b++)a[b]=0}b.lowlevel={crypto_core_hsalsa20:u,crypto_stream_xor:z,crypto_stream:y,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:x,crypto_onetimeauth:B,crypto_onetimeauth_verify:C,crypto_verify_16:r,crypto_verify_32:s,crypto_secretbox:D,crypto_secretbox_open:E,crypto_scalarmult:S,crypto_scalarmult_base:T,crypto_box_beforenm:V,crypto_box_afternm:D,crypto_box:function(a,b,c,d,e,f){var g=new Uint8Array(32);return V(g,e,f),D(a,b,c,d,g)},crypto_box_open:function(a,b,c,d,e,f){var g=new Uint8Array(32);return V(g,e,f),E(a,b,c,d,g)},crypto_box_keypair:U,crypto_hash:Y,crypto_sign:ag,crypto_sign_keypair:ac,crypto_sign_open:ah,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:d,D:k,L:ad,pack25519:I,unpack25519:L,M:O,A:M,S:P,Z:N,pow2523:R,add:Z,set25519:F,modL:ae,scalarmult:aa,scalarbase:ab},b.randomBytes=function(a){var b=new Uint8Array(a);return e(b,a),b},b.secretbox=function(a,b,c){aj(a,b,c),ai(c,b);for(var d=new Uint8Array(32+a.length),e=new Uint8Array(d.length),f=0;f<a.length;f++)d[f+32]=a[f];return D(e,d,d.length,b,c),e.subarray(16)},b.secretbox.open=function(a,b,c){aj(a,b,c),ai(c,b);for(var d=new Uint8Array(16+a.length),e=new Uint8Array(d.length),f=0;f<a.length;f++)d[f+16]=a[f];return d.length<32||0!==E(e,d,d.length,b,c)?null:e.subarray(32)},b.secretbox.keyLength=32,b.secretbox.nonceLength=24,b.secretbox.overheadLength=16,b.scalarMult=function(a,b){if(aj(a,b),32!==a.length)throw Error("bad n size");if(32!==b.length)throw Error("bad p size");var c=new Uint8Array(32);return S(c,a,b),c},b.scalarMult.base=function(a){if(aj(a),32!==a.length)throw Error("bad n size");var b=new Uint8Array(32);return T(b,a),b},b.scalarMult.scalarLength=32,b.scalarMult.groupElementLength=32,b.box=function(a,c,d,e){var f=b.box.before(d,e);return b.secretbox(a,c,f)},b.box.before=function(a,b){aj(a,b);if(32!==a.length)throw Error("bad public key size");if(32!==b.length)throw Error("bad secret key size");var c=new Uint8Array(32);return V(c,a,b),c},b.box.after=b.secretbox,b.box.open=function(a,c,d,e){var f=b.box.before(d,e);return b.secretbox.open(a,c,f)},b.box.open.after=b.secretbox.open,b.box.keyPair=function(){var a=new Uint8Array(32),b=new Uint8Array(32);return U(a,b),{publicKey:a,secretKey:b}},b.box.keyPair.fromSecretKey=function(a){if(aj(a),32!==a.length)throw Error("bad secret key size");var b=new Uint8Array(32);return T(b,a),{publicKey:b,secretKey:new Uint8Array(a)}},b.box.publicKeyLength=32,b.box.secretKeyLength=32,b.box.sharedKeyLength=32,b.box.nonceLength=24,b.box.overheadLength=b.secretbox.overheadLength,b.sign=function(a,b){if(aj(a,b),64!==b.length)throw Error("bad secret key size");var c=new Uint8Array(64+a.length);return ag(c,a,a.length,b),c},b.sign.open=function(a,b){if(aj(a,b),32!==b.length)throw Error("bad public key size");var c=new Uint8Array(a.length),d=ah(c,a,a.length,b);if(d<0)return null;for(var e=new Uint8Array(d),f=0;f<e.length;f++)e[f]=c[f];return e},b.sign.detached=function(a,c){for(var d=b.sign(a,c),e=new Uint8Array(64),f=0;f<e.length;f++)e[f]=d[f];return e},b.sign.detached.verify=function(a,b,c){if(aj(a,b,c),64!==b.length)throw Error("bad signature size");if(32!==c.length)throw Error("bad public key size");var d,e=new Uint8Array(64+a.length),f=new Uint8Array(64+a.length);for(d=0;d<64;d++)e[d]=b[d];for(d=0;d<a.length;d++)e[d+64]=a[d];return ah(f,e,e.length,c)>=0},b.sign.keyPair=function(){var a=new Uint8Array(32),b=new Uint8Array(64);return ac(a,b),{publicKey:a,secretKey:b}},b.sign.keyPair.fromSecretKey=function(a){if(aj(a),64!==a.length)throw Error("bad secret key size");for(var b=new Uint8Array(32),c=0;c<b.length;c++)b[c]=a[32+c];return{publicKey:b,secretKey:new Uint8Array(a)}},b.sign.keyPair.fromSeed=function(a){if(aj(a),32!==a.length)throw Error("bad seed size");for(var b=new Uint8Array(32),c=new Uint8Array(64),d=0;d<32;d++)c[d]=a[d];return ac(b,c,!0),{publicKey:b,secretKey:c}},b.sign.publicKeyLength=32,b.sign.secretKeyLength=64,b.sign.seedLength=32,b.sign.signatureLength=64,b.hash=function(a){aj(a);var b=new Uint8Array(64);return Y(b,a,a.length),b},b.hash.hashLength=64,b.verify=function(a,b){return aj(a,b),0!==a.length&&0!==b.length&&a.length===b.length&&0===q(a,0,b,0,a.length)},b.setPRNG=function(a){e=a},(c="u">typeof self?self.crypto||self.msCrypto:null)&&c.getRandomValues?b.setPRNG(function(a,b){var d,e=new Uint8Array(b);for(d=0;d<b;d+=65536)c.getRandomValues(e.subarray(d,d+Math.min(b-d,65536)));for(d=0;d<b;d++)a[d]=e[d];ak(e)}):(c=a.r(54799))&&c.randomBytes&&b.setPRNG(function(a,b){var d,e=c.randomBytes(b);for(d=0;d<b;d++)a[d]=e[d];ak(e)})}(b.exports?b.exports:self.nacl=self.nacl||{})},1674,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68936);a.i(46951);var e=a.i(23465),f=a.i(14432),g=a.i(21756);let h={SOROBAN_RPC_URL:"https://soroban-testnet.stellar.org",NETWORK_PASSPHRASE:"Test SDF Network ; September 2015",TREASURY_CONTRACT_ID:"CB3A3BRX6I7CAFGA7S2Q34P5GIJAFB7IX6NP7OKWKABLM6BCTGNUHZZH",IDM_CONTRACT_ID:process.env.NEXT_PUBLIC_IDM_CONTRACT_ID||"",ASSET_ADDRESS:"CBIELTK6YBZJU5UP2WWQEUCYKLPU6AUNZ2BQ4WWFEIE3USCIHMXQDAMA",RELAYER_URL:"http://localhost:3001/api/relayer",DISTRIBUTOR_RSA_PUBLIC_KEY:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA1y0YV0EENoTk82DWWy4n57OSv8ilEIWSHSVlsvJMgZ/C+95H0aNJVWKjcIPaYOYSuF7sv/ZLuUtYt6vi8CCiRnyXLLno7huh6rlvC6H8k4Zu8G0P+uNy8XimiF6K8PROnLlQfSjiYRVmjAUkRqCT\nOeDGvvDnC5fTDjMwBOOi8U6ve+HjV5Fnh4x2AN5x+9xKL6q/Gr7Ju8j4oUJJa6xmwU2MIbIrOtiU1irIDhLBQAJ/6vpYs8/xi6KQ3Mu1Gs6UnO51ITu0++0lsSJMHWdjqs6Xpbb56KnsWzOCSlG1TtpSU+8Ny8TCTpViz549MNLoWJvi/5uFxHi7CxxjlwP5rwIDAQAB",RELAYER_NACL_PUBLIC_KEY:"W8V80k2Kobco8yhEW6RiyzLmv7ortHBjiCo5OK0l/RM="};function i(a){return btoa(String.fromCharCode(...a))}async function j(a,b){let c=`${a}${b}`,d=new TextEncoder().encode(c);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",d))).map(a=>a.toString(16).padStart(2,"0")).join("").slice(0,32)}async function k(a,b){let c=new TextEncoder().encode(a+b);return btoa(String.fromCharCode(...new Uint8Array(await crypto.subtle.digest("SHA-256",c)).slice(0,16)))}async function l(){let a=new f.rpc.Server(h.SOROBAN_RPC_URL);return(await a.getHealth()).latestLedger}async function m(a){try{let b=new f.rpc.Server(h.SOROBAN_RPC_URL);try{await b.getAccount(a)}catch(a){if(a.message?.includes("Not Found")||404===a.code)return{exists:!1,hasAsset:!1,error:"Account does not exist. Please fund your wallet first."};throw a}return{exists:!0,hasAsset:!0}}catch(a){return{exists:!1,hasAsset:!1,error:a.message}}}async function n(a){let{depositorAddress:b,hashLN:c,amount:d}=a;if(!h.TREASURY_CONTRACT_ID||!h.ASSET_ADDRESS)throw Error("Missing required contract IDs. Check environment variables.");console.log("[PrivacyPay Deposit] hashLN:",c),console.log("[PrivacyPay Deposit] hashLN type:",typeof c),console.log("[PrivacyPay Deposit] hashLN length:",c.length),console.log("[PrivacyPay Deposit] Building deposit transaction:",{depositorAddress:b,hashLN:c,amount:d,treasuryContract:h.TREASURY_CONTRACT_ID,assetAddress:h.ASSET_ADDRESS,networkPassphrase:h.NETWORK_PASSPHRASE});let e=new f.rpc.Server(h.SOROBAN_RPC_URL),g=await m(b);if(!g.exists)throw Error(g.error||"Account does not exist");let i=await e.getAccount(b);console.log("[PrivacyPay] Account loaded, sequence:",i.sequenceNumber());let j=new f.Contract(h.TREASURY_CONTRACT_ID),k=Math.floor(1e7*d);console.log("[PrivacyPay] Amount in stroops:",k);let l=new f.TransactionBuilder(new f.Account(b,i.sequenceNumber()),{fee:"100",networkPassphrase:h.NETWORK_PASSPHRASE}).addOperation(j.call("deposit",(0,f.nativeToScVal)(b,{type:"address"}),(0,f.nativeToScVal)(c,{type:"string"}),(0,f.nativeToScVal)(k,{type:"i128"}))).setTimeout(30).build();console.log("[PrivacyPay] Transaction built, simulating...");let n=await e.simulateTransaction(l);if(console.log("[PrivacyPay] Simulation response:",JSON.stringify(n,null,2)),f.rpc.Api.isSimulationError(n)){let a=n.error||"Unknown simulation error";throw console.error("[PrivacyPay] Simulation error details:",a),Error(`Simulation failed: ${a}`)}let o=f.rpc.assembleTransaction(l,n).build();return console.log("[PrivacyPay] Transaction assembled successfully"),o.toXDR()}async function o(a){try{let b=new f.rpc.Server(h.SOROBAN_RPC_URL),c=f.TransactionBuilder.fromXDR(a,h.NETWORK_PASSPHRASE),d=await b.sendTransaction(c);if("ERROR"===d.status)return{success:!1,error:`Transaction failed: ${JSON.stringify(d)}`};let e=await b.getTransaction(d.hash),g=0;for(;e.status===f.rpc.Api.GetTransactionStatus.NOT_FOUND&&g<30;)await new Promise(a=>setTimeout(a,1e3)),e=await b.getTransaction(d.hash),g++;if(e.status===f.rpc.Api.GetTransactionStatus.SUCCESS)return{success:!0,txHash:d.hash};return{success:!1,txHash:d.hash,error:`Transaction failed with status: ${e.status}`}}catch(a){return{success:!1,error:a.message}}}async function p(a){let b=h.DISTRIBUTOR_RSA_PUBLIC_KEY;if(!b)throw Error("Distributor RSA public key not configured");let c=(b=b.replace(/\\n/g,"\n")).replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace(/\s/g,""),d=Uint8Array.from(atob(c),a=>a.charCodeAt(0)),e=await crypto.subtle.importKey("spki",d,{name:"RSA-OAEP",hash:"SHA-256"},!1,["encrypt"]),f=JSON.stringify(a),g=new TextEncoder().encode(f);return btoa(String.fromCharCode(...new Uint8Array(await crypto.subtle.encrypt({name:"RSA-OAEP"},e,g))))}async function q(a){try{let{hashLN:b,recipients:c,senderRawPublicKey:d}=a;console.log("[PrivacyPay Withdraw] hashLN:",b),console.log("[PrivacyPay Withdraw] hashLN type:",typeof b),console.log("[PrivacyPay Withdraw] hashLN length:",b.length);let e=Object.values(c).reduce((a,b)=>a+parseFloat(b),0),f=await p(c),j=i(d),k=function(a,b,c,d){let e=h.RELAYER_NACL_PUBLIC_KEY;if(!e)throw Error("Relayer NaCl public key not configured");let f=Uint8Array.from(atob(e),a=>a.charCodeAt(0)),j={requestId:crypto.randomUUID(),hashLN:a,totalAmount:b,encryptedD:c,senderPublicKey:d,timestamp:Date.now()};console.log("[PrivacyPay Relayer Payload] hashLN in payload:",j.hashLN),console.log("[PrivacyPay Relayer Payload] Full payload (pre-encryption):",{requestId:j.requestId,hashLN:j.hashLN,totalAmount:j.totalAmount,senderPublicKey:j.senderPublicKey,timestamp:j.timestamp});let k=JSON.stringify(j),l=new TextEncoder().encode(k),m=g.default.box.keyPair(),n=g.default.randomBytes(g.default.box.nonceLength),o=g.default.box(l,n,f,m.secretKey),p=new Uint8Array(m.publicKey.length+n.length+o.length);return p.set(m.publicKey,0),p.set(n,m.publicKey.length),p.set(o,m.publicKey.length+n.length),i(p)}(b,e,f,j),l=await fetch(`${h.RELAYER_URL}/withdraw`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payload:k})}),m=await l.json();if(console.log("[PrivacyPay Withdraw] Relayer response:",JSON.stringify(m)),!l.ok)return{success:!1,error:`Relayer rejected withdrawal: ${l.status} - ${JSON.stringify(m)}`};let n=m.requestId||m.withdrawalRequestId||m._id||m.jobId,o=m.jobId||m.withdrawalRequestId||m._id;return{success:!0,requestId:n,jobId:o,senderIdentity:m.senderIdentity}}catch(a){return{success:!1,error:a.message}}}async function r(a){try{let b=await fetch(`${h.RELAYER_URL}/status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobIds:a})});if(!b.ok)throw Error(`Failed to check job statuses: ${b.status}`);let c=await b.json(),d=Array.isArray(c)?c:c.jobs||[],e={};for(let a of d){let b=a.withdrawalRequestId||a._id;e[b]||(e[b]=[]),e[b].push(a)}return{jobs:Object.entries(e).map(([a,b])=>{let c=b.every(a=>"SUCCESS"===a.status),d=b.some(a=>"FAILED"===a.status),e=b.some(a=>"PROCESSING"===a.status),f=b.find(a=>a.stellarTransactionHash);return{jobId:a,status:c?"completed":d?"failed":e?"processing":"pending",txHash:f?.stellarTransactionHash}})}}catch(a){return console.error("Error checking job statuses:",a),{jobs:[]}}}function s(a){return{walletAddress:a,deposits:{},withdrawals:{}}}function t(a){}function u(a){return Object.values(s(a).deposits).sort((a,b)=>b.timestamp-a.timestamp)}function v(a){return Object.values(s(a).withdrawals).sort((a,b)=>b.timestamp-a.timestamp)}function w(a,b,c,d){let e=s(a);e.deposits[b]&&(e.deposits[b].status=c,d&&(e.deposits[b].txHash=d),t(e))}var x=a.i(16370);function y({onSuccess:a}){let{walletState:e}=(0,d.useWallet)(),{address:f,isConnected:g}=e,[h,i]=(0,c.useState)(""),[m,p]=(0,c.useState)("idle"),[q,r]=(0,c.useState)(null),[u,v]=(0,c.useState)(null),[y,z]=(0,c.useState)(null),A=async()=>{if(!f||!h)return;let b=parseFloat(h);if(isNaN(b)||b<=0)return void r("Please enter a valid amount");r(null),v(null);try{var c;let d;p("generating");let e=await l(),g=Math.floor(1e9*Math.random()),h=await j(e,g);z(h);let i=await k(h,f);console.log("ðŸ”‘ [Deposit] Identity Details:"),console.log("   HashLN:",h),console.log("   Depositor Address:",f),console.log("   Expected Identity:",i),c={hashLN:h,identity:i,amount:b,txHash:"",timestamp:Date.now(),status:"pending"},(d=s(f)).deposits[c.hashLN]=c,t(d),p("building");let m=await n({depositorAddress:f,hashLN:h,amount:b});p("signing");let q=await (0,x.signTransaction)(m,{networkPassphrase:"Test SDF Network ; September 2015"});if("string"==typeof q)throw Error("Signing was cancelled");let r=q.signedTxXdr;p("submitting");let u=await o(r);if(u.success&&u.txHash)v(u.txHash),p("success"),w(f,h,"confirmed",u.txHash),a?.(u.txHash,h);else throw Error(u.error||"Transaction failed")}catch(a){console.error("Deposit error:",a),r(a.message||"Deposit failed"),p("error"),y&&f&&w(f,y,"failed")}},B=()=>{switch(m){case"generating":return"Generating secure hash...";case"building":return"Building transaction...";case"signing":return"Please sign in Freighter...";case"submitting":return"Submitting to Stellar...";case"success":return"Deposit successful!";case"error":return q||"An error occurred";default:return null}},C=["generating","building","signing","submitting"].includes(m);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-white/60 mb-2",children:"Deposit Amount (USDC)"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"number",value:h,onChange:a=>i(a.target.value),placeholder:"0.00",disabled:C,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed"}),(0,b.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/40 text-sm",children:"USDC"})]})]}),B()&&(0,b.jsxs)("div",{className:`flex items-center gap-3 p-4 rounded-xl ${"success"===m?"bg-green-500/10 border border-green-500/20":"error"===m?"bg-red-500/10 border border-red-500/20":"bg-white/5 border border-white/10"}`,children:[C&&(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),"success"===m&&(0,b.jsx)("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"error"===m&&(0,b.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,b.jsx)("span",{className:`text-sm ${"success"===m?"text-green-400":"error"===m?"text-red-400":"text-white/60"}`,children:B()})]}),u&&(0,b.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-white/40 mb-2",children:"Transaction Hash"}),(0,b.jsx)("a",{href:`https://stellar.expert/explorer/testnet/tx/${u}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-sm text-blue-400 hover:text-blue-300 transition-colors break-all",children:u})]}),(0,b.jsx)("button",{onClick:A,disabled:!g||!h||C,className:`w-full py-4 rounded-xl font-semibold transition-all ${!g||!h||C?"bg-white/10 text-white/30 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white"}`,children:g?C?B():"Deposit to Privacy Pool":"Connect Wallet First"})]})}function z({onSuccess:a}){let{walletState:e}=(0,d.useWallet)(),{address:g,isConnected:h}=e,[i,j]=(0,c.useState)(""),[l,m]=(0,c.useState)([{address:"",amount:""}]),[n,o]=(0,c.useState)("idle"),[p,r]=(0,c.useState)(null),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)("manual"),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(null),D=(0,c.useRef)(null),E=g?u(g):[],F=a=>{y(a),A(null),C(null),"manual"===a&&m([{address:"",amount:""}])},G=(a,b,c)=>{let d=[...l];d[a][b]=c,m(d)},H=()=>l.reduce((a,b)=>{let c=parseFloat(b.amount);return a+(isNaN(c)?0:c)},0),I=a=>56===a.address.length&&a.address.startsWith("G")&&!isNaN(parseFloat(a.amount))&&parseFloat(a.amount)>0,J=l.every(I),K=async()=>{if(g&&i&&J){r(null),w(null);try{var b;let c;o("encrypting");let d={};l.forEach(a=>{d[a.address]=a.amount});let e=await k(i,g);console.log("ðŸ”‘ [Withdrawal] Identity Details:"),console.log("   HashLN:",i),console.log("   Sender Address:",g),console.log("   Expected Identity (frontend):",e);let h=f.Keypair.fromPublicKey(g).rawPublicKey();console.log("   Raw Public Key (base64):",btoa(String.fromCharCode(...h))),o("submitting");let j=await q({hashLN:i,recipients:d,senderPublicKey:g,senderRawPublicKey:h});if(!j.success)throw Error(j.error||"Relayer rejected the withdrawal request");if(!j.requestId)throw console.error("[Withdrawal] Missing requestId in result:",j),Error("Relayer returned success but no request ID");w(j.requestId),o("success"),b={requestId:j.requestId,jobId:j.jobId,hashLN:i,totalAmount:H(),recipients:d,timestamp:Date.now(),status:"pending",senderIdentity:j.senderIdentity},(c=s(g)).withdrawals[b.requestId]=b,t(c),a?.(j.requestId)}catch(a){console.error("Withdrawal error:",a),r(a.message||"Withdrawal failed"),o("error")}}},L=()=>{switch(n){case"encrypting":return"Encrypting withdrawal request...";case"submitting":return"Submitting to relayer...";case"success":return"Withdrawal request submitted!";case"error":return p||"An error occurred";default:return null}},M=["encrypting","submitting"].includes(n);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-white/60 mb-2",children:"Select Deposit"}),E.length>0?(0,b.jsxs)("select",{value:i,onChange:a=>j(a.target.value),disabled:M,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all disabled:opacity-50",children:[(0,b.jsx)("option",{value:"",children:"Select from your deposits"}),E.filter(a=>"confirmed"===a.status).map(a=>(0,b.jsxs)("option",{value:a.hashLN,children:[a.hashLN.slice(0,16),"... (",a.amount," USDC)"]},a.hashLN))]}):(0,b.jsx)("input",{type:"text",value:i,onChange:a=>j(a.target.value),placeholder:"Enter your deposit hash",disabled:M,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all disabled:opacity-50 font-mono text-sm"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-white/60",children:"Recipients"}),(0,b.jsxs)("div",{className:"flex items-center gap-1 p-1 bg-white/5 rounded-lg",children:[(0,b.jsx)("button",{onClick:()=>F("manual"),disabled:M,className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${"manual"===x?"bg-purple-500/20 text-purple-400":"text-white/40 hover:text-white/60"} disabled:opacity-50`,children:"Manual"}),(0,b.jsx)("button",{onClick:()=>F("csv"),disabled:M,className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${"csv"===x?"bg-purple-500/20 text-purple-400":"text-white/40 hover:text-white/60"} disabled:opacity-50`,children:"CSV Upload"})]})]}),"csv"===x&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("input",{ref:D,type:"file",accept:".csv,.txt",onChange:a=>{let b=a.target.files?.[0];if(!b)return;A(null),C(b.name);let c=new FileReader;c.onload=a=>{let b=(a=>{let b=a.trim().split("\n"),c=[],d=0,e=b[0]?.toLowerCase()||"";(e.includes("address")||e.includes("recipient")||e.includes("amount"))&&(d=1);for(let a=d;a<b.length;a++){let d=b[a].trim();if(!d)continue;let e=d.split(",").map(a=>a.trim());if(e.length<2)return{recipients:[],error:`Invalid format at line ${a+1}: expected "address,amount"`};let f=e[0],g=e[1];if(!f||56!==f.length||!f.startsWith("G"))return{recipients:[],error:`Invalid Stellar address at line ${a+1}: ${f}`};let h=parseFloat(g);if(isNaN(h)||h<=0)return{recipients:[],error:`Invalid amount at line ${a+1}: ${g}`};c.push({address:f,amount:g})}return 0===c.length?{recipients:[],error:"No valid recipients found in CSV"}:c.length>10?{recipients:[],error:"Maximum 10 recipients allowed per withdrawal"}:{recipients:c}})(a.target?.result);b.error?(A(b.error),m([{address:"",amount:""}])):(m(b.recipients),A(null))},c.onerror=()=>{A("Failed to read file")},c.readAsText(b),D.current&&(D.current.value="")},className:"hidden"}),B?(0,b.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-white",children:B}),(0,b.jsxs)("p",{className:"text-xs text-white/40",children:[l.filter(a=>a.address&&a.amount).length," recipients loaded"]})]})]}),(0,b.jsx)("button",{onClick:()=>{m([{address:"",amount:""}]),C(null),A(null)},disabled:M,className:"p-2 hover:bg-white/10 rounded-lg transition-colors disabled:opacity-50",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-white/40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):(0,b.jsxs)("button",{onClick:()=>D.current?.click(),disabled:M,className:"w-full border-2 border-dashed border-white/20 hover:border-purple-500/50 rounded-xl p-6 text-center transition-all disabled:opacity-50",children:[(0,b.jsx)("svg",{className:"w-8 h-8 mx-auto mb-2 text-white/40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,b.jsx)("p",{className:"text-sm text-white/60",children:"Click to upload CSV"}),(0,b.jsx)("p",{className:"text-xs text-white/30 mt-1",children:"Format: address,amount"})]}),z&&(0,b.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-red-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("span",{className:"text-xs text-red-400",children:z})]}),B&&l.length>0&&!z&&(0,b.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-3 max-h-48 overflow-y-auto",children:[(0,b.jsx)("p",{className:"text-xs text-white/40 mb-2",children:"Preview:"}),(0,b.jsxs)("div",{className:"space-y-1",children:[l.slice(0,5).map((a,c)=>(0,b.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,b.jsx)("span",{className:"font-mono text-white/60 truncate max-w-[60%]",children:a.address}),(0,b.jsxs)("span",{className:"text-purple-400",children:[a.amount," USDC"]})]},c)),l.length>5&&(0,b.jsxs)("p",{className:"text-xs text-white/30 text-center pt-1",children:["+",l.length-5," more recipients"]})]})]})]}),"manual"===x&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"flex justify-end mb-2",children:(0,b.jsx)("button",{onClick:()=>{m([...l,{address:"",amount:""}])},disabled:M||l.length>=10,className:"text-sm text-blue-400 hover:text-blue-300 transition-colors disabled:opacity-50",children:"+ Add Recipient"})}),(0,b.jsx)("div",{className:"space-y-3",children:l.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("input",{type:"text",value:a.address,onChange:a=>G(c,"address",a.target.value),placeholder:"G...",disabled:M,className:`flex-1 bg-white/5 border rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:ring-1 transition-all disabled:opacity-50 font-mono text-sm ${a.address&&!a.address.startsWith("G")?"border-red-500/50 focus:border-red-500/50 focus:ring-red-500/50":"border-white/10 focus:border-blue-500/50 focus:ring-blue-500/50"}`}),(0,b.jsx)("input",{type:"number",value:a.amount,onChange:a=>G(c,"amount",a.target.value),placeholder:"Amount",disabled:M,className:"w-32 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all disabled:opacity-50"}),l.length>1&&(0,b.jsx)("button",{onClick:()=>{l.length>1&&m(l.filter((a,b)=>b!==c))},disabled:M,className:"p-3 hover:bg-white/10 rounded-xl transition-colors disabled:opacity-50",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},c))})]})]}),(0,b.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-white/60",children:"Total Withdrawal"}),(0,b.jsxs)("span",{className:"text-xl font-semibold text-white",children:[H().toFixed(2)," USDC"]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center mt-2 text-sm",children:[(0,b.jsx)("span",{className:"text-white/40",children:"Recipients"}),(0,b.jsx)("span",{className:"text-white/60",children:l.filter(I).length})]})]}),(0,b.jsx)("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-xl p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-purple-400 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,b.jsxs)("div",{className:"text-sm text-white/60",children:[(0,b.jsx)("p",{className:"text-purple-400 font-medium mb-1",children:"Privacy Protection"}),(0,b.jsxs)("ul",{className:"space-y-1 text-white/50",children:[(0,b.jsx)("li",{children:"Recipients are encrypted end-to-end"}),(0,b.jsx)("li",{children:"Relayer cannot see who receives funds"}),(0,b.jsx)("li",{children:"Only the Distributor can decrypt recipients"})]})]})]})}),L()&&(0,b.jsxs)("div",{className:`flex items-center gap-3 p-4 rounded-xl ${"success"===n?"bg-green-500/10 border border-green-500/20":"error"===n?"bg-red-500/10 border border-red-500/20":"bg-white/5 border border-white/10"}`,children:[M&&(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"}),"success"===n&&(0,b.jsx)("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"error"===n&&(0,b.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,b.jsx)("span",{className:`text-sm ${"success"===n?"text-green-400":"error"===n?"text-red-400":"text-white/60"}`,children:L()})]}),v&&(0,b.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-white/40 mb-2",children:"Request ID"}),(0,b.jsx)("code",{className:"font-mono text-sm text-purple-400 break-all",children:v})]}),(0,b.jsx)("button",{onClick:K,disabled:!h||!i||!J||M,className:`w-full py-4 rounded-xl font-semibold transition-all ${!h||!i||!J||M?"bg-white/10 text-white/30 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white"}`,children:h?M?L():"Submit Private Withdrawal":"Connect Wallet First"})]})}function A(){let{walletState:a}=(0,d.useWallet)(),{address:e}=a,[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)("deposits"),l=(0,c.useRef)(h);(0,c.useEffect)(()=>{l.current=h},[h]);let m=(0,c.useCallback)(async()=>{if(!e)return;let a=l.current.filter(a=>a.jobId&&!a.txHash);if(0===a.length)return;let b=a.map(a=>a.jobId);try{let a=await r(b),c=!1;if(a.jobs.forEach(a=>{var b,d,f;let g,h;b=a.jobId,d=a.status,f=a.txHash,g=s(e),(h=Object.values(g.withdrawals).find(a=>a.jobId===b||a.requestId===b))&&(h.status=d,f&&(h.txHash=f),g.withdrawals[h.requestId]=h,t(g)),c=!0}),c){let a=v(e);i(a),l.current=a}}catch(a){console.error("Error polling job statuses:",a)}},[e]);(0,c.useEffect)(()=>{if(!e)return;g(u(e));let a=v(e);i(a),l.current=a,m()},[e]),(0,c.useEffect)(()=>{if(!e)return;let a=setInterval(m,18e4);return()=>clearInterval(a)},[e,m]);let n=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),o=a=>{switch(a){case"confirmed":case"completed":return"text-green-400 bg-green-400/10";case"pending":case"processing":return"text-yellow-400 bg-yellow-400/10";case"failed":return"text-red-400 bg-red-400/10";default:return"text-white/40 bg-white/10"}};return e?0===f.length&&0===h.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("svg",{className:"w-12 h-12 text-white/20 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,b.jsx)("p",{className:"text-white/40",children:"No transactions yet"}),(0,b.jsx)("p",{className:"text-white/30 text-sm mt-1",children:"Make a deposit to get started"})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>k("deposits"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${"deposits"===j?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-white/5 text-white/60 hover:bg-white/10 border border-transparent"}`,children:["Deposits (",f.length,")"]}),(0,b.jsxs)("button",{onClick:()=>k("withdrawals"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${"withdrawals"===j?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"bg-white/5 text-white/60 hover:bg-white/10 border border-transparent"}`,children:["Withdrawals (",h.length,")"]})]}),"deposits"===j&&(0,b.jsx)("div",{className:"space-y-3",children:f.map(a=>(0,b.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 hover:border-white/20 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-white font-medium",children:[a.amount," USDC"]}),(0,b.jsx)("p",{className:"text-white/40 text-xs",children:n(a.timestamp)})]})]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${o(a.status)}`,children:a.status})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-white/40",children:"Hash"}),(0,b.jsxs)("code",{className:"text-white/60 font-mono text-xs",children:[a.hashLN.slice(0,16),"..."]})]}),a.txHash&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-white/40",children:"Transaction"}),(0,b.jsxs)("a",{href:`https://stellar.expert/explorer/testnet/tx/${a.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 font-mono text-xs",children:[a.txHash.slice(0,8),"..."]})]})]})]},a.hashLN))}),"withdrawals"===j&&(0,b.jsx)("div",{className:"space-y-3",children:h.map(a=>(0,b.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 hover:border-white/20 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center",children:"completed"===a.status?(0,b.jsx)("svg",{className:"w-4 h-4 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):"failed"===a.status?(0,b.jsx)("svg",{className:"w-4 h-4 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,b.jsx)("div",{className:"w-3 h-3 border-2 border-purple-400 border-t-transparent rounded-full animate-spin"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-white font-medium",children:[a.totalAmount," USDC"]}),(0,b.jsx)("p",{className:"text-white/40 text-xs",children:n(a.timestamp)})]})]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${o(a.status)}`,children:a.status})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-white/40",children:"Recipients"}),(0,b.jsx)("span",{className:"text-white/60",children:Object.keys(a.recipients).length})]}),a.jobId&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-white/40",children:"Job ID"}),(0,b.jsxs)("code",{className:"text-white/60 font-mono text-xs",children:[a.jobId.slice(0,8),"..."]})]}),a.txHash&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-white/40",children:"Transaction"}),(0,b.jsxs)("a",{href:`https://stellar.expert/explorer/testnet/tx/${a.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-purple-400 hover:text-purple-300 font-mono text-xs flex items-center gap-1",children:[a.txHash.slice(0,8),"...",(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),"failed"===a.status&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-white/40",children:"Status"}),(0,b.jsxs)("span",{className:"text-red-400 text-xs flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),"Failed"]})]}),("pending"===a.status||"processing"===a.status)&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-white/40",children:"Status"}),(0,b.jsxs)("span",{className:"text-yellow-400 text-xs flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),"processing"===a.status?"Processing...":"Pending..."]})]})]})]},a.requestId))})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("svg",{className:"w-12 h-12 text-white/20 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,b.jsx)("p",{className:"text-white/40",children:"Connect wallet to view history"})]})}function B(){let{walletState:a,formatAddress:f}=(0,d.useWallet)(),{isConnected:g,address:h,network:i}=a,[j,k]=(0,c.useState)("deposit");return(0,b.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,b.jsxs)("nav",{className:"w-full flex items-center justify-between py-6 px-8 md:px-16 fixed top-0 left-0 z-50 backdrop-blur-lg bg-black/60 border-b border-white/5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,b.jsxs)("a",{href:"/dashboard",className:"flex items-center gap-2 text-white/80 hover:text-white transition-colors",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,b.jsx)("span",{className:"hidden md:inline",children:"Back"})]}),(0,b.jsx)("div",{className:"h-6 w-px bg-white/20"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("img",{src:"/Tess_BW.svg",alt:"Tesseract",className:"h-6 w-6 rounded"}),(0,b.jsx)("span",{className:`text-lg font-bold ${e.lexendTera.className}`,children:"Privacy Pay"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[i&&(0,b.jsxs)("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-full text-xs",children:[(0,b.jsx)("div",{className:`w-2 h-2 rounded-full ${"TESTNET"===i.network?"bg-yellow-500":"bg-green-500"} animate-pulse`}),(0,b.jsx)("span",{className:"text-white/60",children:i.network})]}),g&&h?(0,b.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/5 rounded-xl border border-white/10",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,b.jsx)("span",{className:"font-mono text-sm text-white/80",children:f(h)})]}):(0,b.jsx)(d.ConnectWalletButton,{})]})]}),(0,b.jsx)("div",{className:"pt-24 pb-12 px-4 md:px-8",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"text-center mb-12",children:[(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-500/10 border border-purple-500/20 rounded-full mb-6",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,b.jsx)("span",{className:"text-sm text-purple-400",children:"End-to-End Encrypted"})]}),(0,b.jsx)("h1",{className:`text-4xl md:text-5xl font-bold mb-4 ${e.lexendTera.className}`,children:"Privacy Pay"}),(0,b.jsx)("p",{className:"text-white/60 text-lg max-w-2xl mx-auto",children:"Deposit and withdraw funds with complete privacy. Your transaction details are encrypted and hidden from the public ledger."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)("div",{className:"flex gap-2 p-1 bg-white/5 rounded-xl",children:[(0,b.jsxs)("button",{onClick:()=>k("deposit"),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg font-medium transition-all ${"deposit"===j?"bg-gradient-to-r from-blue-600 to-blue-500 text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),"Deposit"]}),(0,b.jsxs)("button",{onClick:()=>k("withdraw"),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg font-medium transition-all ${"withdraw"===j?"bg-gradient-to-r from-purple-600 to-pink-500 text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"Withdraw"]})]}),(0,b.jsx)("div",{className:"bg-black/40 backdrop-blur-lg border border-white/10 rounded-2xl p-6 md:p-8",children:"deposit"===j?(0,b.jsx)(y,{}):(0,b.jsx)(z,{})}),(0,b.jsxs)("div",{className:"bg-black/40 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:[(0,b.jsx)("h3",{className:`text-lg font-semibold mb-4 ${e.lexendTera.className}`,children:"How Privacy Pay Works"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center text-center p-4 bg-white/5 rounded-xl",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center mb-3",children:(0,b.jsx)("span",{className:"text-blue-400 font-bold",children:"1"})}),(0,b.jsx)("h4",{className:"font-medium mb-1",children:"Deposit"}),(0,b.jsx)("p",{className:"text-sm text-white/50",children:"Funds are linked to a unique hash, not your address"})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center text-center p-4 bg-white/5 rounded-xl",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-purple-500/20 flex items-center justify-center mb-3",children:(0,b.jsx)("span",{className:"text-purple-400 font-bold",children:"2"})}),(0,b.jsx)("h4",{className:"font-medium mb-1",children:"Encrypt"}),(0,b.jsx)("p",{className:"text-sm text-white/50",children:"Withdrawal details are encrypted end-to-end"})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center text-center p-4 bg-white/5 rounded-xl",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center mb-3",children:(0,b.jsx)("span",{className:"text-green-400 font-bold",children:"3"})}),(0,b.jsx)("h4",{className:"font-medium mb-1",children:"Withdraw"}),(0,b.jsx)("p",{className:"text-sm text-white/50",children:"Recipients receive funds privately"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-black/40 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:[(0,b.jsx)("h3",{className:`text-lg font-semibold mb-4 ${e.lexendTera.className}`,children:"Your Activity"}),(0,b.jsx)(A,{})]}),(0,b.jsx)("div",{className:"bg-gradient-to-br from-blue-900/20 to-purple-900/20 border border-white/10 rounded-2xl p-6",children:(0,b.jsx)("div",{className:"flex items-start gap-3",children:(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center flex-shrink-0",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-white/60",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})})})]})]})]})})]})}function C(){return(0,b.jsx)(d.WalletProvider,{children:(0,b.jsx)(B,{})})}a.s(["default",()=>C],1674)}];

//# sourceMappingURL=_835ae734._.js.map