{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/lexend_tera_c343b42e.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"lexend_tera_c343b42e-module__33zOOW__className\",\n  \"variable\": \"lexend_tera_c343b42e-module__33zOOW__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/lexend_tera_c343b42e.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22Fonts.ts%22,%22import%22:%22Lexend_Tera%22,%22arguments%22:[{%22subsets%22:[%22latin%22],%22weight%22:[%22400%22,%22700%22],%22variable%22:%22--font-lexend-tera%22}],%22variableName%22:%22lexendTera%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Lexend Tera', 'Lexend Tera Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,sKAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,sKAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,sKAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaushalchaudhari/Desktop/Tesseract-Client/tesseract-client/app/services/bulkPaymentService.ts"],"sourcesContent":["import {\n    Address,\n    Keypair,\n    Operation,\n    SorobanRpc,\n    TransactionBuilder,\n    xdr,\n    nativeToScVal,\n    hash,\n    Account,\n    Networks,\n} from '@stellar/stellar-sdk';\n\n// ==================== CONFIGURATION ====================\n\nconst CONFIG = {\n    TESTNET: {\n        RPC_URL: 'https://soroban-testnet.stellar.org',\n        HORIZON_URL: 'https://horizon-testnet.stellar.org',\n        NETWORK_PASSPHRASE: Networks.TESTNET,\n        ORCHESTRATOR_CONTRACT: 'CBYD7XCJH6RCA27AXXJDO3ARZHQJIW5BYEHAUKJ7QS6NQMLIQ2KMJ3K2',\n        XLM_SAC: 'CDLZFC3SYJYDZT7K67VZ75HPJVIEUVNIXF47ZG2FB2RMQQVU2HHGCYSC',\n    },\n    MAINNET: {\n        RPC_URL: 'https://soroban-rpc.stellar.org',\n        HORIZON_URL: 'https://horizon.stellar.org',\n        NETWORK_PASSPHRASE: Networks.PUBLIC,\n        ORCHESTRATOR_CONTRACT: '', // TODO: Deploy and update for mainnet\n        XLM_SAC: 'CAS3J7GYLGXMF6TDJBBYYSE3HQ6BBSMLNUQ34T6TZMYMW2EVH34XOWMA',\n    },\n};\n\n// Worker contracts for batch processing (20 available)\nconst WORKER_CONTRACTS: Record<string, string> = {\n    worker1: 'CA46744JXE6PUFP2E4G26QKBG3DTA3RIGGWGTP2QIEKZ6U3CQ3LKM7SH',\n    worker2: 'CAWHF5NQMVED6ANSUMG3OXEMWQHOX2K53VSOK5FO3MMMG7Y5YMFMZABZ',\n    worker3: 'CC6VG5BLTU4SIZQAFOQZOIOEKLQAR2NYTMPOLZVULK7ZHYUTE7YKORPJ',\n    worker4: 'CCOV6M4AEP7TGZ3NIMFGUXMWO3TXSWHSHDGGMIYNN7QM2COM7ITEJBMU',\n    worker5: 'CDWIM6L5FKT3PQ7PCM5UFUIWPS22YVQWUMIMPKLPKBVFUKD5JJUQNH27',\n    worker6: 'CD236CW2YLUXXWK4WT6BRDKMDDCKZKPU5RJRSVL64H6XZLXEU3UZ73GF',\n    worker7: 'CB7O7WGBXMVGES75LSLVC277YIHVHGO75RN7YJELE7IQ2664TMZ4OLG6',\n    worker8: 'CBAUCRBOPXN33TIUIMBCQ2BPWPA446IWMK32KYO43RGOLG3KPBE3L5J2',\n    worker9: 'CCM6WJHG6CDN7YCR4BVSFKJVQEOW5BA6IHH6RSXX5QRPLNS7E4UL4SLN',\n    worker10: 'CBHRLC3IY6OIOGTU4E737IKPWV46N43NLTJX2ZIYGK7ZI6B4TRL7HIIC',\n    worker11: 'CC6N434Q5GH4TIN4NVXK7FWZHLEAAC3MIZATRHT3YK2VEAVK3GKW62CE',\n    worker12: 'CBGMTVKUULAVZ3UJQMJ74SISODP5FV5W2UGSWXHYGXUAYGLMXTM3QKHH',\n    worker13: 'CBCWTKVJEVDNYLMK7PD5VU67IX46BPCSOH75EINCF4MIYJW7HUF2O7P6',\n    worker14: 'CCNZ753NQBP67AZSYCQNLCVW56ZAY36AQMTNOBI2WKLP4GNR5ARBRIES',\n    worker15: 'CAEPOYMB33T6MQXNA2C5HLXNCKHLC5RCMF7EFCMPB3M2764RRUACC2E6',\n    worker16: 'CCJYOSKABCA4XDATIPB4BJI63GQ25AMGXFQSY6KSZ3AMCWAD6OF4L3RW',\n    worker17: 'CBEJCOJBK5QWHSOPLZY6OGY2446JXC5UJG2565NAQNP2BBY3WSRWZD57',\n    worker18: 'CB2TXKCIFCITSG4QICQAWJ4GPVJ6YBVBKBPTEAA5IDHL2QKHZ7FCLGNK',\n    worker19: 'CCTMP2VNVVSABI7J2L442KTBLRHYAMVIB632UTBZYZDMV3RIGU4OUBBY',\n    worker20: 'CBFYQMR7BY7CANCIWJEAL7LYVURWUIKZZZFM3FR2B765HZKTGYLEYLWW',\n};\n\n// ==================== TYPE DEFINITIONS ====================\n\nexport interface PaymentRecipient {\n    address: string;\n    amount: bigint; // In stroops (1 XLM = 10_000_000n)\n}\n\nexport interface BatchConfig {\n    workerContractId: string;\n    recipients: string[];\n    amounts: bigint[];\n}\n\nexport interface AuthTreeBuildResult {\n    authEntry: xdr.SorobanAuthorizationEntry;\n    authPayload: Buffer;\n    expirationLedger: number;\n    nonce: bigint;\n}\n\nexport interface TransactionResult {\n    success: boolean;\n    hash?: string;\n    ledger?: number;\n    error?: string;\n    totalPayments?: number;\n}\n\nexport type NetworkType = 'testnet' | 'mainnet';\n\n// ==================== SAFE LIMITS ====================\n\nexport const SAFE_LIMITS = {\n    MAX_RECIPIENTS_PER_BATCH: 19,  // Don't use 20 (contract limit buffer)\n    MAX_TOTAL_RECIPIENTS: 80,      // Stay under 81 for resource limits\n    MAX_BATCHES: 5,                // 5 batches Ã— 19 = 95, but 80 is safer\n    FEE_BUFFER_MULTIPLIER: 2.0,   // 2x the simulated fee\n    STROOPS_PER_XLM: 10_000_000n,\n};\n\n// ==================== MAIN SERVICE CLASS ====================\n\nexport class BulkPaymentService {\n    private server: SorobanRpc.Server;\n    private networkPassphrase: string;\n    private orchestratorContract: string;\n    private xlmSac: string;\n    private workerContracts: string[];\n\n    constructor(network: NetworkType = 'testnet') {\n        const config = network === 'mainnet' ? CONFIG.MAINNET : CONFIG.TESTNET;\n\n        this.server = new SorobanRpc.Server(config.RPC_URL, { allowHttp: true });\n        this.networkPassphrase = config.NETWORK_PASSPHRASE;\n        this.orchestratorContract = config.ORCHESTRATOR_CONTRACT;\n        this.xlmSac = config.XLM_SAC;\n        this.workerContracts = Object.values(WORKER_CONTRACTS);\n    }\n\n    // ==================== PUBLIC METHODS ====================\n\n    /**\n     * Validates and creates batches from a list of recipients\n     * Returns error if validation fails\n     */\n    validateAndCreateBatches(recipients: PaymentRecipient[]): {\n        batches?: BatchConfig[];\n        error?: string;\n        stats?: {\n            totalRecipients: number;\n            totalAmount: bigint;\n            batchCount: number;\n            recipientsPerBatch: number[];\n        };\n    } {\n        // Validate recipient count\n        if (recipients.length === 0) {\n            return { error: 'No recipients provided' };\n        }\n\n        if (recipients.length > SAFE_LIMITS.MAX_TOTAL_RECIPIENTS) {\n            return {\n                error: `Maximum ${SAFE_LIMITS.MAX_TOTAL_RECIPIENTS} recipients per transaction. You provided ${recipients.length}.`\n            };\n        }\n\n        // Validate addresses and amounts\n        for (let i = 0; i < recipients.length; i++) {\n            const r = recipients[i];\n\n            // Validate address format (basic check)\n            if (!r.address || r.address.length !== 56 || !r.address.startsWith('G')) {\n                return { error: `Invalid Stellar address at row ${i + 1}: ${r.address}` };\n            }\n\n            // Validate amount\n            if (r.amount <= 0n) {\n                return { error: `Amount must be positive at row ${i + 1}` };\n            }\n        }\n\n        // Create batches\n        const batches: BatchConfig[] = [];\n        const recipientsPerBatch: number[] = [];\n\n        for (let i = 0; i < recipients.length; i += SAFE_LIMITS.MAX_RECIPIENTS_PER_BATCH) {\n            const batchRecipients = recipients.slice(i, i + SAFE_LIMITS.MAX_RECIPIENTS_PER_BATCH);\n            const workerIndex = batches.length % this.workerContracts.length;\n\n            batches.push({\n                workerContractId: this.workerContracts[workerIndex],\n                recipients: batchRecipients.map(r => r.address),\n                amounts: batchRecipients.map(r => r.amount),\n            });\n\n            recipientsPerBatch.push(batchRecipients.length);\n        }\n\n        const totalAmount = recipients.reduce((sum, r) => sum + r.amount, 0n);\n\n        return {\n            batches,\n            stats: {\n                totalRecipients: recipients.length,\n                totalAmount,\n                batchCount: batches.length,\n                recipientsPerBatch,\n            },\n        };\n    }\n\n    /**\n     * Builds the 3-level authorization tree for orchestrated payments\n     * This is the key function that enables SINGLE SIGNATURE for all batches\n     */\n    async buildAuthTree(\n        userPublicKey: string,\n        batches: BatchConfig[]\n    ): Promise<AuthTreeBuildResult> {\n        // Get current ledger for nonce and expiration\n        const ledgerResponse = await this.server.getLatestLedger();\n        const currentLedger = ledgerResponse.sequence;\n        const expirationLedger = currentLedger + 1000; // ~83 minutes validity\n        const nonce = BigInt(currentLedger);\n\n        // Build Level 3: Token transfer sub-invocations for each batch\n        const batchSubInvocations: xdr.SorobanAuthorizedInvocation[] = batches.map(batch => {\n            // Build transfer invocations (Level 3)\n            const transferInvocations = batch.recipients.map((recipient, i) => {\n                return new xdr.SorobanAuthorizedInvocation({\n                    function: xdr.SorobanAuthorizedFunction.sorobanAuthorizedFunctionTypeContractFn(\n                        new xdr.InvokeContractArgs({\n                            contractAddress: new Address(this.xlmSac).toScAddress(),\n                            functionName: 'transfer',\n                            args: [\n                                new Address(userPublicKey).toScVal(),\n                                new Address(recipient).toScVal(),\n                                nativeToScVal(batch.amounts[i], { type: 'i128' }),\n                            ],\n                        })\n                    ),\n                    subInvocations: [],\n                });\n            });\n\n            // Build Level 2: Worker batch_pay invocation\n            return new xdr.SorobanAuthorizedInvocation({\n                function: xdr.SorobanAuthorizedFunction.sorobanAuthorizedFunctionTypeContractFn(\n                    new xdr.InvokeContractArgs({\n                        contractAddress: new Address(batch.workerContractId).toScAddress(),\n                        functionName: 'batch_pay',\n                        args: [\n                            new Address(userPublicKey).toScVal(),\n                            xdr.ScVal.scvVec(batch.recipients.map(r => new Address(r).toScVal())),\n                            xdr.ScVal.scvVec(batch.amounts.map(a => nativeToScVal(a, { type: 'i128' }))),\n                            new Address(this.xlmSac).toScVal(),\n                        ],\n                    })\n                ),\n                subInvocations: transferInvocations,\n            });\n        });\n\n        // Build Level 1: Orchestrator root invocation\n        // Convert batches to BatchConfig ScVal format\n        const batchesScVal = xdr.ScVal.scvVec(\n            batches.map(batch =>\n                xdr.ScVal.scvMap([\n                    new xdr.ScMapEntry({\n                        key: xdr.ScVal.scvSymbol('worker_contract'),\n                        val: new Address(batch.workerContractId).toScVal(),\n                    }),\n                    new xdr.ScMapEntry({\n                        key: xdr.ScVal.scvSymbol('recipients'),\n                        val: xdr.ScVal.scvVec(batch.recipients.map(r => new Address(r).toScVal())),\n                    }),\n                    new xdr.ScMapEntry({\n                        key: xdr.ScVal.scvSymbol('amounts'),\n                        val: xdr.ScVal.scvVec(batch.amounts.map(a => nativeToScVal(a, { type: 'i128' }))),\n                    }),\n                ])\n            )\n        );\n\n        const rootInvocation = new xdr.SorobanAuthorizedInvocation({\n            function: xdr.SorobanAuthorizedFunction.sorobanAuthorizedFunctionTypeContractFn(\n                new xdr.InvokeContractArgs({\n                    contractAddress: new Address(this.orchestratorContract).toScAddress(),\n                    functionName: 'orchestrate_payments',\n                    args: [\n                        new Address(userPublicKey).toScVal(),\n                        batchesScVal,\n                        new Address(this.xlmSac).toScVal(),\n                    ],\n                })\n            ),\n            subInvocations: batchSubInvocations,\n        });\n\n        // Build the authorization entry with credentials placeholder\n        const authEntry = new xdr.SorobanAuthorizationEntry({\n            credentials: xdr.SorobanCredentials.sorobanCredentialsAddress(\n                new xdr.SorobanAddressCredentials({\n                    address: new Address(userPublicKey).toScAddress(),\n                    nonce: xdr.Int64.fromString(nonce.toString()),\n                    signatureExpirationLedger: expirationLedger,\n                    signature: xdr.ScVal.scvVoid(), // Placeholder - will be filled after signing\n                })\n            ),\n            rootInvocation: rootInvocation,\n        });\n\n        // Compute the hash payload that needs to be signed\n        const networkId = hash(Buffer.from(this.networkPassphrase));\n        const hashIdPreimage = xdr.HashIdPreimage.envelopeTypeSorobanAuthorization(\n            new xdr.HashIdPreimageSorobanAuthorization({\n                networkId: networkId,\n                nonce: xdr.Int64.fromString(nonce.toString()),\n                signatureExpirationLedger: expirationLedger,\n                invocation: rootInvocation,\n            })\n        );\n\n        const authPayload = hash(hashIdPreimage.toXDR());\n\n        return {\n            authEntry,\n            authPayload,\n            expirationLedger,\n            nonce,\n        };\n    }\n\n    /**\n     * Signs the authorization entry with the wallet's signing function\n     * Returns the signed auth entry ready for transaction submission\n     */\n    async signAuthEntry(\n        authEntry: xdr.SorobanAuthorizationEntry,\n        userPublicKey: string,\n        signFunction: (payload: Buffer) => Promise<Buffer>,\n        authPayload: Buffer\n    ): Promise<xdr.SorobanAuthorizationEntry> {\n        // Get the signature from the wallet\n        const signature = await signFunction(authPayload);\n\n        // Build the signature ScVal\n        const signatureScVal = xdr.ScVal.scvMap([\n            new xdr.ScMapEntry({\n                key: xdr.ScVal.scvSymbol('public_key'),\n                val: xdr.ScVal.scvBytes(Keypair.fromPublicKey(userPublicKey).rawPublicKey()),\n            }),\n            new xdr.ScMapEntry({\n                key: xdr.ScVal.scvSymbol('signature'),\n                val: xdr.ScVal.scvBytes(signature),\n            }),\n        ]);\n\n        // Create new credentials with the signature\n        const credentials = authEntry.credentials();\n        const addressCreds = credentials.address();\n\n        const signedCredentials = xdr.SorobanCredentials.sorobanCredentialsAddress(\n            new xdr.SorobanAddressCredentials({\n                address: addressCreds.address(),\n                nonce: addressCreds.nonce(),\n                signatureExpirationLedger: addressCreds.signatureExpirationLedger(),\n                signature: signatureScVal,\n            })\n        );\n\n        return new xdr.SorobanAuthorizationEntry({\n            credentials: signedCredentials,\n            rootInvocation: authEntry.rootInvocation(),\n        });\n    }\n\n    /**\n     * Submits the signed authorization entry as a transaction\n     * Returns the transaction result\n     */\n    async submitTransaction(\n        signedAuthEntry: xdr.SorobanAuthorizationEntry,\n        serviceSecretKey: string\n    ): Promise<TransactionResult> {\n        const serviceKeypair = Keypair.fromSecret(serviceSecretKey);\n        const serviceAddress = serviceKeypair.publicKey();\n\n        // Load service account\n        let serviceAccount: Account;\n        try {\n            serviceAccount = await this.server.getAccount(serviceAddress);\n        } catch (e) {\n            return {\n                success: false,\n                error: `Failed to load service account: ${serviceAddress}. Ensure it is funded.`,\n            };\n        }\n\n        // Extract the invoke contract args from the auth entry\n        const rootInvocation = signedAuthEntry.rootInvocation();\n        const invokeContractArgs = rootInvocation.function().contractFn();\n\n        // Create the host function\n        const hostFunction = xdr.HostFunction.hostFunctionTypeInvokeContract(invokeContractArgs);\n\n        // Create the invoke operation\n        const invokeOp = Operation.invokeHostFunction({\n            func: hostFunction,\n            auth: [signedAuthEntry],\n        });\n\n        // Build transaction for simulation\n        const simTx = new TransactionBuilder(serviceAccount, {\n            fee: '100',\n            networkPassphrase: this.networkPassphrase,\n        })\n            .addOperation(invokeOp)\n            .setTimeout(60)\n            .build();\n\n        // Simulate\n        const simResponse = await this.server.simulateTransaction(simTx);\n\n        if (SorobanRpc.Api.isSimulationError(simResponse)) {\n            return {\n                success: false,\n                error: `Simulation failed: ${simResponse.error}`,\n            };\n        }\n\n        // Build final transaction with resource data\n        const sorobanData = simResponse.transactionData?.build();\n        const feeWithBuffer = Math.ceil(\n            parseInt(simResponse.minResourceFee || '0') * SAFE_LIMITS.FEE_BUFFER_MULTIPLIER\n        );\n\n        // Reload account for correct sequence number\n        serviceAccount = await this.server.getAccount(serviceAddress);\n\n        const finalTx = new TransactionBuilder(serviceAccount, {\n            fee: feeWithBuffer.toString(),\n            networkPassphrase: this.networkPassphrase,\n        })\n            .setSorobanData(sorobanData!)\n            .addOperation(invokeOp)\n            .setTimeout(90)\n            .build();\n\n        // Sign with service key (pays fees)\n        finalTx.sign(serviceKeypair);\n\n        // Submit\n        const sendResponse = await this.server.sendTransaction(finalTx);\n\n        if (sendResponse.status !== 'PENDING') {\n            return {\n                success: false,\n                error: `Transaction submission failed. Status: ${sendResponse.status}`,\n            };\n        }\n\n        // Wait for confirmation\n        let txStatus = await this.server.getTransaction(sendResponse.hash);\n        let attempts = 0;\n        const maxAttempts = 30;\n\n        while (txStatus.status === 'NOT_FOUND' && attempts < maxAttempts) {\n            await new Promise(resolve => setTimeout(resolve, 1000));\n            txStatus = await this.server.getTransaction(sendResponse.hash);\n            attempts++;\n        }\n\n        if (txStatus.status === 'SUCCESS') {\n            return {\n                success: true,\n                hash: sendResponse.hash,\n                ledger: txStatus.ledger,\n            };\n        }\n\n        return {\n            success: false,\n            error: `Transaction failed with status: ${txStatus.status}`,\n            hash: sendResponse.hash,\n        };\n    }\n\n    // ==================== UTILITY METHODS ====================\n\n    /**\n     * Converts XLM to stroops\n     */\n    static xlmToStroops(xlm: number | string): bigint {\n        const xlmNum = typeof xlm === 'string' ? parseFloat(xlm) : xlm;\n        return BigInt(Math.floor(xlmNum * Number(SAFE_LIMITS.STROOPS_PER_XLM)));\n    }\n\n    /**\n     * Converts stroops to XLM\n     */\n    static stroopsToXlm(stroops: bigint): string {\n        return (Number(stroops) / Number(SAFE_LIMITS.STROOPS_PER_XLM)).toFixed(7);\n    }\n\n    /**\n     * Parses CSV content into payment recipients\n     * Expected format: address,amount (amount in XLM)\n     */\n    static parseCSV(csvContent: string): {\n        recipients?: PaymentRecipient[];\n        error?: string;\n        warnings?: string[];\n    } {\n        const lines = csvContent.trim().split('\\n');\n        const recipients: PaymentRecipient[] = [];\n        const warnings: string[] = [];\n\n        // Skip header if present\n        let startLine = 0;\n        const firstLine = lines[0].toLowerCase();\n        if (firstLine.includes('address') || firstLine.includes('recipient') || firstLine.includes('amount')) {\n            startLine = 1;\n        }\n\n        for (let i = startLine; i < lines.length; i++) {\n            const line = lines[i].trim();\n            if (!line) continue;\n\n            const parts = line.split(',').map(p => p.trim());\n            if (parts.length < 2) {\n                return { error: `Invalid format at line ${i + 1}: expected \"address,amount\"` };\n            }\n\n            const address = parts[0];\n            const amountStr = parts[1];\n\n            // Parse amount (assuming XLM)\n            const amount = parseFloat(amountStr);\n            if (isNaN(amount) || amount <= 0) {\n                return { error: `Invalid amount at line ${i + 1}: ${amountStr}` };\n            }\n\n            // Warn about very small amounts\n            if (amount < 0.0000001) {\n                warnings.push(`Very small amount at line ${i + 1}: ${amountStr} XLM`);\n            }\n\n            recipients.push({\n                address,\n                amount: BulkPaymentService.xlmToStroops(amount),\n            });\n        }\n\n        if (recipients.length === 0) {\n            return { error: 'No valid recipients found in CSV' };\n        }\n\n        return { recipients, warnings };\n    }\n\n    /**\n     * Gets the orchestrator contract address\n     */\n    getOrchestratorContract(): string {\n        return this.orchestratorContract;\n    }\n\n    /**\n     * Gets the XLM SAC address\n     */\n    getXlmSac(): string {\n        return this.xlmSac;\n    }\n\n    /**\n     * Gets the RPC server instance\n     */\n    getServer(): SorobanRpc.Server {\n        return this.server;\n    }\n}\n\n// Export singleton for convenience\nexport const bulkPaymentService = new BulkPaymentService('testnet');\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 503, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaushalchaudhari/Desktop/Tesseract-Client/tesseract-client/app/components/batch-payments/RecipientsInput.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useCallback } from 'react';\nimport { SAFE_LIMITS } from '@/app/services/bulkPaymentService';\n\nexport interface Recipient {\n  id: string;\n  address: string;\n  amount: string;\n  isValid: boolean;\n  error?: string;\n}\n\ninterface RecipientsInputProps {\n  recipients: Recipient[];\n  onRecipientsChange: (recipients: Recipient[]) => void;\n  disabled?: boolean;\n}\n\nexport default function RecipientsInput({\n  recipients,\n  onRecipientsChange,\n  disabled = false,\n}: RecipientsInputProps) {\n  const [dragActive, setDragActive] = useState(false);\n  const [inputMode, setInputMode] = useState<'manual' | 'csv'>('manual');\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  // Generate unique ID\n  const generateId = () => `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n\n  // Validate a single recipient\n  const validateRecipient = (address: string, amount: string): { isValid: boolean; error?: string } => {\n    if (!address.trim()) {\n      return { isValid: false, error: 'Address required' };\n    }\n\n    if (address.length !== 56 || !address.startsWith('G')) {\n      return { isValid: false, error: 'Invalid Stellar address' };\n    }\n\n    const amountNum = parseFloat(amount);\n    if (isNaN(amountNum) || amountNum <= 0) {\n      return { isValid: false, error: 'Invalid amount' };\n    }\n\n    return { isValid: true };\n  };\n\n  // Add empty recipient row\n  const addRecipient = () => {\n    if (recipients.length >= SAFE_LIMITS.MAX_TOTAL_RECIPIENTS) return;\n\n    const newRecipient: Recipient = {\n      id: generateId(),\n      address: '',\n      amount: '',\n      isValid: false,\n    };\n    onRecipientsChange([...recipients, newRecipient]);\n  };\n\n  // Update recipient\n  const updateRecipient = (id: string, field: 'address' | 'amount', value: string) => {\n    const updated = recipients.map((r) => {\n      if (r.id !== id) return r;\n\n      const newAddress = field === 'address' ? value : r.address;\n      const newAmount = field === 'amount' ? value : r.amount;\n      const validation = validateRecipient(newAddress, newAmount);\n\n      return {\n        ...r,\n        [field]: value,\n        isValid: validation.isValid,\n        error: validation.error,\n      };\n    });\n    onRecipientsChange(updated);\n  };\n\n  // Remove recipient\n  const removeRecipient = (id: string) => {\n    if (recipients.length <= 1) return;\n    onRecipientsChange(recipients.filter((r) => r.id !== id));\n  };\n\n  // Handle CSV file upload\n  const handleFileUpload = useCallback(\n    (file: File) => {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const content = e.target?.result as string;\n        const lines = content.trim().split('\\n');\n\n        // Skip header if present\n        let startLine = 0;\n        const firstLine = lines[0].toLowerCase();\n        if (firstLine.includes('address') || firstLine.includes('recipient')) {\n          startLine = 1;\n        }\n\n        const newRecipients: Recipient[] = [];\n\n        for (let i = startLine; i < lines.length && newRecipients.length < SAFE_LIMITS.MAX_TOTAL_RECIPIENTS; i++) {\n          const line = lines[i].trim();\n          if (!line) continue;\n\n          const parts = line.split(',').map((p) => p.trim());\n          if (parts.length >= 2) {\n            const address = parts[0];\n            const amount = parts[1];\n            const validation = validateRecipient(address, amount);\n\n            newRecipients.push({\n              id: generateId(),\n              address,\n              amount,\n              isValid: validation.isValid,\n              error: validation.error,\n            });\n          }\n        }\n\n        if (newRecipients.length > 0) {\n          onRecipientsChange(newRecipients);\n          setInputMode('csv');\n        }\n      };\n      reader.readAsText(file);\n    },\n    [onRecipientsChange]\n  );\n\n  // Handle drag events\n  const handleDrag = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true);\n    } else if (e.type === 'dragleave') {\n      setDragActive(false);\n    }\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      handleFileUpload(e.dataTransfer.files[0]);\n    }\n  };\n\n  // Clear all and reset\n  const clearAll = () => {\n    onRecipientsChange([\n      {\n        id: generateId(),\n        address: '',\n        amount: '',\n        isValid: false,\n      },\n    ]);\n    setInputMode('manual');\n  };\n\n  const validCount = recipients.filter((r) => r.isValid).length;\n  const totalAmount = recipients\n    .filter((r) => r.isValid)\n    .reduce((sum, r) => sum + parseFloat(r.amount), 0);\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Mode Toggle and Info */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <div className=\"flex bg-white/5 rounded-lg p-1\">\n            <button\n              onClick={() => setInputMode('manual')}\n              className={`px-3 py-1.5 text-sm rounded-md transition-all ${\n                inputMode === 'manual'\n                  ? 'bg-white/10 text-white'\n                  : 'text-white/50 hover:text-white'\n              }`}\n              disabled={disabled}\n            >\n              Manual Entry\n            </button>\n            <button\n              onClick={() => fileInputRef.current?.click()}\n              className={`px-3 py-1.5 text-sm rounded-md transition-all ${\n                inputMode === 'csv'\n                  ? 'bg-white/10 text-white'\n                  : 'text-white/50 hover:text-white'\n              }`}\n              disabled={disabled}\n            >\n              Upload CSV\n            </button>\n          </div>\n        </div>\n\n        <div className=\"text-sm text-white/50\">\n          {validCount}/{SAFE_LIMITS.MAX_TOTAL_RECIPIENTS} recipients\n        </div>\n      </div>\n\n      {/* CSV Drop Zone */}\n      <div\n        className={`relative border-2 border-dashed rounded-xl p-6 text-center transition-all ${\n          dragActive\n            ? 'border-blue-500 bg-blue-500/10'\n            : 'border-white/20 hover:border-white/30'\n        } ${disabled ? 'opacity-50 pointer-events-none' : ''}`}\n        onDragEnter={handleDrag}\n        onDragLeave={handleDrag}\n        onDragOver={handleDrag}\n        onDrop={handleDrop}\n      >\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          accept=\".csv,.txt\"\n          onChange={(e) => e.target.files?.[0] && handleFileUpload(e.target.files[0])}\n          className=\"hidden\"\n          disabled={disabled}\n        />\n\n        <svg className=\"w-10 h-10 mx-auto mb-3 text-white/30\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n        </svg>\n        <p className=\"text-sm text-white/60 mb-1\">\n          Drag and drop CSV file here, or{' '}\n          <button\n            onClick={() => fileInputRef.current?.click()}\n            className=\"text-blue-400 hover:text-blue-300\"\n            disabled={disabled}\n          >\n            browse\n          </button>\n        </p>\n        <p className=\"text-xs text-white/40\">Format: address,amount (amount in XLM)</p>\n      </div>\n\n      {/* Recipients Table */}\n      <div className=\"bg-black/20 rounded-xl border border-white/10 overflow-hidden\">\n        {/* Table Header */}\n        <div className=\"grid grid-cols-[1fr_120px_40px] gap-2 px-4 py-3 bg-white/5 border-b border-white/10\">\n          <div className=\"text-xs font-medium text-white/60 uppercase tracking-wider\">\n            Recipient Address\n          </div>\n          <div className=\"text-xs font-medium text-white/60 uppercase tracking-wider\">\n            Amount (XLM)\n          </div>\n          <div></div>\n        </div>\n\n        {/* Table Body */}\n        <div className=\"max-h-[320px] overflow-y-auto\">\n          {recipients.map((recipient, index) => (\n            <div\n              key={recipient.id}\n              className={`grid grid-cols-[1fr_120px_40px] gap-2 px-4 py-2 border-b border-white/5 ${\n                !recipient.isValid && (recipient.address || recipient.amount)\n                  ? 'bg-red-500/5'\n                  : ''\n              }`}\n            >\n              {/* Address Input */}\n              <div className=\"relative\">\n                <input\n                  type=\"text\"\n                  value={recipient.address}\n                  onChange={(e) => updateRecipient(recipient.id, 'address', e.target.value)}\n                  placeholder=\"G...\"\n                  className={`w-full bg-transparent border-0 text-sm font-mono text-white placeholder-white/30 focus:outline-none focus:ring-0 ${\n                    !recipient.isValid && recipient.address ? 'text-red-400' : ''\n                  }`}\n                  disabled={disabled}\n                />\n                {recipient.error && recipient.address && (\n                  <div className=\"absolute -bottom-4 left-0 text-xs text-red-400\">\n                    {recipient.error}\n                  </div>\n                )}\n              </div>\n\n              {/* Amount Input */}\n              <input\n                type=\"number\"\n                step=\"0.0000001\"\n                min=\"0\"\n                value={recipient.amount}\n                onChange={(e) => updateRecipient(recipient.id, 'amount', e.target.value)}\n                placeholder=\"0.00\"\n                className=\"w-full bg-transparent border-0 text-sm text-white placeholder-white/30 focus:outline-none focus:ring-0\"\n                disabled={disabled}\n              />\n\n              {/* Remove Button */}\n              <button\n                onClick={() => removeRecipient(recipient.id)}\n                className=\"flex items-center justify-center text-white/30 hover:text-red-400 transition-colors\"\n                disabled={disabled || recipients.length <= 1}\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n          ))}\n        </div>\n\n        {/* Add Row Button */}\n        <div className=\"px-4 py-3 border-t border-white/10\">\n          <button\n            onClick={addRecipient}\n            disabled={disabled || recipients.length >= SAFE_LIMITS.MAX_TOTAL_RECIPIENTS}\n            className=\"flex items-center gap-2 text-sm text-white/50 hover:text-white transition-colors disabled:opacity-30\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n            </svg>\n            Add Recipient\n          </button>\n        </div>\n      </div>\n\n      {/* Summary Stats */}\n      <div className=\"grid grid-cols-3 gap-4 p-4 bg-white/5 rounded-xl\">\n        <div>\n          <div className=\"text-xs text-white/40 mb-1\">Valid Recipients</div>\n          <div className=\"text-lg font-semibold text-white\">\n            {validCount}\n            <span className=\"text-sm text-white/40\">/{recipients.length}</span>\n          </div>\n        </div>\n        <div>\n          <div className=\"text-xs text-white/40 mb-1\">Total Amount</div>\n          <div className=\"text-lg font-semibold text-white\">\n            {totalAmount.toFixed(2)}\n            <span className=\"text-sm text-white/40\"> XLM</span>\n          </div>\n        </div>\n        <div>\n          <div className=\"text-xs text-white/40 mb-1\">Batches</div>\n          <div className=\"text-lg font-semibold text-white\">\n            {Math.ceil(validCount / SAFE_LIMITS.MAX_RECIPIENTS_PER_BATCH) || 0}\n          </div>\n        </div>\n      </div>\n\n      {/* Limit Warning */}\n      {recipients.length >= SAFE_LIMITS.MAX_TOTAL_RECIPIENTS - 10 && (\n        <div className=\"flex items-center gap-2 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg\">\n          <svg className=\"w-4 h-4 text-yellow-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n          </svg>\n          <span className=\"text-sm text-yellow-200\">\n            Approaching limit: Maximum {SAFE_LIMITS.MAX_TOTAL_RECIPIENTS} recipients per transaction\n          </span>\n        </div>\n      )}\n\n      {/* Clear Button */}\n      {recipients.length > 1 && (\n        <button\n          onClick={clearAll}\n          disabled={disabled}\n          className=\"text-sm text-white/40 hover:text-white transition-colors\"\n        >\n          Clear all recipients\n        </button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1116, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaushalchaudhari/Desktop/Tesseract-Client/tesseract-client/app/components/batch-payments/AuthTreeVisualization.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useRef } from 'react';\n\ninterface AuthTreeNode {\n  id: string;\n  label: string;\n  type: 'orchestrator' | 'worker' | 'transfer';\n  children?: AuthTreeNode[];\n  status: 'pending' | 'active' | 'complete';\n}\n\ninterface AuthTreeVisualizationProps {\n  batches: {\n    workerIndex: number;\n    recipientCount: number;\n  }[];\n  isProcessing: boolean;\n  isComplete: boolean;\n  transactionHash?: string;\n}\n\nconst ANIMATION_DURATION_MS = 15000; // Base animation duration\nconst MIN_EXTENSION_MS = 3000; // Minimum extra time if success comes early\n\nexport default function AuthTreeVisualization({\n  batches,\n  isProcessing,\n  isComplete,\n  transactionHash,\n}: AuthTreeVisualizationProps) {\n  const [animationProgress, setAnimationProgress] = useState(0);\n  const [currentPhase, setCurrentPhase] = useState<'idle' | 'building' | 'signing' | 'submitting' | 'complete'>('idle');\n  const animationRef = useRef<number | null>(null);\n  const startTimeRef = useRef<number | null>(null);\n  const successTimeRef = useRef<number | null>(null);\n\n  // Build the tree structure\n  const buildTree = (): AuthTreeNode => {\n    const workers = batches.map((batch, index) => {\n      const transfers = Array.from({ length: batch.recipientCount }, (_, i) => ({\n        id: `transfer-${index}-${i}`,\n        label: `Transfer ${i + 1}`,\n        type: 'transfer' as const,\n        status: 'pending' as const,\n      }));\n\n      return {\n        id: `worker-${index}`,\n        label: `Worker ${index + 1}`,\n        type: 'worker' as const,\n        children: transfers,\n        status: 'pending' as const,\n      };\n    });\n\n    return {\n      id: 'orchestrator',\n      label: 'Orchestrator',\n      type: 'orchestrator' as const,\n      children: workers,\n      status: 'pending' as const,\n    };\n  };\n\n  const tree = buildTree();\n  const totalNodes = 1 + batches.length + batches.reduce((sum, b) => sum + b.recipientCount, 0);\n\n  // Animation logic\n  useEffect(() => {\n    if (isProcessing && !startTimeRef.current) {\n      startTimeRef.current = Date.now();\n      setCurrentPhase('building');\n\n      const animate = () => {\n        const now = Date.now();\n        const elapsed = now - (startTimeRef.current || now);\n        let duration = ANIMATION_DURATION_MS;\n\n        // If we got success early, extend the animation gracefully\n        if (successTimeRef.current) {\n          const timeAtSuccess = successTimeRef.current - (startTimeRef.current || now);\n          const remainingAtSuccess = 1 - (timeAtSuccess / ANIMATION_DURATION_MS);\n          if (remainingAtSuccess > 0.1) {\n            // Extend to finish smoothly\n            duration = timeAtSuccess + MIN_EXTENSION_MS + (remainingAtSuccess * MIN_EXTENSION_MS);\n          }\n        }\n\n        const progress = Math.min(elapsed / duration, 1);\n        setAnimationProgress(progress);\n\n        // Update phases\n        if (progress < 0.3) {\n          setCurrentPhase('building');\n        } else if (progress < 0.5) {\n          setCurrentPhase('signing');\n        } else if (progress < 0.95) {\n          setCurrentPhase('submitting');\n        } else {\n          setCurrentPhase('complete');\n        }\n\n        if (progress < 1) {\n          animationRef.current = requestAnimationFrame(animate);\n        }\n      };\n\n      animationRef.current = requestAnimationFrame(animate);\n    }\n\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [isProcessing]);\n\n  // Handle early success\n  useEffect(() => {\n    if (isComplete && !successTimeRef.current) {\n      successTimeRef.current = Date.now();\n    }\n  }, [isComplete]);\n\n  // Reset on new processing\n  useEffect(() => {\n    if (!isProcessing && !isComplete) {\n      startTimeRef.current = null;\n      successTimeRef.current = null;\n      setAnimationProgress(0);\n      setCurrentPhase('idle');\n    }\n  }, [isProcessing, isComplete]);\n\n  // Calculate node status based on progress\n  const getNodeStatus = (nodeIndex: number, totalBeforeNode: number): 'pending' | 'active' | 'complete' => {\n    const nodeProgress = totalBeforeNode / totalNodes;\n    if (animationProgress >= nodeProgress + (1 / totalNodes)) {\n      return 'complete';\n    } else if (animationProgress >= nodeProgress) {\n      return 'active';\n    }\n    return 'pending';\n  };\n\n  const phaseLabels = {\n    idle: 'Ready to process',\n    building: 'Building Authorization Tree...',\n    signing: 'Awaiting Signature...',\n    submitting: 'Submitting Transaction...',\n    complete: 'Transaction Complete',\n  };\n\n  return (\n    <div className=\"bg-black/40 backdrop-blur-lg rounded-2xl border border-white/10 p-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <h3 className=\"text-lg font-semibold text-white\">Authorization Tree</h3>\n        <div className=\"flex items-center gap-2\">\n          {currentPhase !== 'idle' && currentPhase !== 'complete' && (\n            <div className=\"w-2 h-2 rounded-full bg-blue-500 animate-pulse\" />\n          )}\n          {currentPhase === 'complete' && (\n            <div className=\"w-2 h-2 rounded-full bg-green-500\" />\n          )}\n          <span className=\"text-sm text-white/60\">{phaseLabels[currentPhase]}</span>\n        </div>\n      </div>\n\n      {/* Progress Bar */}\n      {currentPhase !== 'idle' && (\n        <div className=\"mb-6\">\n          <div className=\"h-1 bg-white/10 rounded-full overflow-hidden\">\n            <div\n              className=\"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300 ease-out\"\n              style={{ width: `${animationProgress * 100}%` }}\n            />\n          </div>\n        </div>\n      )}\n\n      {/* Tree Visualization */}\n      <div className=\"relative\">\n        {/* Orchestrator Level */}\n        <div className=\"flex flex-col items-center\">\n          <TreeNode\n            label=\"Orchestrator\"\n            sublabel=\"orchestrate_payments()\"\n            status={getNodeStatus(0, 0)}\n            isRoot\n          />\n\n          {/* Connection Lines */}\n          {batches.length > 0 && (\n            <div className=\"relative w-full mt-4 mb-4\">\n              <div className=\"absolute left-1/2 transform -translate-x-1/2 w-px h-6 bg-white/20\" />\n              <div className=\"absolute top-6 left-1/2 transform -translate-x-1/2 w-[80%] h-px bg-white/20\" />\n            </div>\n          )}\n\n          {/* Worker Level */}\n          <div className=\"flex flex-wrap justify-center gap-4 w-full\">\n            {batches.map((batch, workerIndex) => {\n              const nodesBeforeWorker = 1 + workerIndex * (1 + Math.max(...batches.map(b => b.recipientCount)));\n              const workerStatus = getNodeStatus(workerIndex + 1, nodesBeforeWorker / totalNodes);\n\n              return (\n                <div key={workerIndex} className=\"flex flex-col items-center\">\n                  {/* Vertical line from horizontal connector */}\n                  <div className=\"w-px h-4 bg-white/20\" />\n\n                  <TreeNode\n                    label={`Worker ${workerIndex + 1}`}\n                    sublabel={`batch_pay() - ${batch.recipientCount} transfers`}\n                    status={workerStatus}\n                  />\n\n                  {/* Transfer indicators */}\n                  <div className=\"mt-3 flex flex-wrap justify-center gap-1 max-w-[120px]\">\n                    {Array.from({ length: batch.recipientCount }, (_, i) => {\n                      const transferNodeIndex = nodesBeforeWorker + 1 + i;\n                      const transferStatus = getNodeStatus(transferNodeIndex, transferNodeIndex / totalNodes);\n                      return (\n                        <div\n                          key={i}\n                          className={`w-2 h-2 rounded-full transition-all duration-300 ${\n                            transferStatus === 'complete'\n                              ? 'bg-green-500'\n                              : transferStatus === 'active'\n                              ? 'bg-blue-500 animate-pulse'\n                              : 'bg-white/20'\n                          }`}\n                          title={`Transfer ${i + 1}`}\n                        />\n                      );\n                    })}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n\n      {/* Stats */}\n      <div className=\"mt-6 pt-6 border-t border-white/10 grid grid-cols-3 gap-4 text-center\">\n        <div>\n          <div className=\"text-2xl font-semibold text-white\">{batches.length}</div>\n          <div className=\"text-xs text-white/40\">Batches</div>\n        </div>\n        <div>\n          <div className=\"text-2xl font-semibold text-white\">\n            {batches.reduce((sum, b) => sum + b.recipientCount, 0)}\n          </div>\n          <div className=\"text-xs text-white/40\">Recipients</div>\n        </div>\n        <div>\n          <div className=\"text-2xl font-semibold text-white\">1</div>\n          <div className=\"text-xs text-white/40\">Signature</div>\n        </div>\n      </div>\n\n      {/* Transaction Hash */}\n      {transactionHash && currentPhase === 'complete' && (\n        <div className=\"mt-4 p-3 bg-green-500/10 border border-green-500/20 rounded-lg\">\n          <div className=\"text-xs text-green-400 mb-1\">Transaction Hash</div>\n          <div className=\"text-sm text-white font-mono truncate\">\n            <a\n              href={`https://stellar.expert/explorer/testnet/tx/${transactionHash}`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"hover:text-blue-400 transition-colors\"\n            >\n              {transactionHash}\n            </a>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\ninterface TreeNodeProps {\n  label: string;\n  sublabel?: string;\n  status: 'pending' | 'active' | 'complete';\n  isRoot?: boolean;\n}\n\nfunction TreeNode({ label, sublabel, status, isRoot }: TreeNodeProps) {\n  const statusStyles = {\n    pending: 'border-white/20 bg-black/40',\n    active: 'border-blue-500 bg-blue-500/10 shadow-lg shadow-blue-500/20',\n    complete: 'border-green-500 bg-green-500/10',\n  };\n\n  const iconStyles = {\n    pending: 'text-white/40',\n    active: 'text-blue-400',\n    complete: 'text-green-400',\n  };\n\n  return (\n    <div\n      className={`relative px-4 py-3 rounded-xl border transition-all duration-300 ${statusStyles[status]} ${\n        isRoot ? 'min-w-[200px]' : 'min-w-[140px]'\n      }`}\n    >\n      <div className=\"flex items-center gap-2\">\n        {/* Status Icon */}\n        <div className={`transition-colors duration-300 ${iconStyles[status]}`}>\n          {status === 'complete' ? (\n            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n            </svg>\n          ) : status === 'active' ? (\n            <svg className=\"w-4 h-4 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n            </svg>\n          ) : (\n            <div className=\"w-4 h-4 rounded-full border border-current\" />\n          )}\n        </div>\n\n        <div>\n          <div className=\"text-sm font-medium text-white\">{label}</div>\n          {sublabel && (\n            <div className=\"text-xs text-white/40 font-mono\">{sublabel}</div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1665, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaushalchaudhari/Desktop/Tesseract-Client/tesseract-client/app/batch-payments/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useMemo } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { lexendTera } from '../components/Fonts';\nimport RecipientsInput, { Recipient } from '../components/batch-payments/RecipientsInput';\nimport AuthTreeVisualization from '../components/batch-payments/AuthTreeVisualization';\nimport { SAFE_LIMITS, BulkPaymentService } from '../services/bulkPaymentService';\n\ntype TransactionState = 'idle' | 'preparing' | 'signing' | 'submitting' | 'success' | 'error';\n\ninterface TransactionStatus {\n  state: TransactionState;\n  message: string;\n  hash?: string;\n  error?: string;\n}\n\nexport default function BatchPayments() {\n  const router = useRouter();\n  const [recipients, setRecipients] = useState<Recipient[]>([\n    { id: '1', address: '', amount: '', isValid: false },\n  ]);\n  const [txStatus, setTxStatus] = useState<TransactionStatus>({\n    state: 'idle',\n    message: 'Ready to process payments',\n  });\n  const [walletConnected, setWalletConnected] = useState(false);\n  const [walletAddress, setWalletAddress] = useState<string>('');\n\n  // Compute valid recipients and batches\n  const validRecipients = useMemo(() => recipients.filter((r) => r.isValid), [recipients]);\n\n  const batchInfo = useMemo(() => {\n    const count = validRecipients.length;\n    if (count === 0) return [];\n\n    const batches = [];\n    for (let i = 0; i < count; i += SAFE_LIMITS.MAX_RECIPIENTS_PER_BATCH) {\n      batches.push({\n        workerIndex: batches.length,\n        recipientCount: Math.min(SAFE_LIMITS.MAX_RECIPIENTS_PER_BATCH, count - i),\n      });\n    }\n    return batches;\n  }, [validRecipients]);\n\n  const totalAmount = useMemo(() => {\n    return validRecipients.reduce((sum, r) => sum + parseFloat(r.amount), 0);\n  }, [validRecipients]);\n\n  // Connect wallet (mock for demo - replace with actual Freighter integration)\n  const connectWallet = async () => {\n    try {\n      // Check if Freighter is available\n      if (typeof window !== 'undefined' && (window as any).freighter) {\n        const freighter = (window as any).freighter;\n        const isAllowed = await freighter.isAllowed();\n\n        if (!isAllowed) {\n          await freighter.setAllowed();\n        }\n\n        const publicKey = await freighter.getPublicKey();\n        setWalletAddress(publicKey);\n        setWalletConnected(true);\n      } else {\n        // Demo mode - generate mock address\n        const mockAddress = 'GDEMO' + 'X'.repeat(51);\n        setWalletAddress(mockAddress);\n        setWalletConnected(true);\n        setTxStatus({\n          state: 'idle',\n          message: 'Demo mode: Freighter not detected. Install Freighter wallet for real transactions.',\n        });\n      }\n    } catch (error: any) {\n      console.error('Wallet connection error:', error);\n      setTxStatus({\n        state: 'error',\n        message: 'Failed to connect wallet',\n        error: error.message,\n      });\n    }\n  };\n\n  // Disconnect wallet\n  const disconnectWallet = () => {\n    setWalletConnected(false);\n    setWalletAddress('');\n    setTxStatus({ state: 'idle', message: 'Ready to process payments' });\n  };\n\n  // Execute batch payment\n  const executeBatchPayment = async () => {\n    if (validRecipients.length === 0) {\n      setTxStatus({ state: 'error', message: 'No valid recipients', error: 'Add at least one valid recipient' });\n      return;\n    }\n\n    if (!walletConnected) {\n      setTxStatus({ state: 'error', message: 'Wallet not connected', error: 'Please connect your wallet first' });\n      return;\n    }\n\n    try {\n      setTxStatus({ state: 'preparing', message: 'Building authorization tree...' });\n\n      // Simulate the auth tree building process\n      // In production, this would call the actual BulkPaymentService\n      await new Promise((resolve) => setTimeout(resolve, 2000));\n\n      setTxStatus({ state: 'signing', message: 'Awaiting wallet signature...' });\n\n      // Simulate signing delay\n      await new Promise((resolve) => setTimeout(resolve, 3000));\n\n      setTxStatus({ state: 'submitting', message: 'Submitting transaction to network...' });\n\n      // Simulate transaction submission\n      await new Promise((resolve) => setTimeout(resolve, 5000));\n\n      // Mock success\n      const mockHash = 'a'.repeat(64);\n      setTxStatus({\n        state: 'success',\n        message: 'Transaction successful!',\n        hash: mockHash,\n      });\n    } catch (error: any) {\n      setTxStatus({\n        state: 'error',\n        message: 'Transaction failed',\n        error: error.message || 'Unknown error occurred',\n      });\n    }\n  };\n\n  // Reset transaction\n  const resetTransaction = () => {\n    setTxStatus({ state: 'idle', message: 'Ready to process payments' });\n  };\n\n  const isProcessing = ['preparing', 'signing', 'submitting'].includes(txStatus.state);\n  const canSubmit = validRecipients.length > 0 && walletConnected && !isProcessing;\n\n  return (\n    <div className=\"min-h-screen bg-black text-white\">\n      {/* Navigation */}\n      <nav className=\"w-full flex items-center justify-between py-6 px-8 lg:px-16 fixed top-0 left-0 z-50 bg-black/80 backdrop-blur-lg border-b border-white/5\">\n        <div className=\"flex items-center gap-x-4\">\n          <button\n            onClick={() => router.push('/dashboard')}\n            className=\"flex items-center gap-2 text-white/60 hover:text-white transition-colors\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n            Back\n          </button>\n          <div className=\"w-px h-6 bg-white/20\" />\n          <a href=\"/\" className=\"text-white/80 hover:text-white transition-colors\">\n            <img src=\"/Tess_BW.svg\" alt=\"Tesseract\" className=\"h-7 w-7 inline-block mr-2\" />\n            <span className=\"hidden sm:inline\">TESSERACT</span>\n          </a>\n        </div>\n\n        {/* Wallet Connection */}\n        <div className=\"flex items-center gap-4\">\n          {walletConnected ? (\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex items-center gap-2 px-3 py-2 bg-white/5 rounded-lg\">\n                <div className=\"w-2 h-2 rounded-full bg-green-500\" />\n                <span className=\"text-sm text-white/80 font-mono\">\n                  {walletAddress.slice(0, 4)}...{walletAddress.slice(-4)}\n                </span>\n              </div>\n              <button\n                onClick={disconnectWallet}\n                className=\"px-3 py-2 text-sm text-white/50 hover:text-white transition-colors\"\n              >\n                Disconnect\n              </button>\n            </div>\n          ) : (\n            <button\n              onClick={connectWallet}\n              className=\"px-4 py-2 bg-white text-black rounded-lg font-medium text-sm hover:bg-white/90 transition-colors\"\n            >\n              Connect Wallet\n            </button>\n          )}\n        </div>\n      </nav>\n\n      {/* Main Content */}\n      <div className=\"pt-24 pb-12 px-8 lg:px-16\">\n        {/* Header */}\n        <div className=\"max-w-6xl mx-auto mb-8\">\n          <h1 className={`text-3xl lg:text-4xl font-bold mb-2 ${lexendTera.className}`}>\n            Batch Payments\n          </h1>\n          <p className=\"text-white/60\">\n            Pay up to {SAFE_LIMITS.MAX_TOTAL_RECIPIENTS} recipients with a single signature\n          </p>\n        </div>\n\n        {/* Content Grid */}\n        <div className=\"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          {/* Left Column - Recipients Input */}\n          <div className=\"space-y-6\">\n            <div className=\"bg-black/40 backdrop-blur-lg rounded-2xl border border-white/10 p-6\">\n              <h2 className=\"text-lg font-semibold mb-4\">Recipients</h2>\n              <RecipientsInput\n                recipients={recipients}\n                onRecipientsChange={setRecipients}\n                disabled={isProcessing}\n              />\n            </div>\n\n            {/* Payment Summary */}\n            <div className=\"bg-black/40 backdrop-blur-lg rounded-2xl border border-white/10 p-6\">\n              <h2 className=\"text-lg font-semibold mb-4\">Payment Summary</h2>\n              <div className=\"space-y-4\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-white/60\">Recipients</span>\n                  <span className=\"font-medium\">{validRecipients.length}</span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-white/60\">Batches</span>\n                  <span className=\"font-medium\">{batchInfo.length}</span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-white/60\">Total Amount</span>\n                  <span className=\"font-medium\">{totalAmount.toFixed(7)} XLM</span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-white/60\">Signatures Required</span>\n                  <span className=\"font-medium text-green-400\">1</span>\n                </div>\n                <div className=\"h-px bg-white/10\" />\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-white/60\">Estimated Fee</span>\n                  <span className=\"font-medium text-white/80\">~0.01 XLM</span>\n                </div>\n              </div>\n            </div>\n\n            {/* Action Button */}\n            <button\n              onClick={executeBatchPayment}\n              disabled={!canSubmit}\n              className={`w-full py-4 rounded-xl font-medium text-lg transition-all ${\n                canSubmit\n                  ? 'bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:opacity-90'\n                  : 'bg-white/10 text-white/40 cursor-not-allowed'\n              }`}\n            >\n              {isProcessing ? (\n                <span className=\"flex items-center justify-center gap-2\">\n                  <svg className=\"w-5 h-5 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n                  </svg>\n                  Processing...\n                </span>\n              ) : !walletConnected ? (\n                'Connect Wallet to Continue'\n              ) : validRecipients.length === 0 ? (\n                'Add Recipients to Continue'\n              ) : (\n                `Pay ${validRecipients.length} Recipients`\n              )}\n            </button>\n\n            {/* Status Message */}\n            {txStatus.state !== 'idle' && (\n              <div\n                className={`p-4 rounded-xl border ${\n                  txStatus.state === 'error'\n                    ? 'bg-red-500/10 border-red-500/20'\n                    : txStatus.state === 'success'\n                    ? 'bg-green-500/10 border-green-500/20'\n                    : 'bg-blue-500/10 border-blue-500/20'\n                }`}\n              >\n                <div className=\"flex items-center gap-2\">\n                  {txStatus.state === 'success' && (\n                    <svg className=\"w-5 h-5 text-green-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                    </svg>\n                  )}\n                  {txStatus.state === 'error' && (\n                    <svg className=\"w-5 h-5 text-red-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                    </svg>\n                  )}\n                  <span\n                    className={\n                      txStatus.state === 'error'\n                        ? 'text-red-400'\n                        : txStatus.state === 'success'\n                        ? 'text-green-400'\n                        : 'text-blue-400'\n                    }\n                  >\n                    {txStatus.message}\n                  </span>\n                </div>\n                {txStatus.error && (\n                  <p className=\"mt-2 text-sm text-white/50\">{txStatus.error}</p>\n                )}\n                {txStatus.hash && (\n                  <div className=\"mt-3\">\n                    <a\n                      href={`https://stellar.expert/explorer/testnet/tx/${txStatus.hash}`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"text-sm text-blue-400 hover:text-blue-300 font-mono\"\n                    >\n                      View on Stellar Expert\n                    </a>\n                  </div>\n                )}\n                {(txStatus.state === 'error' || txStatus.state === 'success') && (\n                  <button\n                    onClick={resetTransaction}\n                    className=\"mt-3 text-sm text-white/50 hover:text-white\"\n                  >\n                    {txStatus.state === 'success' ? 'New Payment' : 'Try Again'}\n                  </button>\n                )}\n              </div>\n            )}\n          </div>\n\n          {/* Right Column - Auth Tree Visualization */}\n          <div className=\"space-y-6\">\n            <AuthTreeVisualization\n              batches={batchInfo}\n              isProcessing={isProcessing}\n              isComplete={txStatus.state === 'success'}\n              transactionHash={txStatus.hash}\n            />\n\n            {/* How It Works */}\n            <div className=\"bg-black/40 backdrop-blur-lg rounded-2xl border border-white/10 p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">How It Works</h3>\n              <div className=\"space-y-4\">\n                <div className=\"flex gap-3\">\n                  <div className=\"flex-shrink-0 w-6 h-6 rounded-full bg-blue-500/20 flex items-center justify-center text-xs text-blue-400\">\n                    1\n                  </div>\n                  <div>\n                    <div className=\"font-medium text-sm\">Add Recipients</div>\n                    <div className=\"text-xs text-white/50\">\n                      Upload a CSV or manually enter up to {SAFE_LIMITS.MAX_TOTAL_RECIPIENTS} recipients\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex gap-3\">\n                  <div className=\"flex-shrink-0 w-6 h-6 rounded-full bg-blue-500/20 flex items-center justify-center text-xs text-blue-400\">\n                    2\n                  </div>\n                  <div>\n                    <div className=\"font-medium text-sm\">Build Auth Tree</div>\n                    <div className=\"text-xs text-white/50\">\n                      Recipients are split into batches of {SAFE_LIMITS.MAX_RECIPIENTS_PER_BATCH} for optimal processing\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex gap-3\">\n                  <div className=\"flex-shrink-0 w-6 h-6 rounded-full bg-blue-500/20 flex items-center justify-center text-xs text-blue-400\">\n                    3\n                  </div>\n                  <div>\n                    <div className=\"font-medium text-sm\">Single Signature</div>\n                    <div className=\"text-xs text-white/50\">\n                      Sign once to authorize all payments atomically\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex gap-3\">\n                  <div className=\"flex-shrink-0 w-6 h-6 rounded-full bg-green-500/20 flex items-center justify-center text-xs text-green-400\">\n                    4\n                  </div>\n                  <div>\n                    <div className=\"font-medium text-sm\">Execute</div>\n                    <div className=\"text-xs text-white/50\">\n                      All payments succeed or fail together in one transaction\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Limits Info */}\n            <div className=\"bg-white/5 rounded-xl p-4\">\n              <h4 className=\"text-sm font-medium mb-3\">Current Limits</h4>\n              <div className=\"grid grid-cols-2 gap-3 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-white/50\">Max Recipients</span>\n                  <span>{SAFE_LIMITS.MAX_TOTAL_RECIPIENTS}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-white/50\">Per Batch</span>\n                  <span>{SAFE_LIMITS.MAX_RECIPIENTS_PER_BATCH}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-white/50\">Max Batches</span>\n                  <span>{SAFE_LIMITS.MAX_BATCHES}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-white/50\">Network</span>\n                  <span className=\"text-yellow-400\">Testnet</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <footer className=\"border-t border-white/10 py-6 px-8 lg:px-16\">\n        <div className=\"max-w-6xl mx-auto flex items-center justify-between text-sm text-white/40\">\n          <span>Powered by Stellar Soroban</span>\n          <span>Tesseract - 4D Privacy on 2D Ledger</span>\n        </div>\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}