(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99128,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},12237,e=>{"use strict";var t=e.i(38316),s=e.i(37806),r=e.i(91325);class i{x;y;vx;vy;age;life;width;height;constructor(e,t){this.width=e,this.height=t,this.x=Math.random()*e,this.y=Math.random()*t,this.vx=0,this.vy=0,this.age=0,this.life=200*Math.random()+100}update(e,t){let s=(Math.cos(.005*this.x)+Math.sin(.005*this.y))*Math.PI;this.vx+=.2*Math.cos(s)*t,this.vy+=.2*Math.sin(s)*t;let r=e.x-this.x,i=e.y-this.y,a=Math.sqrt(r*r+i*i);if(a<150){let e=(150-a)/150;this.vx-=r*e*.05,this.vy-=i*e*.05}this.x+=this.vx,this.y+=this.vy,this.vx*=.95,this.vy*=.95,this.age++,this.age>this.life&&this.reset(),this.x<0&&(this.x=this.width),this.x>this.width&&(this.x=0),this.y<0&&(this.y=this.height),this.y>this.height&&(this.y=0)}reset(){this.x=Math.random()*this.width,this.y=Math.random()*this.height,this.vx=0,this.vy=0,this.age=0,this.life=200*Math.random()+100}draw(e,t){e.fillStyle=t,e.globalAlpha=1-2*Math.abs(this.age/this.life-.5),e.fillRect(this.x,this.y,1.5,1.5)}}function a({className:e,color:a="#6366f1",trailOpacity:n=.15,particleCount:l=600,speed:c=1}){let o=(0,s.useRef)(null),d=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e,t=o.current,s=d.current;if(!t||!s)return;let r=t.getContext("2d");if(!r)return;let h=s.clientWidth,x=s.clientHeight,m=[],u={x:-1e3,y:-1e3},g=()=>{let e=window.devicePixelRatio||1;t.width=h*e,t.height=x*e,r.scale(e,e),t.style.width=`${h}px`,t.style.height=`${x}px`,m=[];for(let e=0;e<l;e++)m.push(new i(h,x))},p=()=>{r.fillStyle=`rgba(0, 0, 0, ${n})`,r.fillRect(0,0,h,x),m.forEach(e=>{e.update(u,c),e.draw(r,a)}),e=requestAnimationFrame(p)},f=()=>{h=s.clientWidth,x=s.clientHeight,g()},b=e=>{let s=t.getBoundingClientRect();u.x=e.clientX-s.left,u.y=e.clientY-s.top},w=()=>{u.x=-1e3,u.y=-1e3};return g(),p(),window.addEventListener("resize",f),s.addEventListener("mousemove",b),s.addEventListener("mouseleave",w),()=>{window.removeEventListener("resize",f),s.removeEventListener("mousemove",b),s.removeEventListener("mouseleave",w),cancelAnimationFrame(e)}},[a,n,l,c]),(0,t.jsx)("div",{ref:d,className:(0,r.cn)("relative w-full h-full bg-black overflow-hidden",e),children:(0,t.jsx)("canvas",{ref:o,className:"block w-full h-full"})})}e.s(["default",()=>a])},75110,e=>{"use strict";var t=e.i(94645);e.i(50523);var s=e.i(38316),r=e.i(37806),i=e.i(28424),a=e.i(30626),n=e.i(29742),l=e.i(79019);function c(e){return 1-Math.pow(1-e,3)}function o({batches:e,isProcessing:t,isComplete:i,transactionHash:a,transactionState:n="idle",onVisualizationComplete:l}){let[o,h]=(0,r.useState)(0),[x,m]=(0,r.useState)("idle"),[u,g]=(0,r.useState)(!1),p=(0,r.useRef)(null),f=(0,r.useRef)(null),b=(0,r.useRef)(null),w=(0,r.useRef)(0),v=(0,r.useRef)("idle"),j=1+e.length+e.reduce((e,t)=>e+t.recipientCount,0),N=(0,r.useCallback)(e=>{switch(e){case"preparing":return{min:0,max:.3};case"signing":return{min:.3,max:.5};case"submitting":return{min:.5,max:.85};case"success":return{min:.85,max:1};default:return{min:0,max:0}}},[]),y=(0,r.useRef)(null),A=(0,r.useCallback)(()=>{if(!f.current)return;let e=Date.now()-f.current,t=N(n),s=Math.min(e/800,1),r=t.min+(t.max-t.min)*.9,a=t.min+(r-t.min)*c(s);h(e=>Math.max(e,a)),a<.3?m("building"):a<.5?m("signing"):a<.85&&m("submitting"),s<1&&!i&&(p.current=requestAnimationFrame(()=>y.current?.()))},[n,i,N]);(0,r.useEffect)(()=>{y.current=A},[A]);let C=(0,r.useRef)(null),S=(0,r.useCallback)(()=>{if(!b.current)return;let e=Math.min((Date.now()-b.current)/2e3,1),t=w.current,s=t+(1-t)*c(e);h(s),s<.95?m("submitting"):m("complete"),e<1?p.current=requestAnimationFrame(()=>C.current?.()):(g(!0),l?.())},[l]);(0,r.useEffect)(()=>{C.current=S},[S]),(0,r.useEffect)(()=>{n!==v.current&&(p.current&&(cancelAnimationFrame(p.current),p.current=null),v.current=n,"preparing"===n?(f.current=Date.now(),m("building"),p.current=requestAnimationFrame(A)):"signing"===n?(f.current=Date.now(),m("signing"),h(e=>Math.max(e,.3)),p.current=requestAnimationFrame(A)):"submitting"===n?(f.current=Date.now(),m("submitting"),h(e=>Math.max(e,.5)),p.current=requestAnimationFrame(A)):"success"===n?(w.current=o,b.current=Date.now(),p.current=requestAnimationFrame(S)):"error"===n?m("idle"):"idle"===n&&(f.current=null,b.current=null,w.current=0,h(0),m("idle"),g(!1)))},[n,A,S,o]),(0,r.useEffect)(()=>()=>{p.current&&cancelAnimationFrame(p.current)},[]),(0,r.useEffect)(()=>{i&&"success"!==n&&!b.current&&(w.current=o,b.current=Date.now(),p.current=requestAnimationFrame(S))},[i,n,o,S]),(0,r.useEffect)(()=>{t||i||"idle"!==n||(f.current=null,b.current=null,w.current=0,h(0),m("idle"),g(!1))},[t,i,n]);let k=(e,t)=>{if(u||o>=.99)return"complete";let s=t/j;return o>=s+1/j?"complete":o>=s?"active":"pending"};return(0,s.jsxs)("div",{className:"bg-transparent backdrop-blur-lg rounded-2xl border border-white/5 p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Authorization Tree"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["idle"!==x&&"complete"!==x&&(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),"complete"===x&&(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,s.jsx)("span",{className:"text-sm text-white/60",children:{idle:"Ready to process",building:"Building Authorization Tree...",signing:"Awaiting Signature...",submitting:"Submitting Transaction...",complete:"Transaction Complete"}[x]})]})]}),"idle"!==x&&(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("div",{className:"h-1 bg-white/10 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300 ease-out",style:{width:`${100*o}%`}})})}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(d,{label:"Orchestrator",sublabel:"orchestrate_payments()",status:k(0,1),isRoot:!0}),e.length>0&&(0,s.jsxs)("div",{className:"relative w-full mt-4 mb-4",children:[(0,s.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-px h-6 bg-white/5"}),(0,s.jsx)("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 w-[80%] h-px bg-white/20"})]}),(0,s.jsx)("div",{className:"flex flex-wrap justify-center gap-4 w-full",children:e.map((t,r)=>{let i=1+r*(1+Math.max(...e.map(e=>e.recipientCount))),a=k(r+1,i/j);return(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-px h-4 bg-white/20"}),(0,s.jsx)(d,{label:`Worker ${r+1}`,sublabel:`batch_pay() - ${t.recipientCount} transfers`,status:a}),(0,s.jsx)("div",{className:"mt-3 flex flex-wrap justify-center gap-1 max-w-[120px]",children:Array.from({length:t.recipientCount},(e,t)=>{let r=i+1+t,a=k(r,r/j);return(0,s.jsx)("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${"complete"===a?"bg-green-500":"active"===a?"bg-blue-500 animate-pulse":"bg-white/20"}`,title:`Transfer ${t+1}`},t)})})]},r)})})]})}),(0,s.jsxs)("div",{className:"mt-6 pt-6 border-t border-white/10 grid grid-cols-3 gap-4 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-semibold text-white",children:e.length}),(0,s.jsx)("div",{className:"text-xs text-white/40",children:"Batches"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-semibold text-white",children:e.reduce((e,t)=>e+t.recipientCount,0)}),(0,s.jsx)("div",{className:"text-xs text-white/40",children:"Recipients"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-semibold text-white",children:"1"}),(0,s.jsx)("div",{className:"text-xs text-white/40",children:"Signature"})]})]}),a&&"complete"===x&&(0,s.jsxs)("div",{className:"mt-4 p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:[(0,s.jsx)("div",{className:"text-xs text-green-400 mb-1",children:"Transaction Hash"}),(0,s.jsx)("div",{className:"text-sm text-white font-mono truncate",children:(0,s.jsx)("a",{href:`https://stellar.expert/explorer/testnet/tx/${a}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",children:a})})]})]})}function d({label:e,sublabel:t,status:r,isRoot:i}){return(0,s.jsx)("div",{className:`relative px-4 py-3 rounded-xl border transition-all duration-300 ${{pending:"border-white/20 bg-black/40",active:"border-blue-500 bg-blue-500/10 shadow-lg shadow-blue-500/20",complete:"border-green-500 bg-green-500/10"}[r]} ${i?"min-w-[200px]":"min-w-[140px]"}`,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:`transition-colors duration-300 ${{pending:"text-white/40",active:"text-blue-400",complete:"text-green-400"}[r]}`,children:"complete"===r?(0,s.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):"active"===r?(0,s.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,s.jsx)("div",{className:"w-4 h-4 rounded-full border border-current"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-white",children:e}),t&&(0,s.jsx)("div",{className:"text-xs text-white/40 font-mono",children:t})]})]})})}var h=e.i(94057),x=e.i(72378),m=e.i(68807),u=e.i(12237),g=e.i(59912);function p(){let e=(0,i.useRouter)(),{walletState:c,signAuthEntry:d,formatAddress:p,isTestnet:f}=(0,x.useWallet)(),[b,w]=(0,r.useState)([{id:"1",address:"",amount:"",isValid:!1}]),[v,j]=(0,r.useState)({state:"idle",message:"Ready to process payments"}),[N,y]=(0,r.useState)(!1),[A,C]=(0,r.useState)(!1),S=(0,r.useCallback)(()=>{C(!0)},[]),k=(0,r.useMemo)(()=>b.filter(e=>e.isValid),[b]),R=(0,r.useMemo)(()=>{let e=k.length;if(0===e)return[];let t=[];for(let s=0;s<e;s+=h.SAFE_LIMITS.MAX_RECIPIENTS_PER_BATCH)t.push({workerIndex:t.length,recipientCount:Math.min(h.SAFE_LIMITS.MAX_RECIPIENTS_PER_BATCH,e-s)});return t},[k]),M=(0,r.useMemo)(()=>k.reduce((e,t)=>e+parseFloat(t.amount),0),[k]),E=async()=>{if(C(!1),y(!1),0===k.length)return void j({state:"error",message:"No valid recipients",error:"Add at least one valid recipient"});if(!c.isConnected||!c.address)return void j({state:"error",message:"Wallet not connected",error:"Please connect your Freighter wallet first"});if(!f())return void j({state:"error",message:"Wrong network",error:"Please switch to Stellar Testnet in Freighter"});try{j({state:"preparing",message:"Building authorization tree..."});let e=new h.BulkPaymentService("testnet");if(!(await e.checkAccountExists(c.address)).exists)return void j({state:"error",message:"Account not funded",error:(0,s.jsxs)("span",{children:["Your wallet address does not exist on Stellar Testnet. Please fund it using the Stellar"," ",(0,s.jsx)("a",{href:`https://friendbot.stellar.org?addr=${c.address}`,target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-300",children:"Friendbot"}),"."]})});let r=k.map(e=>({address:e.address,amount:h.BulkPaymentService.xlmToStroops(e.amount)})),i=e.validateAndCreateBatches(r);if(i.error||!i.batches)return void j({state:"error",message:"Validation failed",error:i.error||"Failed to create batches"});let a=await e.buildAuthTree(c.address,i.batches);j({state:"signing",message:"Awaiting wallet signature..."});let n=await d(a.authPreimageXdr);if((0,m.isWalletError)(n))return void(n.code===m.WalletErrorCode.USER_REJECTED?j({state:"error",message:"Signing cancelled",error:"You cancelled the signing request"}):j({state:"error",message:"Signing failed",error:n.message}));j({state:"submitting",message:"Attaching signature and submitting..."});let l=atob(n.signedAuthEntry),o=new Uint8Array(l.length);for(let e=0;e<l.length;e++)o[e]=l.charCodeAt(e);let x=t.Buffer.from(o),u=await e.signAuthEntry(a.authEntry,c.address,async()=>x,a.authPayload),g=await e.submitTransaction(u,"SDLLCGN5DWJGMRQTNIP5LKUIZNIIGK47C45MARZG5KD5A6D63V4WGFTR");g.success?(j({state:"success",message:`Payment successful! ${i.stats?.totalRecipients} recipients paid.`,hash:g.hash}),y(!0)):j({state:"error",message:"Transaction failed",error:g.error||"Unknown error during submission"})}catch(e){console.error("Batch payment error:",e),j({state:"error",message:"Transaction failed",error:e.message||"Unknown error occurred"})}},T=()=>{j({state:"idle",message:"Ready to process payments"}),C(!1),y(!1),w([{id:"1",address:"",amount:"",isValid:!1}])},P=["preparing","signing","submitting"].includes(v.state),I=P||"success"===v.state&&!A,B=k.length>0&&c.isConnected&&!I;return(0,s.jsxs)("main",{className:"relative h-screen w-screen overflow-hidden bg-black",children:[(0,s.jsx)("div",{className:"absolute inset-0 z-0",children:(0,s.jsx)(u.default,{className:"h-full w-full",color:"#818cf8",trailOpacity:.1,speed:.5})}),(0,s.jsx)(g.AutoResetToast,{isVisible:N,onReset:T,onCancel:()=>y(!1),message:"Batch Payment Completed."}),(0,s.jsxs)("nav",{className:"absolute top-0 left-0 w-full flex items-center justify-between py-6 px-8 lg:px-16 z-50 bg-gradient-to-b from-black/80 to-transparent pointer-events-none",children:[(0,s.jsxs)("div",{className:"flex items-center gap-x-4 pointer-events-auto",children:[(0,s.jsxs)("button",{onClick:()=>e.push("/dashboard"),className:"flex items-center gap-2 text-white/60 hover:text-white transition-colors bg-black/20 backdrop-blur-md px-4 py-2 rounded-full border border-white/5",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,s.jsxs)(a.default,{href:"/",className:"text-white/80 hover:text-white transition-colors flex items-center bg-black/20 backdrop-blur-md px-4 py-2 rounded-full border border-white/5",children:[(0,s.jsx)(n.default,{src:"/Tess-W.png",alt:"Tesseract",width:28,height:28,className:"h-7 w-7 inline-block mr-2"}),(0,s.jsx)("span",{className:"hidden sm:inline font-mono",children:"TESSERACT"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 pointer-events-auto",children:[(0,s.jsx)(x.NetworkBadge,{}),(0,s.jsx)(x.ConnectWalletButton,{})]})]}),(0,s.jsx)("div",{className:"absolute inset-0 z-10 pt-28 pb-4 px-4 overflow-y-auto scrollbar-hide",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-5xl font-bold tracking-tighter text-white drop-shadow-2xl",children:(0,s.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-b from-white to-white/60 font-mono",children:"Batch Payment"})}),(0,s.jsxs)("p",{className:"text-white/40 font-mono text-sm md:text-base",children:["Pay up to ",h.SAFE_LIMITS.MAX_TOTAL_RECIPIENTS," recipients with a single signature"]})]}),!c.isInstalled&&(0,s.jsx)("div",{className:"max-w-3xl mx-auto p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-xl backdrop-blur-md",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-yellow-200 font-medium",children:"Freighter Wallet Required"}),(0,s.jsxs)("p",{className:"text-yellow-200/70 text-sm",children:["Install the"," ",(0,s.jsx)("a",{href:"https://freighter.app",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-yellow-100",children:"View on Stellar Expert →"})]})]}),("error"===v.state||"success"===v.state)&&(0,s.jsx)("button",{onClick:T,className:"mt-3 text-sm text-white/50 hover:text-white",children:"success"===v.state?"New Payment":"Try Again"})]})}),(0,s.jsxs)("div",{className:"space-y-6 bg-transparent backdrop-blur-lg rounded-2xl p-6",children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-6 bg-transparent backdrop-blur-sm rounded-2xl border border-white/10 p-1",children:[(0,s.jsxs)("div",{className:" bg-transparent backdrop-blur-lg rounded-2xl  p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Recipients"}),(0,s.jsx)(l.default,{recipients:b,onRecipientsChange:w,disabled:I})]}),k.length>0&&(0,s.jsxs)("div",{className:"bg-black/5 backdrop-blur-md rounded-3xl border border-white/10 p-6 shadow-xl space-y-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4 text-white/90",children:"Summary"}),(0,s.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-white/50",children:"Recipients"}),(0,s.jsx)("span",{className:"font-mono",children:k.length})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-white/50",children:"Batches"}),(0,s.jsx)("span",{className:"font-mono",children:R.length})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-white/50",children:"Total Amount"}),(0,s.jsxs)("span",{className:"font-mono text-indigo-400",children:[M.toFixed(7)," XLM"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-white/50",children:"Signatures"}),(0,s.jsx)("span",{className:"font-mono text-green-400",children:"1"})]}),(0,s.jsx)("div",{className:"h-px bg-white/5 my-2"}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,s.jsx)("span",{className:"text-white/40",children:"From"}),(0,s.jsx)("span",{className:"font-mono text-white/60 truncate max-w-[150px]",children:c.address?p(c.address):"-"})]})]})]}),(0,s.jsx)("button",{onClick:E,disabled:!B,className:`w-full py-4 rounded-2xl font-bold text-lg transition-all transform hover:scale-[1.01] active:scale-[0.99] shadow-lg ${B?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white hover:from-indigo-400 hover:to-purple-500":"bg-white/5 text-white/30 cursor-not-allowed border border-white/5"}`,children:I?(0,s.jsxs)("span",{className:"flex items-center justify-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"success"===v.state?"Completing...":v.message]}):c.isConnected?0===k.length?"Enter Recipients":`Pay ${k.length} Recipients`:"Connect Wallet"}),"idle"!==v.state&&(0,s.jsxs)("div",{className:`p-4 rounded-2xl border backdrop-blur-md ${"error"===v.state?"bg-red-500/10 border-red-500/20":"success"===v.state?"bg-green-500/10 border-green-500/20":"bg-indigo-500/10 border-indigo-500/20"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:["success"===v.state?(0,s.jsx)("svg",{className:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):"error"===v.state?(0,s.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}):(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-indigo-400 animate-pulse"}),(0,s.jsx)("span",{className:`font-medium ${"error"===v.state?"text-red-400":"success"===v.state?"text-green-400":"text-indigo-400"}`,children:v.message})]}),v.error&&(0,s.jsx)("p",{className:"mt-2 text-sm text-white/50 pl-8",children:v.error}),v.hash&&"success"===v.state&&(0,s.jsx)("div",{className:"mt-3 pl-8",children:(0,s.jsx)("a",{href:`https://stellar.expert/explorer/testnet/tx/${v.hash}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-indigo-400 hover:text-indigo-300 font-mono underline decoration-indigo-400/30 underline-offset-2",children:"View on Stellar Expert"})}),("error"===v.state||"success"===v.state)&&(0,s.jsx)("button",{onClick:T,className:"mt-3 pl-8 text-xs text-white/40 hover:text-white transition-colors",children:"success"===v.state?"Start New Payment":"Dismiss"})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-black/20 backdrop-blur-md rounded-3xl border border-white/10 p-6 shadow-xl",children:(0,s.jsx)(o,{batches:R,isProcessing:P,isComplete:"success"===v.state,transactionHash:v.hash,transactionState:v.state,onVisualizationComplete:S})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-md rounded-3xl border border-white/5 p-6",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold mb-4 text-white/80",children:"Process"}),(0,s.jsx)("div",{className:"space-y-4",children:[{id:1,title:"Input",text:"CSV or Manual"},{id:2,title:"Structure",text:"Auth Tree"},{id:3,title:"Sign",text:"Single Auth"},{id:4,title:"Exec",text:"Atomic"}].map(e=>(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("div",{className:"w-5 h-5 rounded-full bg-indigo-500/20 flex items-center justify-center text-[10px] text-indigo-400 font-mono",children:e.id}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-medium text-white/70",children:e.title}),(0,s.jsx)("div",{className:"text-[10px] text-white/30",children:e.text})]})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-md rounded-3xl border border-white/5 p-6",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold mb-4 text-white/80",children:"Limits"}),(0,s.jsxs)("div",{className:"space-y-3 text-xs",children:[(0,s.jsxs)("div",{className:"flex justify-between py-1 border-b border-white/5",children:[(0,s.jsx)("span",{className:"text-white/40",children:"Max Recipients"}),(0,s.jsx)("span",{className:"font-mono text-white/70",children:h.SAFE_LIMITS.MAX_TOTAL_RECIPIENTS})]}),(0,s.jsxs)("div",{className:"flex justify-between py-1 border-b border-white/5",children:[(0,s.jsx)("span",{className:"text-white/40",children:"Per Batch"}),(0,s.jsx)("span",{className:"font-mono text-white/70",children:h.SAFE_LIMITS.MAX_RECIPIENTS_PER_BATCH})]}),(0,s.jsxs)("div",{className:"flex justify-between py-1 border-b border-white/5",children:[(0,s.jsx)("span",{className:"text-white/40",children:"Max Batches"}),(0,s.jsx)("span",{className:"font-mono text-white/70",children:h.SAFE_LIMITS.MAX_BATCHES})]})]})]})]})]})]}),(0,s.jsx)("footer",{className:"py-8 text-center border-t border-white/5",children:(0,s.jsx)("p",{className:"text-xs text-white/20 font-mono",children:"Powered by Stellar Soroban • Uses Authorisation Trees for O(1) Signature Verification"})})]})]})})]})}function f(){return(0,s.jsx)(x.WalletProvider,{children:(0,s.jsx)(p,{})})}e.s(["default",()=>f],75110)}]);