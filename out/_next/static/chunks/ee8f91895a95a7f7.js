(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96510,(e,t,r)=>{!function(e){"use strict";var t,r=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},s=function(){throw Error("no PRNG")},a=new Uint8Array(16),n=new Uint8Array(32);n[0]=9;var i=r(),o=r([1]),l=r([56129,1]),c=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),x=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function f(e,t,r,s){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=s>>24&255,e[t+5]=s>>16&255,e[t+6]=s>>8&255,e[t+7]=255&s}function p(e,t,r,s,a){var n,i=0;for(n=0;n<a;n++)i|=e[t+n]^r[s+n];return(1&i-1>>>8)-1}function b(e,t,r,s){return p(e,t,r,s,16)}function m(e,t,r,s){return p(e,t,r,s,32)}function w(e,t,r,s){!function(e,t,r,s){for(var a,n=255&s[0]|(255&s[1])<<8|(255&s[2])<<16|(255&s[3])<<24,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,d=255&s[4]|(255&s[5])<<8|(255&s[6])<<16|(255&s[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,u=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,x=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&s[8]|(255&s[9])<<8|(255&s[10])<<16|(255&s[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,w=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,y=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,g=255&s[12]|(255&s[13])<<8|(255&s[14])<<16|(255&s[15])<<24,v=n,j=i,N=o,A=l,S=c,k=d,_=h,E=u,C=x,U=f,L=p,R=b,P=m,T=w,M=y,I=g,B=0;B<20;B+=2)S^=(a=v+P|0)<<7|a>>>25,C^=(a=S+v|0)<<9|a>>>23,P^=(a=C+S|0)<<13|a>>>19,v^=(a=P+C|0)<<18|a>>>14,U^=(a=k+j|0)<<7|a>>>25,T^=(a=U+k|0)<<9|a>>>23,j^=(a=T+U|0)<<13|a>>>19,k^=(a=j+T|0)<<18|a>>>14,M^=(a=L+_|0)<<7|a>>>25,N^=(a=M+L|0)<<9|a>>>23,_^=(a=N+M|0)<<13|a>>>19,L^=(a=_+N|0)<<18|a>>>14,A^=(a=I+R|0)<<7|a>>>25,E^=(a=A+I|0)<<9|a>>>23,R^=(a=E+A|0)<<13|a>>>19,I^=(a=R+E|0)<<18|a>>>14,j^=(a=v+A|0)<<7|a>>>25,N^=(a=j+v|0)<<9|a>>>23,A^=(a=N+j|0)<<13|a>>>19,v^=(a=A+N|0)<<18|a>>>14,_^=(a=k+S|0)<<7|a>>>25,E^=(a=_+k|0)<<9|a>>>23,S^=(a=E+_|0)<<13|a>>>19,k^=(a=S+E|0)<<18|a>>>14,R^=(a=L+U|0)<<7|a>>>25,C^=(a=R+L|0)<<9|a>>>23,U^=(a=C+R|0)<<13|a>>>19,L^=(a=U+C|0)<<18|a>>>14,P^=(a=I+M|0)<<7|a>>>25,T^=(a=P+I|0)<<9|a>>>23,M^=(a=T+P|0)<<13|a>>>19,I^=(a=M+T|0)<<18|a>>>14;v=v+n|0,j=j+i|0,N=N+o|0,A=A+l|0,S=S+c|0,k=k+d|0,_=_+h|0,E=E+u|0,C=C+x|0,U=U+f|0,L=L+p|0,R=R+b|0,P=P+m|0,T=T+w|0,M=M+y|0,I=I+g|0,e[0]=v>>>0&255,e[1]=v>>>8&255,e[2]=v>>>16&255,e[3]=v>>>24&255,e[4]=j>>>0&255,e[5]=j>>>8&255,e[6]=j>>>16&255,e[7]=j>>>24&255,e[8]=N>>>0&255,e[9]=N>>>8&255,e[10]=N>>>16&255,e[11]=N>>>24&255,e[12]=A>>>0&255,e[13]=A>>>8&255,e[14]=A>>>16&255,e[15]=A>>>24&255,e[16]=S>>>0&255,e[17]=S>>>8&255,e[18]=S>>>16&255,e[19]=S>>>24&255,e[20]=k>>>0&255,e[21]=k>>>8&255,e[22]=k>>>16&255,e[23]=k>>>24&255,e[24]=_>>>0&255,e[25]=_>>>8&255,e[26]=_>>>16&255,e[27]=_>>>24&255,e[28]=E>>>0&255,e[29]=E>>>8&255,e[30]=E>>>16&255,e[31]=E>>>24&255,e[32]=C>>>0&255,e[33]=C>>>8&255,e[34]=C>>>16&255,e[35]=C>>>24&255,e[36]=U>>>0&255,e[37]=U>>>8&255,e[38]=U>>>16&255,e[39]=U>>>24&255,e[40]=L>>>0&255,e[41]=L>>>8&255,e[42]=L>>>16&255,e[43]=L>>>24&255,e[44]=R>>>0&255,e[45]=R>>>8&255,e[46]=R>>>16&255,e[47]=R>>>24&255,e[48]=P>>>0&255,e[49]=P>>>8&255,e[50]=P>>>16&255,e[51]=P>>>24&255,e[52]=T>>>0&255,e[53]=T>>>8&255,e[54]=T>>>16&255,e[55]=T>>>24&255,e[56]=M>>>0&255,e[57]=M>>>8&255,e[58]=M>>>16&255,e[59]=M>>>24&255,e[60]=I>>>0&255,e[61]=I>>>8&255,e[62]=I>>>16&255,e[63]=I>>>24&255}(e,t,r,s)}function y(e,t,r,s){!function(e,t,r,s){for(var a,n=255&s[0]|(255&s[1])<<8|(255&s[2])<<16|(255&s[3])<<24,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,d=255&s[4]|(255&s[5])<<8|(255&s[6])<<16|(255&s[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,u=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,x=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&s[8]|(255&s[9])<<8|(255&s[10])<<16|(255&s[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,w=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,y=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,g=255&s[12]|(255&s[13])<<8|(255&s[14])<<16|(255&s[15])<<24,v=n,j=i,N=o,A=l,S=c,k=d,_=h,E=u,C=x,U=f,L=p,R=b,P=m,T=w,M=y,I=g,B=0;B<20;B+=2)S^=(a=v+P|0)<<7|a>>>25,C^=(a=S+v|0)<<9|a>>>23,P^=(a=C+S|0)<<13|a>>>19,v^=(a=P+C|0)<<18|a>>>14,U^=(a=k+j|0)<<7|a>>>25,T^=(a=U+k|0)<<9|a>>>23,j^=(a=T+U|0)<<13|a>>>19,k^=(a=j+T|0)<<18|a>>>14,M^=(a=L+_|0)<<7|a>>>25,N^=(a=M+L|0)<<9|a>>>23,_^=(a=N+M|0)<<13|a>>>19,L^=(a=_+N|0)<<18|a>>>14,A^=(a=I+R|0)<<7|a>>>25,E^=(a=A+I|0)<<9|a>>>23,R^=(a=E+A|0)<<13|a>>>19,I^=(a=R+E|0)<<18|a>>>14,j^=(a=v+A|0)<<7|a>>>25,N^=(a=j+v|0)<<9|a>>>23,A^=(a=N+j|0)<<13|a>>>19,v^=(a=A+N|0)<<18|a>>>14,_^=(a=k+S|0)<<7|a>>>25,E^=(a=_+k|0)<<9|a>>>23,S^=(a=E+_|0)<<13|a>>>19,k^=(a=S+E|0)<<18|a>>>14,R^=(a=L+U|0)<<7|a>>>25,C^=(a=R+L|0)<<9|a>>>23,U^=(a=C+R|0)<<13|a>>>19,L^=(a=U+C|0)<<18|a>>>14,P^=(a=I+M|0)<<7|a>>>25,T^=(a=P+I|0)<<9|a>>>23,M^=(a=T+P|0)<<13|a>>>19,I^=(a=M+T|0)<<18|a>>>14;e[0]=v>>>0&255,e[1]=v>>>8&255,e[2]=v>>>16&255,e[3]=v>>>24&255,e[4]=k>>>0&255,e[5]=k>>>8&255,e[6]=k>>>16&255,e[7]=k>>>24&255,e[8]=L>>>0&255,e[9]=L>>>8&255,e[10]=L>>>16&255,e[11]=L>>>24&255,e[12]=I>>>0&255,e[13]=I>>>8&255,e[14]=I>>>16&255,e[15]=I>>>24&255,e[16]=_>>>0&255,e[17]=_>>>8&255,e[18]=_>>>16&255,e[19]=_>>>24&255,e[20]=E>>>0&255,e[21]=E>>>8&255,e[22]=E>>>16&255,e[23]=E>>>24&255,e[24]=C>>>0&255,e[25]=C>>>8&255,e[26]=C>>>16&255,e[27]=C>>>24&255,e[28]=U>>>0&255,e[29]=U>>>8&255,e[30]=U>>>16&255,e[31]=U>>>24&255}(e,t,r,s)}var g=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function v(e,t,r,s,a,n,i){var o,l,c=new Uint8Array(16),d=new Uint8Array(64);for(l=0;l<16;l++)c[l]=0;for(l=0;l<8;l++)c[l]=n[l];for(;a>=64;){for(w(d,c,i,g),l=0;l<64;l++)e[t+l]=r[s+l]^d[l];for(l=8,o=1;l<16;l++)o=o+(255&c[l])|0,c[l]=255&o,o>>>=8;a-=64,t+=64,s+=64}if(a>0)for(w(d,c,i,g),l=0;l<a;l++)e[t+l]=r[s+l]^d[l];return 0}function j(e,t,r,s,a){var n,i,o=new Uint8Array(16),l=new Uint8Array(64);for(i=0;i<16;i++)o[i]=0;for(i=0;i<8;i++)o[i]=s[i];for(;r>=64;){for(w(l,o,a,g),i=0;i<64;i++)e[t+i]=l[i];for(i=8,n=1;i<16;i++)n=n+(255&o[i])|0,o[i]=255&n,n>>>=8;r-=64,t+=64}if(r>0)for(w(l,o,a,g),i=0;i<r;i++)e[t+i]=l[i];return 0}function N(e,t,r,s,a){var n=new Uint8Array(32);y(n,s,a,g);for(var i=new Uint8Array(8),o=0;o<8;o++)i[o]=s[o+16];return j(e,t,r,i,n)}function A(e,t,r,s,a,n,i){var o=new Uint8Array(32);y(o,n,i,g);for(var l=new Uint8Array(8),c=0;c<8;c++)l[c]=n[c+16];return v(e,t,r,s,a,l,o)}var S=function(e){var t,r,s,a,n,i,o,l;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=(t>>>13|r<<3)&8191,s=255&e[4]|(255&e[5])<<8,this.r[2]=(r>>>10|s<<6)&7939,a=255&e[6]|(255&e[7])<<8,this.r[3]=(s>>>7|a<<9)&8191,n=255&e[8]|(255&e[9])<<8,this.r[4]=(a>>>4|n<<12)&255,this.r[5]=n>>>1&8190,i=255&e[10]|(255&e[11])<<8,this.r[6]=(n>>>14|i<<2)&8191,o=255&e[12]|(255&e[13])<<8,this.r[7]=(i>>>11|o<<5)&8065,l=255&e[14]|(255&e[15])<<8,this.r[8]=(o>>>8|l<<8)&8191,this.r[9]=l>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function k(e,t,r,s,a,n){var i=new S(n);return i.update(r,s,a),i.finish(e,t),0}function _(e,t,r,s,a,n){var i=new Uint8Array(16);return k(i,0,r,s,a,n),b(e,t,i,0)}function E(e,t,r,s,a){var n;if(r<32)return -1;for(A(e,0,t,0,r,s,a),k(e,16,e,32,r-32,e),n=0;n<16;n++)e[n]=0;return 0}function C(e,t,r,s,a){var n,i=new Uint8Array(32);if(r<32||(N(i,0,32,s,a),0!==_(t,16,t,32,r-32,i)))return -1;for(A(e,0,t,0,r,s,a),n=0;n<32;n++)e[n]=0;return 0}function U(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function L(e){var t,r,s=1;for(t=0;t<16;t++)s=Math.floor((r=e[t]+s+65535)/65536),e[t]=r-65536*s;e[0]+=s-1+37*(s-1)}function R(e,t,r){for(var s,a=~(r-1),n=0;n<16;n++)s=a&(e[n]^t[n]),e[n]^=s,t[n]^=s}function P(e,t){var s,a,n,i=r(),o=r();for(s=0;s<16;s++)o[s]=t[s];for(L(o),L(o),L(o),a=0;a<2;a++){for(s=1,i[0]=o[0]-65517;s<15;s++)i[s]=o[s]-65535-(i[s-1]>>16&1),i[s-1]&=65535;i[15]=o[15]-32767-(i[14]>>16&1),n=i[15]>>16&1,i[14]&=65535,R(o,i,1-n)}for(s=0;s<16;s++)e[2*s]=255&o[s],e[2*s+1]=o[s]>>8}function T(e,t){var r=new Uint8Array(32),s=new Uint8Array(32);return P(r,e),P(s,t),m(r,0,s,0)}function M(e){var t=new Uint8Array(32);return P(t,e),1&t[0]}function I(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function B(e,t,r){for(var s=0;s<16;s++)e[s]=t[s]+r[s]}function O(e,t,r){for(var s=0;s<16;s++)e[s]=t[s]-r[s]}function D(e,t,r){var s,a,n=0,i=0,o=0,l=0,c=0,d=0,h=0,u=0,x=0,f=0,p=0,b=0,m=0,w=0,y=0,g=0,v=0,j=0,N=0,A=0,S=0,k=0,_=0,E=0,C=0,U=0,L=0,R=0,P=0,T=0,M=0,I=r[0],B=r[1],O=r[2],D=r[3],W=r[4],K=r[5],H=r[6],Y=r[7],$=r[8],F=r[9],q=r[10],z=r[11],V=r[12],G=r[13],J=r[14],X=r[15];n+=(s=t[0])*I,i+=s*B,o+=s*O,l+=s*D,c+=s*W,d+=s*K,h+=s*H,u+=s*Y,x+=s*$,f+=s*F,p+=s*q,b+=s*z,m+=s*V,w+=s*G,y+=s*J,g+=s*X,i+=(s=t[1])*I,o+=s*B,l+=s*O,c+=s*D,d+=s*W,h+=s*K,u+=s*H,x+=s*Y,f+=s*$,p+=s*F,b+=s*q,m+=s*z,w+=s*V,y+=s*G,g+=s*J,v+=s*X,o+=(s=t[2])*I,l+=s*B,c+=s*O,d+=s*D,h+=s*W,u+=s*K,x+=s*H,f+=s*Y,p+=s*$,b+=s*F,m+=s*q,w+=s*z,y+=s*V,g+=s*G,v+=s*J,j+=s*X,l+=(s=t[3])*I,c+=s*B,d+=s*O,h+=s*D,u+=s*W,x+=s*K,f+=s*H,p+=s*Y,b+=s*$,m+=s*F,w+=s*q,y+=s*z,g+=s*V,v+=s*G,j+=s*J,N+=s*X,c+=(s=t[4])*I,d+=s*B,h+=s*O,u+=s*D,x+=s*W,f+=s*K,p+=s*H,b+=s*Y,m+=s*$,w+=s*F,y+=s*q,g+=s*z,v+=s*V,j+=s*G,N+=s*J,A+=s*X,d+=(s=t[5])*I,h+=s*B,u+=s*O,x+=s*D,f+=s*W,p+=s*K,b+=s*H,m+=s*Y,w+=s*$,y+=s*F,g+=s*q,v+=s*z,j+=s*V,N+=s*G,A+=s*J,S+=s*X,h+=(s=t[6])*I,u+=s*B,x+=s*O,f+=s*D,p+=s*W,b+=s*K,m+=s*H,w+=s*Y,y+=s*$,g+=s*F,v+=s*q,j+=s*z,N+=s*V,A+=s*G,S+=s*J,k+=s*X,u+=(s=t[7])*I,x+=s*B,f+=s*O,p+=s*D,b+=s*W,m+=s*K,w+=s*H,y+=s*Y,g+=s*$,v+=s*F,j+=s*q,N+=s*z,A+=s*V,S+=s*G,k+=s*J,_+=s*X,x+=(s=t[8])*I,f+=s*B,p+=s*O,b+=s*D,m+=s*W,w+=s*K,y+=s*H,g+=s*Y,v+=s*$,j+=s*F,N+=s*q,A+=s*z,S+=s*V,k+=s*G,_+=s*J,E+=s*X,f+=(s=t[9])*I,p+=s*B,b+=s*O,m+=s*D,w+=s*W,y+=s*K,g+=s*H,v+=s*Y,j+=s*$,N+=s*F,A+=s*q,S+=s*z,k+=s*V,_+=s*G,E+=s*J,C+=s*X,p+=(s=t[10])*I,b+=s*B,m+=s*O,w+=s*D,y+=s*W,g+=s*K,v+=s*H,j+=s*Y,N+=s*$,A+=s*F,S+=s*q,k+=s*z,_+=s*V,E+=s*G,C+=s*J,U+=s*X,b+=(s=t[11])*I,m+=s*B,w+=s*O,y+=s*D,g+=s*W,v+=s*K,j+=s*H,N+=s*Y,A+=s*$,S+=s*F,k+=s*q,_+=s*z,E+=s*V,C+=s*G,U+=s*J,L+=s*X,m+=(s=t[12])*I,w+=s*B,y+=s*O,g+=s*D,v+=s*W,j+=s*K,N+=s*H,A+=s*Y,S+=s*$,k+=s*F,_+=s*q,E+=s*z,C+=s*V,U+=s*G,L+=s*J,R+=s*X,w+=(s=t[13])*I,y+=s*B,g+=s*O,v+=s*D,j+=s*W,N+=s*K,A+=s*H,S+=s*Y,k+=s*$,_+=s*F,E+=s*q,C+=s*z,U+=s*V,L+=s*G,R+=s*J,P+=s*X,y+=(s=t[14])*I,g+=s*B,v+=s*O,j+=s*D,N+=s*W,A+=s*K,S+=s*H,k+=s*Y,_+=s*$,E+=s*F,C+=s*q,U+=s*z,L+=s*V,R+=s*G,P+=s*J,T+=s*X,g+=(s=t[15])*I,v+=s*B,j+=s*O,N+=s*D,A+=s*W,S+=s*K,k+=s*H,_+=s*Y,E+=s*$,C+=s*F,U+=s*q,L+=s*z,R+=s*V,P+=s*G,T+=s*J,M+=s*X,n+=38*v,i+=38*j,o+=38*N,l+=38*A,c+=38*S,d+=38*k,h+=38*_,u+=38*E,x+=38*C,f+=38*U,p+=38*L,b+=38*R,m+=38*P,w+=38*T,y+=38*M,a=Math.floor((s=n+(a=1)+65535)/65536),n=s-65536*a,a=Math.floor((s=i+a+65535)/65536),i=s-65536*a,a=Math.floor((s=o+a+65535)/65536),o=s-65536*a,a=Math.floor((s=l+a+65535)/65536),l=s-65536*a,a=Math.floor((s=c+a+65535)/65536),c=s-65536*a,a=Math.floor((s=d+a+65535)/65536),d=s-65536*a,a=Math.floor((s=h+a+65535)/65536),h=s-65536*a,a=Math.floor((s=u+a+65535)/65536),u=s-65536*a,a=Math.floor((s=x+a+65535)/65536),x=s-65536*a,a=Math.floor((s=f+a+65535)/65536),f=s-65536*a,a=Math.floor((s=p+a+65535)/65536),p=s-65536*a,a=Math.floor((s=b+a+65535)/65536),b=s-65536*a,a=Math.floor((s=m+a+65535)/65536),m=s-65536*a,a=Math.floor((s=w+a+65535)/65536),w=s-65536*a,a=Math.floor((s=y+a+65535)/65536),y=s-65536*a,a=Math.floor((s=g+a+65535)/65536),g=s-65536*a,n+=a-1+37*(a-1),a=Math.floor((s=n+(a=1)+65535)/65536),n=s-65536*a,a=Math.floor((s=i+a+65535)/65536),i=s-65536*a,a=Math.floor((s=o+a+65535)/65536),o=s-65536*a,a=Math.floor((s=l+a+65535)/65536),l=s-65536*a,a=Math.floor((s=c+a+65535)/65536),c=s-65536*a,a=Math.floor((s=d+a+65535)/65536),d=s-65536*a,a=Math.floor((s=h+a+65535)/65536),h=s-65536*a,a=Math.floor((s=u+a+65535)/65536),u=s-65536*a,a=Math.floor((s=x+a+65535)/65536),x=s-65536*a,a=Math.floor((s=f+a+65535)/65536),f=s-65536*a,a=Math.floor((s=p+a+65535)/65536),p=s-65536*a,a=Math.floor((s=b+a+65535)/65536),b=s-65536*a,a=Math.floor((s=m+a+65535)/65536),m=s-65536*a,a=Math.floor((s=w+a+65535)/65536),w=s-65536*a,a=Math.floor((s=y+a+65535)/65536),y=s-65536*a,a=Math.floor((s=g+a+65535)/65536),g=s-65536*a,n+=a-1+37*(a-1),e[0]=n,e[1]=i,e[2]=o,e[3]=l,e[4]=c,e[5]=d,e[6]=h,e[7]=u,e[8]=x,e[9]=f,e[10]=p,e[11]=b,e[12]=m,e[13]=w,e[14]=y,e[15]=g}function W(e,t){D(e,t,t)}function K(e,t){var s,a=r();for(s=0;s<16;s++)a[s]=t[s];for(s=253;s>=0;s--)W(a,a),2!==s&&4!==s&&D(a,a,t);for(s=0;s<16;s++)e[s]=a[s]}function H(e,t){var s,a=r();for(s=0;s<16;s++)a[s]=t[s];for(s=250;s>=0;s--)W(a,a),1!==s&&D(a,a,t);for(s=0;s<16;s++)e[s]=a[s]}function Y(e,t,s){var a,n,i=new Uint8Array(32),o=new Float64Array(80),c=r(),d=r(),h=r(),u=r(),x=r(),f=r();for(n=0;n<31;n++)i[n]=t[n];for(i[31]=127&t[31]|64,i[0]&=248,I(o,s),n=0;n<16;n++)d[n]=o[n],u[n]=c[n]=h[n]=0;for(n=254,c[0]=u[0]=1;n>=0;--n)R(c,d,a=i[n>>>3]>>>(7&n)&1),R(h,u,a),B(x,c,h),O(c,c,h),B(h,d,u),O(d,d,u),W(u,x),W(f,c),D(c,h,c),D(h,d,x),B(x,c,h),O(c,c,h),W(d,c),O(h,u,f),D(c,h,l),B(c,c,u),D(h,h,c),D(c,u,f),D(u,d,o),W(d,x),R(c,d,a),R(h,u,a);for(n=0;n<16;n++)o[n+16]=c[n],o[n+32]=h[n],o[n+48]=d[n],o[n+64]=u[n];var p=o.subarray(32),b=o.subarray(16);return K(p,p),D(b,b,p),P(e,b),0}function $(e,t){return Y(e,t,n)}function F(e,t){return s(t,32),$(e,t)}function q(e,t,r){var s=new Uint8Array(32);return Y(s,r,t),y(e,a,s,g)}S.prototype.blocks=function(e,t,r){for(var s,a,n,i,o,l,c,d,h,u,x,f,p,b,m,w,y,g,v,j=2048*!this.fin,N=this.h[0],A=this.h[1],S=this.h[2],k=this.h[3],_=this.h[4],E=this.h[5],C=this.h[6],U=this.h[7],L=this.h[8],R=this.h[9],P=this.r[0],T=this.r[1],M=this.r[2],I=this.r[3],B=this.r[4],O=this.r[5],D=this.r[6],W=this.r[7],K=this.r[8],H=this.r[9];r>=16;)N+=8191&(s=255&e[t+0]|(255&e[t+1])<<8),A+=(s>>>13|(a=255&e[t+2]|(255&e[t+3])<<8)<<3)&8191,S+=(a>>>10|(n=255&e[t+4]|(255&e[t+5])<<8)<<6)&8191,k+=(n>>>7|(i=255&e[t+6]|(255&e[t+7])<<8)<<9)&8191,_+=(i>>>4|(o=255&e[t+8]|(255&e[t+9])<<8)<<12)&8191,E+=o>>>1&8191,C+=(o>>>14|(l=255&e[t+10]|(255&e[t+11])<<8)<<2)&8191,U+=(l>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5)&8191,L+=(c>>>8|(d=255&e[t+14]|(255&e[t+15])<<8)<<8)&8191,R+=d>>>5|j,h=(u=(h=0)+N*P+5*H*A+5*K*S+5*W*k+5*D*_)>>>13,u&=8191,u+=5*O*E,u+=5*B*C,u+=5*I*U,u+=5*M*L,u+=5*T*R,h+=u>>>13,u&=8191,h=(x=h+N*T+A*P+5*H*S+5*K*k+5*W*_)>>>13,x&=8191,x+=5*D*E,x+=5*O*C,x+=5*B*U,x+=5*I*L,x+=5*M*R,h+=x>>>13,x&=8191,h=(f=h+N*M+A*T+S*P+5*H*k+5*K*_)>>>13,f&=8191,f+=5*W*E,f+=5*D*C,f+=5*O*U,f+=5*B*L,f+=5*I*R,h+=f>>>13,f&=8191,h=(p=h+N*I+A*M+S*T+k*P+5*H*_)>>>13,p&=8191,p+=5*K*E,p+=5*W*C,p+=5*D*U,p+=5*O*L,p+=5*B*R,h+=p>>>13,p&=8191,h=(b=h+N*B+A*I+S*M+k*T+_*P)>>>13,b&=8191,b+=5*H*E,b+=5*K*C,b+=5*W*U,b+=5*D*L,b+=5*O*R,h+=b>>>13,b&=8191,h=(m=h+N*O+A*B+S*I+k*M+_*T)>>>13,m&=8191,m+=E*P,m+=5*H*C,m+=5*K*U,m+=5*W*L,m+=5*D*R,h+=m>>>13,m&=8191,h=(w=h+N*D+A*O+S*B+k*I+_*M)>>>13,w&=8191,w+=E*T,w+=C*P,w+=5*H*U,w+=5*K*L,w+=5*W*R,h+=w>>>13,w&=8191,h=(y=h+N*W+A*D+S*O+k*B+_*I)>>>13,y&=8191,y+=E*M,y+=C*T,y+=U*P,y+=5*H*L,y+=5*K*R,h+=y>>>13,y&=8191,h=(g=h+N*K+A*W+S*D+k*O+_*B)>>>13,g&=8191,g+=E*I,g+=C*M,g+=U*T,g+=L*P,g+=5*H*R,h+=g>>>13,g&=8191,h=(v=h+N*H+A*K+S*W+k*D+_*O)>>>13,v&=8191,v+=E*B,v+=C*I,v+=U*M,v+=L*T,v+=R*P,h+=v>>>13,v&=8191,u=8191&(h=(h=(h<<2)+h|0)+u|0),h>>>=13,x+=h,N=u,A=x,S=f,k=p,_=b,E=m,C=w,U=y,L=g,R=v,t+=16,r-=16;this.h[0]=N,this.h[1]=A,this.h[2]=S,this.h[3]=k,this.h[4]=_,this.h[5]=E,this.h[6]=C,this.h[7]=U,this.h[8]=L,this.h[9]=R},S.prototype.finish=function(e,t){var r,s,a,n,i=new Uint16Array(10);if(this.leftover){for(n=this.leftover,this.buffer[n++]=1;n<16;n++)this.buffer[n]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,n=2;n<10;n++)this.h[n]+=r,r=this.h[n]>>>13,this.h[n]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,i[0]=this.h[0]+5,r=i[0]>>>13,i[0]&=8191,n=1;n<10;n++)i[n]=this.h[n]+r,r=i[n]>>>13,i[n]&=8191;for(i[9]-=8192,s=(1^r)-1,n=0;n<10;n++)i[n]&=s;for(n=0,s=~s;n<10;n++)this.h[n]=this.h[n]&s|i[n];for(n=1,this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,a=this.h[0]+this.pad[0],this.h[0]=65535&a;n<8;n++)a=(this.h[n]+this.pad[n]|0)+(a>>>16)|0,this.h[n]=65535&a;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},S.prototype.update=function(e,t,r){var s,a;if(this.leftover){for((a=16-this.leftover)>r&&(a=r),s=0;s<a;s++)this.buffer[this.leftover+s]=e[t+s];if(r-=a,t+=a,this.leftover+=a,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(a=r-r%16,this.blocks(e,t,a),t+=a,r-=a),r){for(s=0;s<r;s++)this.buffer[this.leftover+s]=e[t+s];this.leftover+=r}};var z=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function V(e,t,r,s){for(var a,n,i,o,l,c,d,h,u,x,f,p,b,m,w,y,g,v,j,N,A,S,k,_,E,C,U=new Int32Array(16),L=new Int32Array(16),R=e[0],P=e[1],T=e[2],M=e[3],I=e[4],B=e[5],O=e[6],D=e[7],W=t[0],K=t[1],H=t[2],Y=t[3],$=t[4],F=t[5],q=t[6],V=t[7],G=0;s>=128;){for(j=0;j<16;j++)N=8*j+G,U[j]=r[N+0]<<24|r[N+1]<<16|r[N+2]<<8|r[N+3],L[j]=r[N+4]<<24|r[N+5]<<16|r[N+6]<<8|r[N+7];for(j=0;j<80;j++)if(a=R,n=P,i=T,o=M,l=I,c=B,d=O,h=D,u=W,x=K,f=H,p=Y,b=$,m=F,w=q,y=V,A=D,k=65535&(S=V),_=S>>>16,E=65535&A,C=A>>>16,A=(I>>>14|$<<18)^(I>>>18|$<<14)^($>>>9|I<<23),k+=65535&(S=($>>>14|I<<18)^($>>>18|I<<14)^(I>>>9|$<<23)),_+=S>>>16,E+=65535&A,C+=A>>>16,A=I&B^~I&O,k+=65535&(S=$&F^~$&q),_+=S>>>16,E+=65535&A,C+=A>>>16,A=z[2*j],k+=65535&(S=z[2*j+1]),_+=S>>>16,E+=65535&A,C+=A>>>16,A=U[j%16],k+=65535&(S=L[j%16]),_+=S>>>16,E+=65535&A,C+=A>>>16,_+=k>>>16,E+=_>>>16,C+=E>>>16,g=65535&E|C<<16,v=65535&k|_<<16,A=g,k=65535&(S=v),_=S>>>16,E=65535&A,C=A>>>16,A=(R>>>28|W<<4)^(W>>>2|R<<30)^(W>>>7|R<<25),k+=65535&(S=(W>>>28|R<<4)^(R>>>2|W<<30)^(R>>>7|W<<25)),_+=S>>>16,E+=65535&A,C+=A>>>16,A=R&P^R&T^P&T,k+=65535&(S=W&K^W&H^K&H),_+=S>>>16,E+=65535&A,C+=A>>>16,_+=k>>>16,E+=_>>>16,C+=E>>>16,h=65535&E|C<<16,y=65535&k|_<<16,A=o,k=65535&(S=p),_=S>>>16,E=65535&A,C=A>>>16,A=g,k+=65535&(S=v),_+=S>>>16,E+=65535&A,C+=A>>>16,_+=k>>>16,E+=_>>>16,C+=E>>>16,o=65535&E|C<<16,p=65535&k|_<<16,P=a,T=n,M=i,I=o,B=l,O=c,D=d,R=h,K=u,H=x,Y=f,$=p,F=b,q=m,V=w,W=y,j%16==15)for(N=0;N<16;N++)A=U[N],k=65535&(S=L[N]),_=S>>>16,E=65535&A,C=A>>>16,A=U[(N+9)%16],k+=65535&(S=L[(N+9)%16]),_+=S>>>16,E+=65535&A,C+=A>>>16,A=((g=U[(N+1)%16])>>>1|(v=L[(N+1)%16])<<31)^(g>>>8|v<<24)^g>>>7,k+=65535&(S=(v>>>1|g<<31)^(v>>>8|g<<24)^(v>>>7|g<<25)),_+=S>>>16,E+=65535&A,C+=A>>>16,A=((g=U[(N+14)%16])>>>19|(v=L[(N+14)%16])<<13)^(v>>>29|g<<3)^g>>>6,k+=65535&(S=(v>>>19|g<<13)^(g>>>29|v<<3)^(v>>>6|g<<26)),_+=S>>>16,E+=65535&A,C+=A>>>16,_+=k>>>16,E+=_>>>16,C+=E>>>16,U[N]=65535&E|C<<16,L[N]=65535&k|_<<16;A=R,k=65535&(S=W),_=S>>>16,E=65535&A,C=A>>>16,A=e[0],k+=65535&(S=t[0]),_+=S>>>16,E+=65535&A,C+=A>>>16,_+=k>>>16,E+=_>>>16,C+=E>>>16,e[0]=R=65535&E|C<<16,t[0]=W=65535&k|_<<16,A=P,k=65535&(S=K),_=S>>>16,E=65535&A,C=A>>>16,A=e[1],k+=65535&(S=t[1]),_+=S>>>16,E+=65535&A,C+=A>>>16,_+=k>>>16,E+=_>>>16,C+=E>>>16,e[1]=P=65535&E|C<<16,t[1]=K=65535&k|_<<16,A=T,k=65535&(S=H),_=S>>>16,E=65535&A,C=A>>>16,A=e[2],k+=65535&(S=t[2]),_+=S>>>16,E+=65535&A,C+=A>>>16,_+=k>>>16,E+=_>>>16,C+=E>>>16,e[2]=T=65535&E|C<<16,t[2]=H=65535&k|_<<16,A=M,k=65535&(S=Y),_=S>>>16,E=65535&A,C=A>>>16,A=e[3],k+=65535&(S=t[3]),_+=S>>>16,E+=65535&A,C+=A>>>16,_+=k>>>16,E+=_>>>16,C+=E>>>16,e[3]=M=65535&E|C<<16,t[3]=Y=65535&k|_<<16,A=I,k=65535&(S=$),_=S>>>16,E=65535&A,C=A>>>16,A=e[4],k+=65535&(S=t[4]),_+=S>>>16,E+=65535&A,C+=A>>>16,_+=k>>>16,E+=_>>>16,C+=E>>>16,e[4]=I=65535&E|C<<16,t[4]=$=65535&k|_<<16,A=B,k=65535&(S=F),_=S>>>16,E=65535&A,C=A>>>16,A=e[5],k+=65535&(S=t[5]),_+=S>>>16,E+=65535&A,C+=A>>>16,_+=k>>>16,E+=_>>>16,C+=E>>>16,e[5]=B=65535&E|C<<16,t[5]=F=65535&k|_<<16,A=O,k=65535&(S=q),_=S>>>16,E=65535&A,C=A>>>16,A=e[6],k+=65535&(S=t[6]),_+=S>>>16,E+=65535&A,C+=A>>>16,_+=k>>>16,E+=_>>>16,C+=E>>>16,e[6]=O=65535&E|C<<16,t[6]=q=65535&k|_<<16,A=D,k=65535&(S=V),_=S>>>16,E=65535&A,C=A>>>16,A=e[7],k+=65535&(S=t[7]),_+=S>>>16,E+=65535&A,C+=A>>>16,_+=k>>>16,E+=_>>>16,C+=E>>>16,e[7]=D=65535&E|C<<16,t[7]=V=65535&k|_<<16,G+=128,s-=128}return s}function G(e,t,r){var s,a=new Int32Array(8),n=new Int32Array(8),i=new Uint8Array(256),o=r;for(a[0]=0x6a09e667,a[1]=0xbb67ae85,a[2]=0x3c6ef372,a[3]=0xa54ff53a,a[4]=0x510e527f,a[5]=0x9b05688c,a[6]=0x1f83d9ab,a[7]=0x5be0cd19,n[0]=0xf3bcc908,n[1]=0x84caa73b,n[2]=0xfe94f82b,n[3]=0x5f1d36f1,n[4]=0xade682d1,n[5]=0x2b3e6c1f,n[6]=0xfb41bd6b,n[7]=0x137e2179,V(a,n,t,r),r%=128,s=0;s<r;s++)i[s]=t[o-r+s];for(i[r]=128,i[(r=256-(r<112)*128)-9]=0,f(i,r-8,o/0x20000000|0,o<<3),V(a,n,i,r),s=0;s<8;s++)f(e,8*s,a[s],n[s]);return 0}function J(e,t){var s=r(),a=r(),n=r(),i=r(),o=r(),l=r(),c=r(),h=r(),u=r();O(s,e[1],e[0]),O(u,t[1],t[0]),D(s,s,u),B(a,e[0],e[1]),B(u,t[0],t[1]),D(a,a,u),D(n,e[3],t[3]),D(n,n,d),D(i,e[2],t[2]),B(i,i,i),O(o,a,s),O(l,i,n),B(c,i,n),B(h,a,s),D(e[0],o,l),D(e[1],h,c),D(e[2],c,l),D(e[3],o,h)}function X(e,t,r){var s;for(s=0;s<4;s++)R(e[s],t[s],r)}function Z(e,t){var s=r(),a=r(),n=r();K(n,t[2]),D(s,t[0],n),D(a,t[1],n),P(e,a),e[31]^=M(s)<<7}function Q(e,t,r){var s,a;for(U(e[0],i),U(e[1],o),U(e[2],o),U(e[3],i),a=255;a>=0;--a)X(e,t,s=r[a/8|0]>>(7&a)&1),J(t,e),J(e,e),X(e,t,s)}function ee(e,t){var s=[r(),r(),r(),r()];U(s[0],h),U(s[1],u),U(s[2],o),D(s[3],h,u),Q(e,s,t)}function et(e,t,a){var n,i=new Uint8Array(64),o=[r(),r(),r(),r()];for(a||s(t,32),G(i,t,32),i[0]&=248,i[31]&=127,i[31]|=64,ee(o,i),Z(e,o),n=0;n<32;n++)t[n+32]=e[n];return 0}var er=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function es(e,t){var r,s,a,n;for(s=63;s>=32;--s){for(r=0,a=s-32,n=s-12;a<n;++a)t[a]+=r-16*t[s]*er[a-(s-32)],r=Math.floor((t[a]+128)/256),t[a]-=256*r;t[a]+=r,t[s]=0}for(a=0,r=0;a<32;a++)t[a]+=r-(t[31]>>4)*er[a],r=t[a]>>8,t[a]&=255;for(a=0;a<32;a++)t[a]-=r*er[a];for(s=0;s<32;s++)t[s+1]+=t[s]>>8,e[s]=255&t[s]}function ea(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;es(e,r)}function en(e,t,s,a){var n,i,o=new Uint8Array(64),l=new Uint8Array(64),c=new Uint8Array(64),d=new Float64Array(64),h=[r(),r(),r(),r()];for(G(o,a,32),o[0]&=248,o[31]&=127,o[31]|=64,n=0;n<s;n++)e[64+n]=t[n];for(n=0;n<32;n++)e[32+n]=o[32+n];for(G(c,e.subarray(32),s+32),ea(c),ee(h,c),Z(e,h),n=32;n<64;n++)e[n]=a[n];for(G(l,e,s+64),ea(l),n=0;n<64;n++)d[n]=0;for(n=0;n<32;n++)d[n]=c[n];for(n=0;n<32;n++)for(i=0;i<32;i++)d[n+i]+=l[n]*o[i];return es(e.subarray(32),d),s+64}function ei(e,t,s,a){var n,l,d,h,u,f,p,b,w=new Uint8Array(32),y=new Uint8Array(64),g=[r(),r(),r(),r()],v=[r(),r(),r(),r()];if(s<64||(n=r(),l=r(),d=r(),h=r(),u=r(),f=r(),p=r(),(U(v[2],o),I(v[1],a),W(d,v[1]),D(h,d,c),O(d,d,v[2]),B(h,v[2],h),W(u,h),W(f,u),D(p,f,u),D(n,p,d),D(n,n,h),H(n,n),D(n,n,d),D(n,n,h),D(n,n,h),D(v[0],n,h),W(l,v[0]),D(l,l,h),T(l,d)&&D(v[0],v[0],x),W(l,v[0]),D(l,l,h),T(l,d))?-1:(M(v[0])===a[31]>>7&&O(v[0],i,v[0]),D(v[3],v[0],v[1]),0)))return -1;for(b=0;b<s;b++)e[b]=t[b];for(b=0;b<32;b++)e[b+32]=a[b];if(G(y,e,s),ea(y),Q(g,v,y),ee(v,t.subarray(32)),J(g,v),Z(w,g),s-=64,m(t,0,w,0)){for(b=0;b<s;b++)e[b]=0;return -1}for(b=0;b<s;b++)e[b]=t[b+64];return s}function eo(e,t){if(32!==e.length)throw Error("bad key size");if(24!==t.length)throw Error("bad nonce size")}function el(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function ec(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:y,crypto_stream_xor:A,crypto_stream:N,crypto_stream_salsa20_xor:v,crypto_stream_salsa20:j,crypto_onetimeauth:k,crypto_onetimeauth_verify:_,crypto_verify_16:b,crypto_verify_32:m,crypto_secretbox:E,crypto_secretbox_open:C,crypto_scalarmult:Y,crypto_scalarmult_base:$,crypto_box_beforenm:q,crypto_box_afternm:E,crypto_box:function(e,t,r,s,a,n){var i=new Uint8Array(32);return q(i,a,n),E(e,t,r,s,i)},crypto_box_open:function(e,t,r,s,a,n){var i=new Uint8Array(32);return q(i,a,n),C(e,t,r,s,i)},crypto_box_keypair:F,crypto_hash:G,crypto_sign:en,crypto_sign_keypair:et,crypto_sign_open:ei,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:r,D:c,L:er,pack25519:P,unpack25519:I,M:D,A:B,S:W,Z:O,pow2523:H,add:J,set25519:U,modL:es,scalarmult:Q,scalarbase:ee},e.randomBytes=function(e){var t=new Uint8Array(e);return s(t,e),t},e.secretbox=function(e,t,r){el(e,t,r),eo(r,t);for(var s=new Uint8Array(32+e.length),a=new Uint8Array(s.length),n=0;n<e.length;n++)s[n+32]=e[n];return E(a,s,s.length,t,r),a.subarray(16)},e.secretbox.open=function(e,t,r){el(e,t,r),eo(r,t);for(var s=new Uint8Array(16+e.length),a=new Uint8Array(s.length),n=0;n<e.length;n++)s[n+16]=e[n];return s.length<32||0!==C(a,s,s.length,t,r)?null:a.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(el(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var r=new Uint8Array(32);return Y(r,e,t),r},e.scalarMult.base=function(e){if(el(e),32!==e.length)throw Error("bad n size");var t=new Uint8Array(32);return $(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,s,a){var n=e.box.before(s,a);return e.secretbox(t,r,n)},e.box.before=function(e,t){el(e,t);if(32!==e.length)throw Error("bad public key size");if(32!==t.length)throw Error("bad secret key size");var r=new Uint8Array(32);return q(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,s,a){var n=e.box.before(s,a);return e.secretbox.open(t,r,n)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return F(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(el(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return $(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(el(e,t),64!==t.length)throw Error("bad secret key size");var r=new Uint8Array(64+e.length);return en(r,e,e.length,t),r},e.sign.open=function(e,t){if(el(e,t),32!==t.length)throw Error("bad public key size");var r=new Uint8Array(e.length),s=ei(r,e,e.length,t);if(s<0)return null;for(var a=new Uint8Array(s),n=0;n<a.length;n++)a[n]=r[n];return a},e.sign.detached=function(t,r){for(var s=e.sign(t,r),a=new Uint8Array(64),n=0;n<a.length;n++)a[n]=s[n];return a},e.sign.detached.verify=function(e,t,r){if(el(e,t,r),64!==t.length)throw Error("bad signature size");if(32!==r.length)throw Error("bad public key size");var s,a=new Uint8Array(64+e.length),n=new Uint8Array(64+e.length);for(s=0;s<64;s++)a[s]=t[s];for(s=0;s<e.length;s++)a[s+64]=e[s];return ei(n,a,a.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return et(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(el(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(el(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),s=0;s<32;s++)r[s]=e[s];return et(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){el(e);var t=new Uint8Array(64);return G(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return el(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===p(e,0,t,0,e.length)},e.setPRNG=function(e){s=e},(t="u">typeof self?self.crypto||self.msCrypto:null)&&t.getRandomValues?e.setPRNG(function(e,r){var s,a=new Uint8Array(r);for(s=0;s<r;s+=65536)t.getRandomValues(a.subarray(s,s+Math.min(r-s,65536)));for(s=0;s<r;s++)e[s]=a[s];ec(a)}):(t={}).randomBytes&&e.setPRNG(function(e,r){var s,a=t.randomBytes(r);for(s=0;s<r;s++)e[s]=a[s];ec(a)})}(t.exports?t.exports:self.nacl=self.nacl||{})},91089,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(77223),a=e.i(47167),n=e.i(13172),i=e.i(96510);class o{static async encryptPayload(e,t){let r=JSON.stringify(e),s=new TextEncoder().encode(r).length,a=Object.keys(e).length,n=await this.encryptHybridAES(r,t);return{encrypted:n.encrypted,mode:"hybrid-aes",metadata:{keySize:n.keySize,payloadSize:s,recipients:a}}}static async encryptHybridAES(e,t){let r=new TextEncoder().encode(e),s=crypto.getRandomValues(new Uint8Array(32)),a=crypto.getRandomValues(new Uint8Array(16)),n=await crypto.subtle.importKey("raw",s,{name:"AES-CBC"},!1,["encrypt"]),i=await crypto.subtle.encrypt({name:"AES-CBC",iv:a},n,r),o=await this.importRSAPublicKey(t),l=new Uint8Array(await crypto.subtle.encrypt({name:"RSA-OAEP"},o,s)),c=new Uint8Array(4);new DataView(c.buffer).setUint32(0,l.length,!1);let d=new Uint8Array(4+l.length+16+i.byteLength),h=0;return d.set(c,h),h+=4,d.set(l,h),h+=l.length,d.set(a,h),h+=16,d.set(new Uint8Array(i),h),{encrypted:this.arrayBufferToBase64(d.buffer),keySize:l.length}}static async importRSAPublicKey(e){let t=(e=e.replace(/\\n/g,"\n")).replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace(/\s/g,""),r=this.base64ToArrayBuffer(t);return await crypto.subtle.importKey("spki",r,{name:"RSA-OAEP",hash:"SHA-256"},!1,["encrypt"])}static arrayBufferToBase64(e){let t=new Uint8Array(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return btoa(r)}static base64ToArrayBuffer(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}static calculateMaxRecipients(){return Math.floor(133.33333333333334)}static estimateEncryptedSize(e){return 276+(75*e+50)}}let l={SOROBAN_RPC_URL:"https://soroban-testnet.stellar.org",NETWORK_PASSPHRASE:"Test SDF Network ; September 2015",TREASURY_CONTRACT_ID:"CB3A3BRX6I7CAFGA7S2Q34P5GIJAFB7IX6NP7OKWKABLM6BCTGNUHZZH",IDM_CONTRACT_ID:a.default.env.NEXT_PUBLIC_IDM_CONTRACT_ID||"",ASSET_ADDRESS:"CBIELTK6YBZJU5UP2WWQEUCYKLPU6AUNZ2BQ4WWFEIE3USCIHMXQDAMA",RELAYER_URL:"http://localhost:3001/api/relayer",DISTRIBUTOR_RSA_PUBLIC_KEY:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA1y0YV0EENoTk82DWWy4n57OSv8ilEIWSHSVlsvJMgZ/C+95H0aNJVWKjcIPaYOYSuF7sv/ZLuUtYt6vi8CCiRnyXLLno7huh6rlvC6H8k4Zu8G0P+uNy8XimiF6K8PROnLlQfSjiYRVmjAUkRqCT\nOeDGvvDnC5fTDjMwBOOi8U6ve+HjV5Fnh4x2AN5x+9xKL6q/Gr7Ju8j4oUJJa6xmwU2MIbIrOtiU1irIDhLBQAJ/6vpYs8/xi6KQ3Mu1Gs6UnO51ITu0++0lsSJMHWdjqs6Xpbb56KnsWzOCSlG1TtpSU+8Ny8TCTpViz549MNLoWJvi/5uFxHi7CxxjlwP5rwIDAQAB",RELAYER_NACL_PUBLIC_KEY:"W8V80k2Kobco8yhEW6RiyzLmv7ortHBjiCo5OK0l/RM="};function c(e){return btoa(String.fromCharCode(...e))}async function d(e,t){let r=`${e}${t}`,s=new TextEncoder().encode(r);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",s))).map(e=>e.toString(16).padStart(2,"0")).join("").slice(0,32)}async function h(e,t){let r=new TextEncoder().encode(e+t);return btoa(String.fromCharCode(...new Uint8Array(await crypto.subtle.digest("SHA-256",r)).slice(0,16)))}async function u(){let e=new n.rpc.Server(l.SOROBAN_RPC_URL);return(await e.getHealth()).latestLedger}async function x(e){try{let t=new n.rpc.Server(l.SOROBAN_RPC_URL);try{await t.getAccount(e)}catch(e){if(e.message?.includes("Not Found")||404===e.code)return{exists:!1,hasAsset:!1,error:"Account does not exist. Please fund your wallet first."};throw e}return{exists:!0,hasAsset:!0}}catch(e){return{exists:!1,hasAsset:!1,error:e.message}}}async function f(e){let{depositorAddress:t,hashLN:r,amount:s}=e;if(!l.TREASURY_CONTRACT_ID||!l.ASSET_ADDRESS)throw Error("Missing required contract IDs. Check environment variables.");console.log("[PrivacyPay Deposit] hashLN:",r),console.log("[PrivacyPay Deposit] hashLN type:",typeof r),console.log("[PrivacyPay Deposit] hashLN length:",r.length),console.log("[PrivacyPay Deposit] Building deposit transaction:",{depositorAddress:t,hashLN:r,amount:s,treasuryContract:l.TREASURY_CONTRACT_ID,assetAddress:l.ASSET_ADDRESS,networkPassphrase:l.NETWORK_PASSPHRASE});let a=new n.rpc.Server(l.SOROBAN_RPC_URL),i=await x(t);if(!i.exists)throw Error(i.error||"Account does not exist");let o=await a.getAccount(t);console.log("[PrivacyPay] Account loaded, sequence:",o.sequenceNumber());let c=new n.Contract(l.TREASURY_CONTRACT_ID),d=Math.floor(1e7*s);console.log("[PrivacyPay] Amount in stroops:",d);let h=new n.TransactionBuilder(new n.Account(t,o.sequenceNumber()),{fee:"100",networkPassphrase:l.NETWORK_PASSPHRASE}).addOperation(c.call("deposit",(0,n.nativeToScVal)(t,{type:"address"}),(0,n.nativeToScVal)(r,{type:"string"}),(0,n.nativeToScVal)(d,{type:"i128"}))).setTimeout(30).build();console.log("[PrivacyPay] Transaction built, simulating...");let u=await a.simulateTransaction(h);if(console.log("[PrivacyPay] Simulation response:",JSON.stringify(u,null,2)),n.rpc.Api.isSimulationError(u)){let e=u.error||"Unknown simulation error";throw console.error("[PrivacyPay] Simulation error details:",e),Error(`Simulation failed: ${e}`)}let f=n.rpc.assembleTransaction(h,u).build();return console.log("[PrivacyPay] Transaction assembled successfully"),f.toXDR()}async function p(e){try{let t=new n.rpc.Server(l.SOROBAN_RPC_URL),r=n.TransactionBuilder.fromXDR(e,l.NETWORK_PASSPHRASE),s=await t.sendTransaction(r);if("ERROR"===s.status)return{success:!1,error:`Transaction failed: ${JSON.stringify(s)}`};let a=await t.getTransaction(s.hash),i=0;for(;a.status===n.rpc.Api.GetTransactionStatus.NOT_FOUND&&i<30;)await new Promise(e=>setTimeout(e,1e3)),a=await t.getTransaction(s.hash),i++;if(a.status===n.rpc.Api.GetTransactionStatus.SUCCESS)return{success:!0,txHash:s.hash};return{success:!1,txHash:s.hash,error:`Transaction failed with status: ${a.status}`}}catch(e){return{success:!1,error:e.message}}}async function b(e){let t=l.DISTRIBUTOR_RSA_PUBLIC_KEY;if(!t)throw Error("Distributor RSA public key not configured");let r=await o.encryptPayload(e,t);return console.log(`ðŸ” Hybrid encryption: ${r.metadata.recipients} recipients, ${r.metadata.payloadSize} bytes`),r.encrypted}async function m(e){try{let{hashLN:t,recipients:r,senderRawPublicKey:s}=e;console.log("[PrivacyPay Withdraw] hashLN:",t),console.log("[PrivacyPay Withdraw] hashLN type:",typeof t),console.log("[PrivacyPay Withdraw] hashLN length:",t.length);let a=Object.values(r).reduce((e,t)=>e+parseFloat(t),0),n=await b(r),o=c(s),d=function(e,t,r,s){let a=l.RELAYER_NACL_PUBLIC_KEY;if(!a)throw Error("Relayer NaCl public key not configured");let n=Uint8Array.from(atob(a),e=>e.charCodeAt(0)),o={requestId:crypto.randomUUID(),hashLN:e,totalAmount:t,encryptedD:r,senderPublicKey:s,timestamp:Date.now()};console.log("[PrivacyPay Relayer Payload] hashLN in payload:",o.hashLN),console.log("[PrivacyPay Relayer Payload] Full payload (pre-encryption):",{requestId:o.requestId,hashLN:o.hashLN,totalAmount:o.totalAmount,senderPublicKey:o.senderPublicKey,timestamp:o.timestamp});let d=JSON.stringify(o),h=new TextEncoder().encode(d),u=i.default.box.keyPair(),x=i.default.randomBytes(i.default.box.nonceLength),f=i.default.box(h,x,n,u.secretKey),p=new Uint8Array(u.publicKey.length+x.length+f.length);return p.set(u.publicKey,0),p.set(x,u.publicKey.length),p.set(f,u.publicKey.length+x.length),c(p)}(t,a,n,o),h=await fetch(`${l.RELAYER_URL}/withdraw`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payload:d})}),u=await h.json();if(console.log("[PrivacyPay Withdraw] Relayer response:",JSON.stringify(u)),!h.ok)return{success:!1,error:`Relayer rejected withdrawal: ${h.status} - ${JSON.stringify(u)}`};let x=u.requestId||u.withdrawalRequestId||u._id||u.jobId,f=u.jobId||u.withdrawalRequestId||u._id;return{success:!0,requestId:x,jobId:f,senderIdentity:u.senderIdentity}}catch(e){return{success:!1,error:e.message}}}async function w(e){try{let t=await fetch(`${l.RELAYER_URL}/status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobIds:e})});if(!t.ok)throw Error(`Failed to check job statuses: ${t.status}`);let r=await t.json(),s=Array.isArray(r)?r:r.jobs||[],a={};for(let e of s){let t=e.withdrawalRequestId||e._id;a[t]||(a[t]=[]),a[t].push(e)}return{jobs:Object.entries(a).map(([e,t])=>{let r=t.every(e=>"SUCCESS"===e.status),s=t.some(e=>"FAILED"===e.status),a=t.some(e=>"PROCESSING"===e.status),n=t.find(e=>e.stellarTransactionHash);return{jobId:e,status:r?"completed":s?"failed":a?"processing":"pending",txHash:n?.stellarTransactionHash}})}}catch(e){return console.error("Error checking job statuses:",e),{jobs:[]}}}let y="tesseract_privacy_pay";function g(e){let t=localStorage.getItem(y);if(!t)return{walletAddress:e,deposits:{},withdrawals:{}};try{return JSON.parse(t)[e]||{walletAddress:e,deposits:{},withdrawals:{}}}catch{return{walletAddress:e,deposits:{},withdrawals:{}}}}function v(e){let t=localStorage.getItem(y),r={};if(t)try{r=JSON.parse(t)}catch{r={}}r[e.walletAddress]=e,localStorage.setItem(y,JSON.stringify(r))}function j(e){return Object.values(g(e).deposits).sort((e,t)=>t.timestamp-e.timestamp)}function N(e){return Object.values(g(e).withdrawals).sort((e,t)=>t.timestamp-e.timestamp)}function A(e,t,r,s){let a=g(e);a.deposits[t]&&(a.deposits[t].status=r,s&&(a.deposits[t].txHash=s),v(a))}var S=e.i(12519);function k({onSuccess:e}){let{walletState:a}=(0,s.useWallet)(),{address:n,isConnected:i}=a,[o,l]=(0,r.useState)(""),[c,x]=(0,r.useState)("idle"),[b,m]=(0,r.useState)(null),[w,y]=(0,r.useState)(null),[j,N]=(0,r.useState)(null),k=async()=>{if(!n||!o)return;let t=parseFloat(o);if(isNaN(t)||t<=0)return void m("Please enter a valid amount");m(null),y(null);try{var r;let s;x("generating");let a=await u(),i=Math.floor(1e9*Math.random()),o=await d(a,i);N(o);let l=await h(o,n);console.log("ðŸ”‘ [Deposit] Identity Details:"),console.log("   HashLN:",o),console.log("   Depositor Address:",n),console.log("   Expected Identity:",l),r={hashLN:o,identity:l,amount:t,txHash:"",timestamp:Date.now(),status:"pending"},(s=g(n)).deposits[r.hashLN]=r,v(s),x("building");let c=await f({depositorAddress:n,hashLN:o,amount:t});x("signing");let b=await (0,S.signTransaction)(c,{networkPassphrase:"Test SDF Network ; September 2015"});if("string"==typeof b)throw Error("Signing was cancelled");let m=b.signedTxXdr;x("submitting");let w=await p(m);if(w.success&&w.txHash)y(w.txHash),x("success"),A(n,o,"confirmed",w.txHash),e?.(w.txHash,o);else throw Error(w.error||"Transaction failed")}catch(e){console.error("Deposit error:",e),m(e.message||"Deposit failed"),x("error"),j&&n&&A(n,j,"failed")}},_=()=>{switch(c){case"generating":return"Generating secure hash...";case"building":return"Building transaction...";case"signing":return"Please sign in Freighter...";case"submitting":return"Submitting to Stellar...";case"success":return"Deposit successful!";case"error":return b||"An error occurred";default:return null}},E=["generating","building","signing","submitting"].includes(c);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white/60 mb-2",children:"Deposit Amount (USDC)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"number",value:o,onChange:e=>l(e.target.value),placeholder:"0.00",disabled:E,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed"}),(0,t.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/40 text-sm",children:"USDC"})]})]}),_()&&(0,t.jsxs)("div",{className:`flex items-center gap-3 p-4 rounded-xl ${"success"===c?"bg-green-500/10 border border-green-500/20":"error"===c?"bg-red-500/10 border border-red-500/20":"bg-white/5 border border-white/10"}`,children:[E&&(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),"success"===c&&(0,t.jsx)("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"error"===c&&(0,t.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,t.jsx)("span",{className:`text-sm ${"success"===c?"text-green-400":"error"===c?"text-red-400":"text-white/60"}`,children:_()})]}),w&&(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-white/40 mb-2",children:"Transaction Hash"}),(0,t.jsx)("a",{href:`https://stellar.expert/explorer/testnet/tx/${w}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-sm text-blue-400 hover:text-blue-300 transition-colors break-all",children:w})]}),(0,t.jsx)("button",{onClick:k,disabled:!i||!o||E,className:`w-full py-4 rounded-xl font-semibold transition-all ${!i||!o||E?"bg-white/10 text-white/30 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white"}`,children:i?E?_():"Deposit to Privacy Pool":"Connect Wallet First"})]})}function _({onSuccess:e}){let{walletState:a}=(0,s.useWallet)(),{address:i,isConnected:l}=a,[c,d]=(0,r.useState)(""),[u,x]=(0,r.useState)([{address:"",amount:""}]),[f,p]=(0,r.useState)("idle"),[b,w]=(0,r.useState)(null),[y,N]=(0,r.useState)(null),[A,S]=(0,r.useState)("manual"),[k,_]=(0,r.useState)(null),[E,C]=(0,r.useState)(null),U=(0,r.useRef)(null),L=i?j(i):[],R=e=>{S(e),_(null),C(null),"manual"===e&&x([{address:"",amount:""}])},P=(e,t,r)=>{let s=[...u];s[e][t]=r,x(s)},T=()=>u.reduce((e,t)=>{let r=parseFloat(t.amount);return e+(isNaN(r)?0:r)},0),M=e=>56===e.address.length&&e.address.startsWith("G")&&!isNaN(parseFloat(e.amount))&&parseFloat(e.amount)>0,I=u.every(M),B=async()=>{if(i&&c&&I){w(null),N(null);try{var t;let r;p("encrypting");let s={};u.forEach(e=>{s[e.address]=e.amount});let a=await h(c,i);console.log("ðŸ”‘ [Withdrawal] Identity Details:"),console.log("   HashLN:",c),console.log("   Sender Address:",i),console.log("   Expected Identity (frontend):",a);let o=n.Keypair.fromPublicKey(i).rawPublicKey();console.log("   Raw Public Key (base64):",btoa(String.fromCharCode(...o))),p("submitting");let l=await m({hashLN:c,recipients:s,senderPublicKey:i,senderRawPublicKey:o});if(!l.success)throw Error(l.error||"Relayer rejected the withdrawal request");if(!l.requestId)throw console.error("[Withdrawal] Missing requestId in result:",l),Error("Relayer returned success but no request ID");N(l.requestId),p("success"),t={requestId:l.requestId,jobId:l.jobId,hashLN:c,totalAmount:T(),recipients:s,timestamp:Date.now(),status:"pending",senderIdentity:l.senderIdentity},(r=g(i)).withdrawals[t.requestId]=t,v(r),e?.(l.requestId)}catch(e){console.error("Withdrawal error:",e),w(e.message||"Withdrawal failed"),p("error")}}},O=()=>{switch(f){case"encrypting":return"Encrypting withdrawal request...";case"submitting":return"Submitting to relayer...";case"success":return"Withdrawal request submitted!";case"error":return b||"An error occurred";default:return null}},D=["encrypting","submitting"].includes(f);return(0,t.jsxs)("div",{className:"space-y-6 overflow-y-auto min-h-[470px] max-h-[500px]",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white/60 mb-2",children:"Select Deposit"}),L.length>0?(0,t.jsxs)("select",{value:c,onChange:e=>d(e.target.value),disabled:D,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all disabled:opacity-50",children:[(0,t.jsx)("option",{value:"",children:"Select from your deposits"}),L.filter(e=>"confirmed"===e.status).map(e=>(0,t.jsxs)("option",{value:e.hashLN,children:[e.hashLN.slice(0,16),"... (",e.amount," USDC)"]},e.hashLN))]}):(0,t.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"Enter your deposit hash",disabled:D,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all disabled:opacity-50 font-mono text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white/60",children:"Recipients"}),(0,t.jsxs)("div",{className:"flex items-center gap-1 p-1 bg-white/5 rounded-lg",children:[(0,t.jsx)("button",{onClick:()=>R("manual"),disabled:D,className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${"manual"===A?"bg-purple-500/20 text-purple-400":"text-white/40 hover:text-white/60"} disabled:opacity-50`,children:"Manual"}),(0,t.jsx)("button",{onClick:()=>R("csv"),disabled:D,className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${"csv"===A?"bg-purple-500/20 text-purple-400":"text-white/40 hover:text-white/60"} disabled:opacity-50`,children:"CSV Upload"})]})]}),"csv"===A&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("input",{ref:U,type:"file",accept:".csv,.txt",onChange:e=>{let t=e.target.files?.[0];if(!t)return;_(null),C(t.name);let r=new FileReader;r.onload=e=>{let t=(e=>{let t=e.trim().split("\n"),r=[],s=0,a=t[0]?.toLowerCase()||"";(a.includes("address")||a.includes("recipient")||a.includes("amount"))&&(s=1);for(let e=s;e<t.length;e++){let s=t[e].trim();if(!s)continue;let a=s.split(",").map(e=>e.trim());if(a.length<2)return{recipients:[],error:`Invalid format at line ${e+1}: expected "address,amount"`};let n=a[0],i=a[1];if(!n||56!==n.length||!n.startsWith("G"))return{recipients:[],error:`Invalid Stellar address at line ${e+1}: ${n}`};let o=parseFloat(i);if(isNaN(o)||o<=0)return{recipients:[],error:`Invalid amount at line ${e+1}: ${i}`};r.push({address:n,amount:i})}if(0===r.length)return{recipients:[],error:"No valid recipients found in CSV"};let n=o.calculateMaxRecipients();return r.length>n?{recipients:[],error:`Maximum ${n} recipients allowed per withdrawal`}:{recipients:r}})(e.target?.result);t.error?(_(t.error),x([{address:"",amount:""}])):(x(t.recipients),_(null))},r.onerror=()=>{_("Failed to read file")},r.readAsText(t),U.current&&(U.current.value="")},className:"hidden"}),E?(0,t.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-white",children:E}),(0,t.jsxs)("p",{className:"text-xs text-white/40",children:[u.filter(e=>e.address&&e.amount).length," recipients loaded"]})]})]}),(0,t.jsx)("button",{onClick:()=>{x([{address:"",amount:""}]),C(null),_(null)},disabled:D,className:"p-2 hover:bg-white/10 rounded-lg transition-colors disabled:opacity-50",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-white/40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):(0,t.jsxs)("button",{onClick:()=>U.current?.click(),disabled:D,className:"w-full border-2 border-dashed border-white/20 hover:border-purple-500/50 rounded-xl p-6 text-center transition-all disabled:opacity-50",children:[(0,t.jsx)("svg",{className:"w-8 h-8 mx-auto mb-2 text-white/40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,t.jsx)("p",{className:"text-sm text-white/60",children:"Click to upload CSV"}),(0,t.jsx)("p",{className:"text-xs text-white/30 mt-1",children:"Format: address,amount"})]}),k&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-red-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{className:"text-xs text-red-400",children:k})]}),E&&u.length>0&&!k&&(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-3 max-h-48 overflow-y-auto",children:[(0,t.jsx)("p",{className:"text-xs text-white/40 mb-2",children:"Preview:"}),(0,t.jsxs)("div",{className:"space-y-1",children:[u.slice(0,5).map((e,r)=>(0,t.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,t.jsx)("span",{className:"font-mono text-white/60 truncate max-w-[60%]",children:e.address}),(0,t.jsxs)("span",{className:"text-purple-400",children:[e.amount," USDC"]})]},r)),u.length>5&&(0,t.jsxs)("p",{className:"text-xs text-white/30 text-center pt-1",children:["+",u.length-5," more recipients"]})]})]})]}),"manual"===A&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex justify-end mb-2",children:(0,t.jsx)("button",{onClick:()=>{x([...u,{address:"",amount:""}])},disabled:D||u.length>=o.calculateMaxRecipients(),className:"text-sm text-blue-400 hover:text-blue-300 transition-colors disabled:opacity-50",children:"+ Add Recipient"})}),(0,t.jsx)("div",{className:"space-y-3",children:u.map((e,r)=>(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("input",{type:"text",value:e.address,onChange:e=>P(r,"address",e.target.value),placeholder:"G...",disabled:D,className:`flex-1 bg-white/5 border rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:ring-1 transition-all disabled:opacity-50 font-mono text-sm ${e.address&&!e.address.startsWith("G")?"border-red-500/50 focus:border-red-500/50 focus:ring-red-500/50":"border-white/10 focus:border-blue-500/50 focus:ring-blue-500/50"}`}),(0,t.jsx)("input",{type:"number",value:e.amount,onChange:e=>P(r,"amount",e.target.value),placeholder:"Amount",disabled:D,className:"w-32 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all disabled:opacity-50"}),u.length>1&&(0,t.jsx)("button",{onClick:()=>{u.length>1&&x(u.filter((e,t)=>t!==r))},disabled:D,className:"p-3 hover:bg-white/10 rounded-xl transition-colors disabled:opacity-50",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},r))})]})]}),(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-white/60",children:"Total Withdrawal"}),(0,t.jsxs)("span",{className:"text-xl font-semibold text-white",children:[T().toFixed(2)," USDC"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-2 text-sm",children:[(0,t.jsx)("span",{className:"text-white/40",children:"Recipients"}),(0,t.jsx)("span",{className:"text-white/60",children:u.filter(M).length})]})]}),O()&&(0,t.jsxs)("div",{className:`flex items-center gap-3 p-4 rounded-xl ${"success"===f?"bg-green-500/10 border border-green-500/20":"error"===f?"bg-red-500/10 border border-red-500/20":"bg-white/5 border border-white/10"}`,children:[D&&(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"}),"success"===f&&(0,t.jsx)("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"error"===f&&(0,t.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,t.jsx)("span",{className:`text-sm ${"success"===f?"text-green-400":"error"===f?"text-red-400":"text-white/60"}`,children:O()})]}),y&&(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-white/40 mb-2",children:"Request ID"}),(0,t.jsx)("code",{className:"font-mono text-sm text-purple-400 break-all",children:y})]}),(0,t.jsx)("button",{onClick:B,disabled:!l||!c||!I||D,className:`w-full py-4 rounded-xl font-semibold transition-all ${!l||!c||!I||D?"bg-white/10 text-white/30 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white"}`,children:l?D?O():"Submit Private Withdrawal":"Connect Wallet First"})]})}function E(){let{walletState:e}=(0,s.useWallet)(),{address:a}=e,[n,i]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)("deposits"),h=(0,r.useRef)(o);(0,r.useEffect)(()=>{h.current=o},[o]);let u=(0,r.useCallback)(async()=>{if(!a)return;let e=h.current.filter(e=>e.jobId&&!e.txHash);if(0===e.length)return;let t=e.map(e=>e.jobId);try{let e=await w(t),r=!1;if(e.jobs.forEach(e=>{var t,s,n;let i,o;t=e.jobId,s=e.status,n=e.txHash,i=g(a),(o=Object.values(i.withdrawals).find(e=>e.jobId===t||e.requestId===t))&&(o.status=s,n&&(o.txHash=n),i.withdrawals[o.requestId]=o,v(i)),r=!0}),r){let e=N(a);l(e),h.current=e}}catch(e){console.error("Error polling job statuses:",e)}},[a]);(0,r.useEffect)(()=>{if(!a)return;i(j(a));let e=N(a);l(e),h.current=e,u()},[a]),(0,r.useEffect)(()=>{if(!a)return;let e=setInterval(u,18e4);return()=>clearInterval(e)},[a,u]);let x=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=e=>{switch(e){case"confirmed":case"completed":return"text-green-400 bg-green-400/10";case"pending":case"processing":return"text-yellow-400 bg-yellow-400/10";case"failed":return"text-red-400 bg-red-400/10";default:return"text-white/40 bg-white/10"}};return a?0===n.length&&0===o.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("svg",{className:"w-12 h-12 text-white/20 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,t.jsx)("p",{className:"text-white/40",children:"No transactions yet"}),(0,t.jsx)("p",{className:"text-white/30 text-sm mt-1",children:"Make a deposit to get started"})]}):(0,t.jsxs)("div",{className:"space-y-4 overflow-y-auto scrollbar-hide min-h-[500px] overflow-x-hidden max-h-[500px]",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsxs)("button",{onClick:()=>d("deposits"),className:`px-2 py-2 rounded-4xl text-xs font-medium transition-all flex items-center gap-1 ${"deposits"===c?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-white/5 text-white/60 hover:bg-white/10 border border-transparent"}`,children:[(0,t.jsx)("span",{children:"Deposits"}),(0,t.jsxs)("span",{children:["(",n.length,")"]})]}),(0,t.jsxs)("button",{onClick:()=>d("withdrawals"),className:`px-2 py-2 rounded-4xl text-xs font-medium transition-all flex items-center gap-1${"withdrawals"===c?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"bg-white/5 text-white/60 hover:bg-white/10 border border-transparent"}`,children:[(0,t.jsx)("span",{children:"Withdrawals "}),(0,t.jsxs)("span",{children:["(",o.length,")"]})]})]}),"deposits"===c&&(0,t.jsx)("div",{className:"space-y-3",children:n.map(e=>(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 hover:border-white/20 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-lg bg-blue-500/20 flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-white font-medium text-xs",children:[e.amount," USDC"]}),(0,t.jsx)("p",{className:"text-white/40 text-[9px]",children:x(e.timestamp)})]})]}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-[10px] font-medium ${f(e.status)}`,children:e.status})]}),(0,t.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white/40",children:"Hash"}),(0,t.jsxs)("code",{className:"text-white/60 font-mono text-[9px]",children:[e.hashLN.slice(0,16),"..."]})]}),e.txHash&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white/40 text-xs",children:"Transaction"}),(0,t.jsxs)("a",{href:`https://stellar.expert/explorer/testnet/tx/${e.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 font-mono text-[9px]",children:[e.txHash.slice(0,8),"..."]})]})]})]},e.hashLN))}),"withdrawals"===c&&(0,t.jsx)("div",{className:"space-y-3",children:o.map(e=>(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 hover:border-white/20 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center",children:"completed"===e.status?(0,t.jsx)("svg",{className:"w-4 h-4 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):"failed"===e.status?(0,t.jsx)("svg",{className:"w-4 h-4 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,t.jsx)("div",{className:"w-3 h-3 border-2 border-purple-400 border-t-transparent rounded-full animate-spin"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-white font-medium",children:[e.totalAmount," USDC"]}),(0,t.jsx)("p",{className:"text-white/40 text-xs",children:x(e.timestamp)})]})]}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${f(e.status)}`,children:e.status})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white/40",children:"Recipients"}),(0,t.jsx)("span",{className:"text-white/60",children:Object.keys(e.recipients).length})]}),e.jobId&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white/40",children:"Job ID"}),(0,t.jsxs)("code",{className:"text-white/60 font-mono text-xs",children:[e.jobId.slice(0,8),"..."]})]}),e.txHash&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white/40",children:"Transaction"}),(0,t.jsxs)("a",{href:`https://stellar.expert/explorer/testnet/tx/${e.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-purple-400 hover:text-purple-300 font-mono text-xs flex items-center gap-1",children:[e.txHash.slice(0,8),"...",(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),"failed"===e.status&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white/40",children:"Status"}),(0,t.jsxs)("span",{className:"text-red-400 text-xs flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),"Failed"]})]}),("pending"===e.status||"processing"===e.status)&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white/40",children:"Status"}),(0,t.jsxs)("span",{className:"text-yellow-400 text-xs flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),"processing"===e.status?"Processing...":"Pending..."]})]})]})]},e.requestId))})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("svg",{className:"w-12 h-12 text-white/20 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,t.jsx)("p",{className:"text-white/40",children:"Connect wallet to view history"})]})}var C=e.i(48020);let U=r.forwardRef(({className:e,children:s,...a},n)=>{let i=r.useRef(null),[o,l]=r.useState(!1),[c,d]=r.useState([]),h=r.useRef(0),u=r.useCallback((e,t)=>{let r=e/(i.current?.offsetWidth||0),s=`linear-gradient(to right, var(--circle-start) ${100*r}%, var(--circle-end) ${100*r}%)`;d(r=>[...r,{id:Date.now(),x:e,y:t,color:s,fadeState:null}])},[]),x=r.useCallback(e=>{if(!o)return;let t=Date.now();if(t-h.current>100){h.current=t;let r=e.currentTarget.getBoundingClientRect();u(e.clientX-r.left,e.clientY-r.top)}},[o,u]),f=r.useCallback(()=>{l(!0)},[]),p=r.useCallback(()=>{l(!1)},[]);return r.useEffect(()=>{c.forEach(e=>{e.fadeState||(setTimeout(()=>{d(t=>t.map(t=>t.id===e.id?{...t,fadeState:"in"}:t))},0),setTimeout(()=>{d(t=>t.map(t=>t.id===e.id?{...t,fadeState:"out"}:t))},1e3),setTimeout(()=>{d(t=>t.filter(t=>t.id!==e.id))},2200))})},[c]),(0,t.jsxs)("button",{ref:i,className:(0,C.cn)("relative isolate px-8 py-3 rounded-3xl","text-foreground font-medium text-base leading-6","backdrop-blur-lg bg-[rgba(43,55,80,0.1)]","cursor-pointer overflow-hidden","before:content-[''] before:absolute before:inset-0","before:rounded-[inherit] before:pointer-events-none","before:z-[1]","before:shadow-[inset_0_0_0_1px_rgba(170,202,255,0.2),inset_0_0_16px_0_rgba(170,202,255,0.1),inset_0_-3px_12px_0_rgba(170,202,255,0.15),0_1px_3px_0_rgba(0,0,0,0.50),0_4px_12px_0_rgba(0,0,0,0.45)]","before:mix-blend-multiply before:transition-transform before:duration-300","active:before:scale-[0.975]",e),onPointerMove:x,onPointerEnter:f,onPointerLeave:p,...a,style:{"--circle-start":"var(--tw-gradient-from, #a0d9f8)","--circle-end":"var(--tw-gradient-to, #3a5bbf)"},children:[c.map(({id:e,x:r,y:s,color:a,fadeState:n})=>(0,t.jsx)("div",{className:(0,C.cn)("absolute w-3 h-3 -translate-x-1/2 -translate-y-1/2 rounded-full","blur-lg pointer-events-none z-[-1] transition-opacity duration-300","in"===n&&"opacity-75","out"===n&&"opacity-0 duration-[1.2s]",!n&&"opacity-0"),style:{left:r,top:s,background:a}},e)),s]})});U.displayName="HoverButton";var L=e.i(88175);function R(){let{walletState:e,formatAddress:a}=(0,s.useWallet)(),{isConnected:n,address:i,network:o}=e,[l,c]=(0,r.useState)("deposit");return(0,t.jsxs)("div",{className:"min-h-screen text-white font-mono",children:[(0,t.jsx)(L.default,{color:"100, 50, 250",density:50,speed:1.5}),(0,t.jsxs)("nav",{className:"w-full flex items-center justify-between py-6 px-8 md:px-16 fixed top-0 left-0 z-50 backdrop-blur-lg bg-black/60 border-b border-white/5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,t.jsxs)("a",{href:"/dashboard",className:"flex items-center gap-2 text-white/80 hover:text-white transition-colors",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,t.jsx)("span",{className:"hidden md:inline",children:"Back"})]}),(0,t.jsx)("div",{className:"h-6 w-px bg-white/20 font-mono"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("img",{src:"/Tess_BW.svg",alt:"Tesseract",className:"h-6 w-6 rounded"}),(0,t.jsx)("span",{className:"text-lg font-bold font-mono",children:"Privacy Pay"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[o&&(0,t.jsxs)("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-full text-xs",children:[(0,t.jsx)("div",{className:`w-2 h-2 rounded-full ${"TESTNET"===o.network?"bg-yellow-500":"bg-green-500"} animate-pulse`}),(0,t.jsx)("span",{className:"text-white/60",children:o.network})]}),n&&i?(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/5 rounded-xl border border-white/10",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,t.jsx)("span",{className:"font-mono text-sm text-white/80",children:a(i)})]}):(0,t.jsx)(s.ConnectWalletButton,{})]})]}),(0,t.jsx)("div",{className:"pt-20 px-4 md:px-8 font-mono",children:(0,t.jsxs)("div",{className:"max-w-[950px] mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8 mt-8",children:[(0,t.jsx)("h1",{className:"text-2xl md:text-4xl lg:text-5xl font-bold tracking-tighter text-white mb-6 drop-shadow-2xl",children:(0,t.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-b from-white to-muted font-mono",children:"Privacy          "})}),(0,t.jsx)("p",{className:"text-xs md:text-sm lg:text-md font-italic tracking-tighter text-white/46 mb-6 drop-shadow-2xl",children:"Deposit and withdraw funds with complete privacy. Your transaction details are encrypted and hidden from the public ledger."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2 p-1 bg-white/5 rounded-xl",children:[(0,t.jsxs)(U,{onClick:()=>c("deposit"),className:`flex-1 flex items-center justify-center gap-2 py-2.5 px-4 rounded-2xl font-medium transition-all ${"deposit"===l?"bg-white text-black":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),"Deposit"]}),(0,t.jsxs)(U,{onClick:()=>c("withdraw"),className:`flex-1 flex items-center justify-center gap-2 py-2.5 px-4 rounded-2xl font-medium transition-all ${"withdraw"===l?"bg-white text-black":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"Withdraw"]})]}),(0,t.jsx)("div",{className:" backdrop-blur-lg border border-white/10 rounded-2xl p-6 ",children:"deposit"===l?(0,t.jsx)(k,{}):(0,t.jsx)(_,{})}),"deposit"===l&&(0,t.jsxs)("div",{className:"bg-black/40 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4 ",children:"How Privacy Pay Works"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center text-center p-4 bg-white/5 rounded-xl",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center mb-3",children:(0,t.jsx)("span",{className:"text-blue-400 font-bold",children:"1"})}),(0,t.jsx)("h4",{className:"font-medium mb-1",children:"Deposit"}),(0,t.jsx)("p",{className:"text-sm text-white/50",children:"Funds are linked to a unique hash, not your address"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center text-center p-4 bg-white/5 rounded-xl",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-purple-500/20 flex items-center justify-center mb-3",children:(0,t.jsx)("span",{className:"text-purple-400 font-bold",children:"2"})}),(0,t.jsx)("h4",{className:"font-medium mb-1",children:"Encrypt"}),(0,t.jsx)("p",{className:"text-sm text-white/50",children:"Withdrawal details are encrypted end-to-end"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center text-center p-4 bg-white/5 rounded-xl",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center mb-3",children:(0,t.jsx)("span",{className:"text-green-400 font-bold",children:"3"})}),(0,t.jsx)("h4",{className:"font-medium mb-1",children:"Withdraw"}),(0,t.jsx)("p",{className:"text-sm text-white/50",children:"Recipients receive funds privately"})]})]})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"bg-black/40 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:[(0,t.jsx)("h3",{className:"text-md font-semibold mb-4",children:"Your Activity"}),(0,t.jsx)(E,{})]})})]})]})})]})}function P(){return(0,t.jsx)(s.WalletProvider,{children:(0,t.jsx)(R,{})})}e.s(["default",()=>P],91089)}]);